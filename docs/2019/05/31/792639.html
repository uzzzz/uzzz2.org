<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>运维常用命令大全，从入门到精通就靠它了！ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="运维常用命令大全，从入门到精通就靠它了！" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Linux提供了大量的命令，利用它可以有效地完成大量的工作，如磁盘操作、文件存取、目录操作、进程管理、文件权限设定等。所以，在Linux系统上工作离不开使用系统提供的命令。要想真正理解Linux系统，就必须从Linux命令学起，通过基础的命令学习可以进一步理解Linux系统。 安装与登陆命令 login 1.作用 login的作用是登录系统，它的使用权限是所有用户。 2.格式 login [name][－p ][－h 主机名称] 3.主要参数 －p:通知login保持现在的环境参数。 －h:用来向远程登录的之间传输用户名。 如果选择用命令行模式登录Linux的话，那么看到的第一个Linux命令就是login：。 一般界面是这样的： Manddrake Linux release 9.1(Bamboo) for i586renrel 2.4.21－0.13mdk on i686 / tty1localhost login:rootpassword: 上面代码中，第一行是Linux发行版本号，第二行是内核版本号和登录的虚拟控制台，我们在第三行输入登录名，按“Enter”键在Password后输入账户密码，即可登录系统。出于安全考虑，输入账户密码时字符不会在屏幕上回显，光标也不移动。 登录后会看到下面这个界面（以超级用户为例）： [root@localhost root]#last login:Tue ,Nov 18 10:00:55 on vc/1 上面显示的是登录星期、月、日、时间和使用的虚拟控制台。 4.应用技巧 Linux是一个真正的多用户操作系统，可以同时接受多个用户登录，还允许一个用户进行多次登录。这是因为Linux和许多版本的Unix一样，提供了虚拟控制台的访问方式，允许用户在同一时间从控制台（系统的控制台是与系统直接相连的监视器和键盘）进行多次登录。每个虚拟控制台可以看作是一个独立的工作站，工作台之间可以切换。虚拟控制台的切换可以通过按下Alt键和一个功能键来实现，通常使用F1-F6 。 例如，用户登录后，按一下“Alt+F2”键，用户就可以看到上面出现的“login:”提示符，说明用户看到了第二个虚拟控制台。然后只需按“Alt+ F1”键，就可以回到第一个虚拟控制台。一个新安装的Linux系统允许用户使用“Alt+F1”到“Alt+F6”键来访问前六个虚拟控制台。虚拟控制台最有用的是，当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作，关闭这个程序。 shutdown 1.作用 shutdown命令的作用是关闭计算机，它的使用权限是超级用户。 2.格式 shutdown [－h][－i][－k][－m][－t] 3.重要参数 －t：在改变到其它运行级别之前，告诉init程序多久以后关机。 －k：并不真正关机，只是送警告信号给每位登录者。 －h：关机后关闭电源。 －c：cancel current process取消目前正在执行的关机程序。所以这个选项当然没有时间参数，但是可以输入一个用来解释的讯息，而这信息将会送到每位使用者。 －F：在重启计算机时强迫fsck。 －time：设定关机前的时间。 －m: 将系统改为单用户模式。 －i：关机时显示系统信息。 4.命令说明 shutdown命令可以安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭Linux系统，这是十分危险的。因为Linux与Windows不同，其后台运行着许多进程，所以强制关机可能会导致进程的数据丢失，使系统处于不稳定的状态，甚至在有的系统中会损坏硬件设备（硬盘）。在系统关机前使用 shutdown命令，系统管理员会通知所有登录的用户系统将要关闭，并且login指令会被冻结，即新的用户不能再登录。 halt 1.作用 halt命令的作用是关闭系统，它的使用权限是超级用户。 2.格式 halt [－n] [－w] [－d] [－f] [－i] [－p] 3.主要参数说明 －n：防止sync系统调用，它用在用fsck修补根分区之后，以阻止内核用老版本的超级块覆盖修补过的超级块。 －w：并不是真正的重启或关机,只是写wtmp（/var/log/wtmp）纪录。 －f：没有调用shutdown，而强制关机或重启。 －i：关机（或重启）前，关掉所有的网络接口。 －f：强迫关机，不呼叫shutdown这个指令。 －p: 当关机的时候顺便做关闭电源的动作。 －d：关闭系统，但不留下纪录。　 4.命令说明 halt就是调用shutdown －h。halt执行时，杀死应用进程，执行sync(将存于buffer中的资料强制写入硬盘中)系统调用，文件系统写操作完成后就会停止内核。若系统的运行级别为0或6，则关闭系统；否则以shutdown指令（加上－h参数）来取代。　 reboot 1.作用 reboot命令的作用是重新启动计算机，它的使用权限是系统管理者。 2.格式 reboot [－n] [－w] [－d] [－f] [－i] 3.主要参数 －n: 在重开机前不做将记忆体资料写回硬盘的动作。 －w: 并不会真的重开机，只是把记录写到/var/log/wtmp文件里。 －d: 不把记录写到/var/log/wtmp文件里（－n这个参数包含了－d）。 －i: 在重开机之前先把所有与网络相关的装置停止。 install 1.作用 install命令的作用是安装或升级软件或备份数据，它的使用权限是所有用户。 2.格式 (1)install [选项]... 来源 目的地 (2)install [选项]... 来源... 目录 (3)install －d [选项]... 目录... 在前两种格式中，会将&lt;来源&gt;复制至&lt;目的地&gt;或将多个&lt;来源&gt;文件复制至已存在的&lt;目录&gt;，同时设定权限模式及所有者/所属组。在第三种格式中，会创建所有指定的目录及它们的主目录。长选项必须用的参数在使用短选项时也是必须的。 3.主要参数 －－backup[=CONTROL]：为每个已存在的目的地文件进行备份。 －b：类似 －－backup，但不接受任何参数。 －c：(此选项不作处理)。 －d，－－directory：所有参数都作为目录处理，而且会创建指定目录的所有主目录。 －D：创建&lt;目的地&gt;前的所有主目录，然后将&lt;来源&gt;复制至 &lt;目的地&gt;；在第一种使用格式中有用。 －g，－－group=组：自行设定所属组，而不是进程目前的所属组。 －m，－－mode=模式：自行设定权限模式 (像chmod)，而不是rwxr－xr－x。 －o，－－owner=所有者：自行设定所有者 (只适用于超级用户)。 －p，－－preserve－timestamps：以&lt;来源&gt;文件的访问/修改时间作为相应的目的地文件的时间属性。 －s，－－strip：用strip命令删除symbol table，只适用于第一及第二种使用格式。 －S，－－suffix=后缀：自行指定备份文件的&lt;后缀&gt;。 －v，－－verbose：处理每个文件/目录时印出名称。 －－help：显示此帮助信息并离开。 －－version：显示版本信息并离开。 mount 1.作用 mount命令的作用是加载文件系统，它的用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 mount －a [－fv] [－t vfstype] [－n] [－rw] [－F] device dir 3.主要参数 －h：显示辅助信息。 －v：显示信息，通常和－f用来除错。 －a：将/etc/fstab中定义的所有文件系统挂上。 －F：这个命令通常和－a一起使用，它会为每一个mount的动作产生一个行程负责执行。在系统需要挂上大量NFS文件系统时可以加快加载的速度。 －f：通常用于除错。它会使mount不执行实际挂上的动作，而是模拟整个挂上的过程，通常会和－v一起使用。 －t vfstype：显示被加载文件系统的类型。 －n：一般而言，mount挂上后会在/etc/mtab中写入一笔资料，在系统中没有可写入文件系统的情况下，可以用这个选项取消这个动作。 4.应用技巧 在Linux和Unix系统上，所有文件都是作为一个大型树（以/为根）的一部分访问的。要访问CD-ROM上的文件，需要将CD-ROM设备挂装在文件树中的某个挂装点。如果发行版安装了自动挂装包，那么这个步骤可自动进行。在Linux中，如果要使用硬盘、光驱等储存设备，就得先将它加载，当储存设备挂上了之后，就可以把它当成一个目录来访问。挂上一个设备使用mount命令。在使用mount这个指令时，至少要先知道下列三种信息：要加载对象的文件系统类型、要加载对象的设备名称及要将设备加载到哪个目录下。 （1）Linux可以识别的文件系统 ◆ Windows 95/98常用的FAT 32文件系统：vfat ； ◆ Win NT/2000 的文件系统：ntfs ； ◆ OS/2用的文件系统：hpfs； ◆ Linux用的文件系统：ext2、ext3； ◆ CD-ROM光盘用的文件系统：iso9660。 虽然vfat是指FAT 32系统，但事实上它也兼容FAT 16的文件系统类型。 （2）确定设备的名称 在Linux中，设备名称通常都存在/dev里。这些设备名称的命名都是有规则的，可以用“推理”的方式把设备名称找出来。例如，/dev/hda1这个 IDE设备，hd是Hard Disk(硬盘)的，sd是SCSI Device，fd是Floppy Device(或是Floppy Disk?)。a代表第一个设备，通常IDE接口可以接上4个IDE设备(比如4块硬盘)。所以要识别IDE硬盘的方法分别就是hda、hdb、hdc、 hdd。hda1中的“1”代表hda的第一个硬盘分区 (partition)，hda2代表hda的第二主分区，第一个逻辑分区从hda5开始，依此类推。此外，可以直接检查/var/log/messages文件，在该文件中可以找到计算机开机后系统已辨认出来的设备代号。 （3）查找挂接点 在决定将设备挂接之前，先要查看一下计算机是不是有个/mnt的空目录，该目录就是专门用来当作挂载点(Mount Point)的目录。建议在/mnt里建几个/mnt/cdrom、/mnt/floppy、/mnt/mo等目录，当作目录的专用挂载点。举例而言，如要挂载下列5个设备，其执行指令可能如下 (假设都是Linux的ext2系统，如果是Windows XX请将ext2改成vfat)： 软盘 ===&gt;mount －t ext2 /dev/fd0 /mnt/floppycdrom ===&gt;mount －t iso9660 /dev/hdc /mnt/cdromSCSI cdrom ===&gt;mount －t iso9660 /dev/sdb /mnt/scdromSCSI cdr ===&gt;mount －t iso9660 /dev/sdc /mnt/scdr 不过目前大多数较新的Linux发行版本（包括红旗 Linux、中软Linux、Mandrake Linux等）都可以自动挂装文件系统，但Red Hat Linux除外。 umount 1.作用 umount命令的作用是卸载一个文件系统，它的使用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 unmount －a [－fFnrsvw] [－t vfstype] [－n] [－rw] [－F] device dir 3.使用说明 umount命令是mount命令的逆操作，它的参数和使用方法和mount命令是一样的。Linux挂装CD-ROM后，会锁定CD—ROM，这样就不能用CD-ROM面板上的Eject按钮弹出它。但是，当不再需要光盘时，如果已将/cdrom作为符号链接，请使用umount/cdrom来卸装它。仅当无用户正在使用光盘时，该命令才会成功。该命令包括了将带有当前工作目录当作该光盘中的目录的终端窗口。 chsh 1.作用 chsh命令的作用是更改使用者shell设定，它的使用权限是所有使用者。 2.格式 chsh [ －s ] [ －list] [ －－help ] [ －v ] [ username ] 3.主要参数 －l：显示系统所有Shell类型。 －v：显示Shell版本号。 4.应用技巧 前面介绍了Linux下有多种Shell，一般缺省的是Bash，如果想更换Shell类型可以使用chsh命令。先输入账户密码，然后输入新Shell类型，如果操作正确系统会显示“Shell change”。其界面一般如下： Changing fihanging shell for caoPassword:New shell [/bin/bash]: /bin/tcsh 上面代码中，[ ]内是目前使用的Shell。普通用户只能修改自己的Shell，超级用户可以修改全体用户的Shell。 exit 1.作用 exit命令的作用是退出系统，它的使用权限是所有用户。 2.格式 exit 3.参数 exit命令没有参数，运行后退出系统进入登录界面。 last 1.作用 last命令的作用是显示近期用户或终端的登录情况，它的使用权限是所有用户。通过last命令查看该程序的log，管理员可以获知谁曾经或企图连接系统。 2.格式 1ast[—n][－f file][－t tty] [—h 节点][－I —IP][—1][－y][1D] 3.主要参数 －n：指定输出记录的条数。 －f file：指定用文件file作为查询用的log文件。 －t tty：只显示指定的虚拟控制台上登录情况。 －h 节点：只显示指定的节点上的登录情况。 －i IP：只显示指定的IP上登录的情况。 －1：用IP来显示远端地址。 －y：显示记录的年、月、日。 －ID：知道查询的用户名。 －x:显示系统关闭、用户登录和退出的历史。 动手练习 上面介绍了Linux安装和登录命令，下面介绍几个实例，动手练习一下刚才讲过的命令。 1.一次运行多个命令 在一个命令行中可以执行多个命令，用分号将各个命令隔开即可，例如： ＃last －x；halt 上面代码表示在显示系统关闭、用户登录和退出的历史后关闭计算机。 2.利用mount挂装文件系统访问Windows系统 许多Linux发行版本现在都可以自动加载Vfat分区来访问Windows系统，而Red Hat各个版本都没有自动加载Vfat分区，因此还需要进行手工操作。 mount可以将Windows分区作为Linux的一个“文件”挂接到Linux的一个空文件夹下，从而将Windows的分区和/mnt这个目录联系起来。因此，只要访问这个文件夹就相当于访问该分区了。首先要在/mnt下建立winc文件夹，在命令提示符下输入下面命令： ＃mount -t vfat /dev/hda1 /mnt/winc 即表示将Windows的C分区挂到Liunx的/mnt/winc目录下。这时，在/mnt/winc目录下就可以看到Windows中C盘的内容了。使用类似的方法可以访问Windows系统的D、E盘。在Linux系统显示Windows的分区一般顺序这样的：hda1为C盘、hda5为D盘、 hda6为E盘……以此类推。上述方法可以查看Windows系统有一个很大的问题，就是Windows中的所有中文文件名或文件夹名全部显示为问号 “？”，而英文却可以正常显示。我们可以通过加入一些参数让它显示中文。还以上面的操作为例，此时输入命令： ＃mount -t vfat -o iocharset=cp936 /dev/hda1 /mnt/winc 现在它就可以正常显示中文了。 3.使用mount加挂闪盘上的文件系统 在Linux下使用闪盘非常简单。Linux对USB设备有很好的支持，当插入闪盘后，闪盘被识别为一个SCSI盘，通常输入以下命令： ＃ mount /dev/sda1 /usb 就能够加挂闪盘上的文件系统。 小知识 Linux命令与Shell 所谓Shell，就是命令解释程序，它提供了程序设计接口，可以使用程序来编程。学习Shell对于Linux初学者理解Linux系统是非常重要的。 Linux系统的Shell作为操作系统的外壳，为用户提供了使用操作系统的接口。Shell是命令语言、命令解释程序及程序设计语言的统称，是用户和 Linux内核之间的接口程序。如果把Linux内核想象成一个球体的中心，Shell就是围绕内核的外层。当从Shell或其它程序向Linux传递命令时，内核会做出相应的反应。Shell在Linux系统的作用和MS DOS下的COMMAND.COM和Windows 95/98 的 explorer.exe相似。Shell虽然不是系统核心的一部分，只是系统核心的一个外延，但它能够调用系统内核的大部分功能。因此，可以说 Shell是Unux/Linux最重要的实用程序。 Linux中的Shell有多种类型，其中最常用的是Bourne Shell(sh)、C Shell(csh)和Korn Shell(ksh)。大多数Linux发行版本缺省的Shell是Bourne Again Shell，它是Bourne Shell的扩展，简称bash，与Bourne Shell完全向后兼容，并且在Bourne Shell的基础上增加了很多特性。bash放在/bin/bash中，可以提供如命令补全、命令编辑和命令历史表等功能。它还包含了很多C Shell和Korn Shell中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。Linux系统中200多个命令中有40个是bash的内部命令，主要包括 exit、less、lp、kill、 cd、pwd、fc、fg等。 文件处理命令 Linux 系统信息存放在文件里，文件与普通的公务文件类似。每个文件都有自己的名字、内容、存放地址及其它一些管理信息，如文件的用户、文件的大小等。文件可以是一封信、一个通讯录，或者是程序的源语句、程序的数据，甚至可以包括可执行的程序和其它非正文内容。 Linux文件系统具有良好的结构，系统提供了很多文件处理程序。这里主要介绍常用的文件处理命令。 file 1.作用&nbsp; 内容判断文件类型，使用权限是所有用户。 2.格式 file通过探测文 file [options] 文件名 3.[options]主要参数 -v：在标准输出后显示版本信息，并且退出。 -z：探测压缩过的文件类型。 -L：允许符合连接。 -f name：从文件namefile中读取要分析的文件名列表。 4.简单说明 使用file命令可以知道某个文件究竟是二进制（ELF格式）的可执行文件, 还是Shell Script文件，或者是其它的什么格式。file能识别的文件类型有目录、Shell脚本、英文文本、二进制可执行文件、C语言源文件、文本文件、DOS的可执行文件。 5.应用实例 如果我们看到一个没有后缀的文件grap，可以使用下面命令： $ file grap grap： English text 此时系统显示这是一个英文文本文件。需要说明的是，file命令不能探测包括图形、音频、视频等多媒体文件类型。 mkdir 1.作用 mkdir命令的作用是建立名称为dirname的子目录，与MS DOS下的md命令类似，它的使用权限是所有用户。 2.格式 mkdir [options] 目录名 3.[options]主要参数 －m, －－mode=模式：设定权限&lt;模式&gt;，与chmod类似。 －p, －－parents：需要时创建上层目录；如果目录早已存在，则不当作错误。 －v, －－verbose：每次创建新目录都显示信息。 －－version：显示版本信息后离开。 4.应用实例 在进行目录创建时可以设置目录的权限，此时使用的参数是“－m”。假设要创建的目录名是“tsk”，让所有用户都有rwx(即读、写、执行的权限)，那么可以使用以下命令： $ mkdir －m 777 tsk grep 1.作用 grep命令可以指定文件中搜索特定的内容，并将含有这些内容的行标准输出。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。 2.格式 grep [options] 3.主要参数 [options]主要参数： －c：只输出匹配行的计数。 －I：不区分大小写（只适用于单字符）。 －h：查询多文件时不显示文件名。 －l：查询多文件时只输出包含匹配字符的文件名。 －n：显示匹配行及行号。 －s：不显示不存在或无匹配文本的错误信息。 －v：显示不包含匹配文本的所有行。 pattern正则表达式主要参数： /：忽略正则表达式中特殊字符的原有含义。 ^：匹配正则表达式的开始行。 $: 匹配正则表达式的结束行。 /&lt;：从匹配正则表达式的行开始。 /&gt;：到匹配正则表达式的行结束。 [ ]：单个字符，如[A]即A符合要求 。 [ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。 。：所有的单个字符。 * ：有字符，长度可以为0。 正则表达式是Linux/Unix系统中非常重要的概念。正则表达式（也称为“regex”或“regexp”）是一个可以描述一类字符串的模式（Pattern）。如果一个字符串可以用某个正则表达式来描述，我们就说这个字符和该正则表达式匹配（Match）。这和DOS中用户可以使用通配符 “*”代表任意字符类似。在Linux系统上，正则表达式通常被用来查找文本的模式，以及对文本执行“搜索－替换”操作和其它功能。 4.应用实例 查询DNS服务是日常工作之一，这意味着要维护覆盖不同网络的大量IP地址。有时IP地址会超过2000个。如果要查看nnn.nnn网络地址，但是却忘了第二部分中的其余部分，只知到有两个句点，例如nnn nn..。要抽取其中所有nnn.nnn IP地址，使用[0－9 ]/{3 /}/.[0－0/{3/}/。含义是任意数字出现3次，后跟句点，接着是任意数字出现3次，后跟句点。 $grep &#39;[0－9 ]/{3 /}/.[0－0/{3/}/&#39; ipfile 补充说明，grep家族还包括fgrep和egrep。fgrep是fix grep，允许查找字符串而不是一个模式；egrep是扩展grep，支持基本及扩展的正则表达式，但不支持/q模式范围的应用及与之相对应的一些更加规范的模式。 dd 1.作用 dd命令用来复制文件，并根据参数将数据转换和格式化。 2.格式 dd [options] 3.[opitions]主要参数 bs=字节：强迫 ibs=&lt;字节&gt;及obs=&lt;字节&gt;。 cbs=字节：每次转换指定的&lt;字节&gt;。 conv=关键字：根据以逗号分隔的关键字表示的方式来转换文件。 count=块数目：只复制指定&lt;块数目&gt;的输入数据。 ibs=字节：每次读取指定的&lt;字节&gt;。 if=文件：读取&lt;文件&gt;内容，而非标准输入的数据。 obs=字节：每次写入指定的&lt;字节&gt;。 of=文件：将数据写入&lt;文件&gt;，而不在标准输出显示。 seek=块数目：先略过以obs为单位的指定&lt;块数目&gt;的输出数据。 skip=块数目：先略过以ibs为单位的指定&lt;块数目&gt;的输入数据。 4.应用实例 dd命令常常用来制作Linux启动盘。先找一个可引导内核，令它的根设备指向正确的根分区，然后使用dd命令将其写入软盘： $ rdev vmlinuz /dev/hda $dd if＝vmlinuz of＝/dev/fd0 上面代码说明，使用rdev命令将可引导内核vmlinuz中的根设备指向/dev/hda，请把“hda”换成自己的根分区，接下来用dd命令将该内核写入软盘。 find 1.作用 find命令的作用是在目录中搜索文件，它的使用权限是所有用户。 2.格式 find [path][options][expression] path指定目录路径，系统从这里开始沿着目录树向下查找文件。它是一个路径列表，相互用空格分离，如果不写path，那么默认为当前目录。 3.主要参数 [options]参数： －depth：使用深度级别的查找过程方式，在某层指定目录中优先查找文件内容。 －maxdepth levels：表示至多查找到开始目录的第level层子目录。level是一个非负数，如果level是0的话表示仅在当前目录中查找。 －mindepth levels：表示至少查找到开始目录的第level层子目录。 －mount：不在其它文件系统（如Msdos、Vfat等）的目录和文件中查找。 －version：打印版本。 [expression]是匹配表达式，是find命令接受的表达式，find命令的所有操作都是针对表达式的。它的参数非常多，这里只介绍一些常用的参数。 —name：支持统配符*和?。 －atime n：搜索在过去n天读取过的文件。 －ctime n：搜索在过去n天修改过的文件。 －group grpoupname：搜索所有组为grpoupname的文件。 －user 用户名：搜索所有文件属主为用户名（ID或名称）的文件。 －size n：搜索文件大小是n个block的文件。 －print：输出搜索结果，并且打印。 4.应用技巧 find命令查找文件的几种方法： （1）根据文件名查找 例如，我们想要查找一个文件名是lilo.conf的文件，可以使用如下命令： find / －name lilo.conf find命令后的“/”表示搜索整个硬盘。 （2）快速查找文件 根据文件名查找文件会遇到一个实际问题，就是要花费相当长的一段时间，特别是大型Linux文件系统和大容量硬盘文件放在很深的子目录中时。如果我们知道了这个文件存放在某个目录中，那么只要在这个目录中往下寻找就能节省很多时间。比如smb.conf文件，从它的文件后缀“.conf”可以判断这是一个配置文件，那么它应该在/etc目录内，此时可以使用下面命令： find /etc －name smb.conf 这样，使用“快速查找文件”方式可以缩短时间。 （3）根据部分文件名查找方法 有时我们知道只某个文件包含有abvd这4个字，那么要查找系统中所有包含有这4个字符的文件可以输入下面命令： find / －name &#39;*abvd*&#39; 输入这个命令以后，Linux系统会将在/目录中查找所有的包含有abvd这4个字符的文件（其中*是通配符），比如abvdrmyz等符合条件的文件都能显示出来。 (4) 使用混合查找方式查找文件 find命令可以使用混合查找的方法，例如，我们想在/etc目录中查找大于500000字节，并且在24小时内修改的某个文件，则可以使用-and (与)把两个查找参数链接起来组合成一个混合的查找方式。 find /etc -size +500000c -and -mtime +1 mv 1.作用 mv命令用来为文件或目录改名，或者将文件由一个目录移入另一个目录中，它的使用权限是所有用户。该命令如同DOS命令中的ren和move的组合。 2.格式 mv[options] 源文件或目录 目标文件或目录 3.[options]主要参数 －i：交互方式操作。如果mv操作将导致对已存在的目标文件的覆盖，此时系统询问是否重写，要求用户回答“y”或“n”，这样可以避免误覆盖文件。 －f：禁止交互操作。mv操作要覆盖某个已有的目标文件时不给任何指示，指定此参数后i参数将不再起作用。 4.应用实例 （1）将/usr/cbu中的所有文件移到当前目录（用“.”表示）中： $ mv /usr/cbu/ * . （2）将文件cjh.txt重命名为wjz.txt： $ mv cjh.txt wjz.txt　 ls 1.作用 ls命令用于显示目录内容，类似DOS下的dir命令，它的使用权限是所有用户。 2.格式 ls [options][filename] 3.options主要参数 －a, －－all：不隐藏任何以“.” 字符开始的项目。 －A, －－almost－all：列出除了“ . ”及 “.. ”以外的任何项目。 －－author：印出每个文件著作者。 －b, －－escape：以八进制溢出序列表示不可打印的字符。 －－block－size=大小：块以指定&lt;大小&gt;的字节为单位。 －B, －－ignore－backups：不列出任何以 ~ 字符结束的项目。 －f：不进行排序，－aU参数生效，－lst参数失效。 －F, －－classify：加上文件类型的指示符号 (*/=@| 其中一个)。 －g：like －l, but do not list owner。 －G, －－no－group：inhibit display of group information。 －i, －－inode：列出每个文件的inode号。 －I, －－ignore=样式：不印出任何符合Shell万用字符&lt;样式&gt;的项目。 －k：即－－block－size=1K。 －l：使用较长格式列出信息。 －L, －－dereference：当显示符号链接的文件信息时，显示符号链接所指示的对象，而并非符号链接本身的信息。 －m：所有项目以逗号分隔，并填满整行行宽。 －n, －－numeric－uid－gid：类似－l，但列出UID及GID号。 －N, －－literal：列出未经处理的项目名称，例如不特别处理控制字符。 －p, －－file－type：加上文件类型的指示符号 (/=@| 其中一个)。 －Q, －－quote－name：将项目名称括上双引号。 －r, －－reverse：依相反次序排列。 －R, －－recursive：同时列出所有子目录层。 －s, －－size：以块大小为序。 4.应用举例 ls 命令是Linux系统使用频率最多的命令，它的参数也是Linux命令中最多的。使用ls命令时会有几种不同的颜色，其中蓝色表示是目录，绿色表示是可执行文件，红色表示是压缩文件，浅蓝色表示是链接文件，加粗的黑色表示符号链接，灰色表示是其它格式文件。 文件类型开头是由10个字符构成的字符串。其中第一个字符表示文件类型，它可以是下述类型之一：－（普通文件）、d（目录）、l（符号链接）、b（块设备文件）、c（字符设备文件）。后面的9个字符表示文件的访问权限，分为3组，每组3位。第一组表示文件属主的权限，第二组表示同组用户的权限，第三组表示其他用户的权限。每一组的三个字符分别表示对文件的读（r）、写（w）和执行权限（x）。对于目录，表示进入权限。s表示当文件被执行时，把该文件的UID 或GID赋予执行进程的UID（用户ID）或GID（组 ID）。t表示设置标志位（留在内存，不被换出）。如果该文件是目录，那么在该目录中的文件只能被超级用户、目录拥有者或文件属主删除。如果它是可执行文件，那么在该文件执行后，指向其正文段的指针仍留在内存。这样再次执行它时，系统就能更快地装入该文件。接着显示的是文件大小、生成时间、文件或命令名称。 diff 1.作用 diff命令用于两个文件之间的比较，并指出两者的不同，它的使用权限是所有用户。 2.格式 diff [options] 源文件 目标文件 3.[options]主要参数 -a：将所有文件当作文本文件来处理。 -b：忽略空格造成的不同。 -B：忽略空行造成的不同。 -c：使用纲要输出格式。 -H：利用试探法加速对大文件的搜索。 -I：忽略大小写的变化。 -n --rcs：输出RCS格式。 cmp 1.作用 cmp（“compare”的缩写）命令用来简要指出两个文件是否存在差异，它的使用权限是所有用户。 2.格式 cmp[options] 文件名 3.[options]主要参数 -l: 将字节以十进制的方式输出，并方便将两个文件中不同的以八进制的方式输出。 cat 1.作用 cat（“concatenate”的缩写）命令用于连接并显示指定的一个和多个文件的有关信息，它的使用权限是所有用户。 2.格式 cat [options] 文件1 文件2…… 3.[options]主要参数 －n：由第一行开始对所有输出的行数编号。 －b：和－n相似，只不过对于空白行不编号。 －s：当遇到有连续两行以上的空白行时，就代换为一行的空白行。 4.应用举例 （1）cat命令一个最简单的用处是显示文本文件的内容。例如，我们想在命令行看一下README文件的内容，可以使用命令： $ cat README　 （2）有时需要将几个文件处理成一个文件，并将这种处理的结果保存到一个单独的输出文件。cat命令在其输入上接受一个或多个文件，并将它们作为一个单独的文件打印到它的输出。例如，把README和INSTALL的文件内容加上行号（空白行不加）之后，将内容附加到一个新文本文件File1 中： $ cat README INSTALL File1 （3）cat还有一个重要的功能就是可以对行进行编号，见图2所示。这种功能对于程序文档的编制，以及法律和科学文档的编制很方便，打印在左边的行号使得参考文档的某一部分变得容易，这些在编程、科学研究、业务报告甚至是立法工作中都是非常重要的。 对行进行编号功能有-b（只能对非空白行进行编号）和-n（可以对所有行进行编号）两个参数： $ cat -b /etc/named.conf ln 1.作用 ln命令用来在文件之间创建链接，它的使用权限是所有用户。 2.格式 ln [options] 源文件 [链接名] 3.参数 －f：链结时先将源文件删除。 －d：允许系统管理者硬链结自己的目录。 －s：进行软链结(Symbolic Link)。 －b：将在链结时会被覆盖或删除的文件进行备份。 链接有两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，ln命令产生硬链接。 硬连接指通过索引节点来进行的连接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件才会被真正删除。 与硬连接相对应，Lnux系统中还存在另一种连接，称为符号连接（Symbilc Link），也叫软连接。软链接文件有点类似于Windows的快捷方式。它实际上是特殊文件的一种。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。 动手练习 上面我们介绍了Linux文件处理命令，下面介绍几个实例，大家可以动手练习一下刚才讲过的命令。 1.利用符号链接快速访问关键目录 符号链接是一个非常实用的功能。假设有一些目录或文件需要频繁使用，但由于Linux的文件和目录结构等原因，这个文件或目录在很深的子目录中。比如， Apache Web服务器文档位于系统的/usr/local/httpd/htdocs中，并且不想每次都要从主目录进入这样一个长的路径之中(实际上，这个路径也非常不容易记忆)。 为了解决这个问题，可以在主目录中创建一个符号链接，这样在需要进入该目录时，只需进入这个链接即可。 为了能方便地进入Web服务器(/usr/local/httpd/htdocs)文档所在的目录，在主目录下可以使用以下命令： $ ln -s /usr/local/httpd/htdocs gg 这样每次进入gg目录就可访问Web服务器的文档，以后如果不再访问Web服务器的文档时，删除gg即可，而真正的Web服务器的文档并没有删除。 2.使用dd命令将init.rd格式的root.ram内容导入内存 dd if=/dev/fd0 of=floppy.fd dd if=root.ram of=/dev/ram0 # 3.grep命令系统调用 grep是Linux/Unix中使用最广泛的命令之一，许多Linux系统内部都可以调用它。 (1)如果要查询目录列表中的目录，方法如下： $ ls -l | grep &#39;∧d&#39; (2)如果在一个目录中查询不包含目录的所有文件，方法如下： $ ls -l | grep &#39;∧[∧d]&#39; (3)用find命令调用grep，如所有C源代码中的“Chinput”，方法如下： $find /ZhXwin -name *.c -exec grep -q -s Chinput {} /;-print 系统管理命令 对于Linux系统来说，无论是中央处理器、内存、磁盘驱动器、键盘、鼠标，还是用户等都是文件，Linux系统管理的命令是它正常运行的核心。熟悉了Linux常用的文件处理命令以后，这一讲介绍对系统和用户进行管理的命令。 df 1.作用df命令用来检查文件系统的磁盘空间占用情况，使用权限是所有用户。 2.格式 df [options] 3.主要参数－s：对每个Names参数只给出占用的数据块总数。－a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定－s，也不指定－a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。－k：以1024字节为单位列出磁盘空间使用情况。－x：跳过在不同文件系统上的目录不予统计。－l：计算所有的文件大小，对硬链接文件则计算多次。－i：显示inode信息而非块使用量。－h：以容易理解的格式印出文件系统大小，例如136KB、254MB、21GB。－P：使用POSIX输出格式。－T：显示文件系统类型。 4.说明df命令被广泛地用来生成文件系统的使用统计数据，它能显示系统中所有的文件系统的信息，包括总容量、可用的空闲空间、目前的安装点等。 超级权限用户使用df命令时会发现这样的情况：某个分区的容量超过了100％。这是因为Linux系统为超级用户保留了10％的空间，由其单独支配。也就是说，对于超级用户而言，他所见到的硬盘容量将是110％。这样的安排对于系统管理而言是有好处的，当硬盘被使用的容量接近100％时系统管理员还可以正常工作。 5.应用实例Linux支持的文件系统非常多，包括JFS、ReiserFS、ext、ext2、ext3、ISO9660、XFS、Minx、vfat、MSDOS等。使用df -T命令查看磁盘空间时还可以得到文件系统的信息： ＃df －T 文件系统 类型 容量 已用 可用 已用% 挂载点 /dev/hda7 reiserfs 5.2G 1.6G 3.7G 30% //dev/hda1 vfat 2.4G 1.6G 827M 66% /windows/C/dev/hda5 vfat 3.0G 1.7G 1.3G 57% /windows/D/dev/hda9 vfat 3.0G 2.4G 566M 82% /windows/E/dev/hda10 NTFS 3.2G 573M 2.6G 18% /windows/F/dev/hda11 vfat 1.6G 1.5G 23M 99% /windows/G 从上面除了可以看到磁盘空间的容量、使用情况外，分区的文件系统类型、挂载点等信息也一览无遗。 top 1.作用top命令用来显示执行中的程序进程，使用权限是所有用户。 2.格式 top [－] [d delay] [q] [c] [S] [s] [i] [n] 3.主要参数d：指定更新的间隔，以秒计算。q：没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。c：显示进程完整的路径与名称。S：累积模式，会将己完成或消失的子行程的CPU时间累积起来。s：安全模式。i：不显示任何闲置(Idle)或无用(Zombie)的行程。n：显示更新的次数，完成后将会退出top。 4.说明top命令是Linux系统管理的一个主要命令，通过它可以获得许多信息。 PID（Process ID）：进程标示号。USER：进程所有者的用户名。PR：进程的优先级别。NI：进程的优先级别数值。VIRT：进程占用的虚拟内存值。RES：进程占用的物理内存值。SHR：进程使用的共享内存值。S：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。%CPU：该进程占用的CPU使用率。%MEM：该进程占用的物理内存和总内存的百分比。TIME＋：该进程启动后占用的总的CPU时间。Command：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。&lt;空格&gt;：立刻刷新。P：根据CPU使用大小进行排序。T：根据时间、累计时间排序。q：退出top命令。m：切换显示内存信息。t：切换显示进程和CPU状态信息。c：切换显示命令名称和完整命令行。M：根据使用内存大小进行排序。W：将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。 可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。 5.应用实例使用top命令可以监视指定用户，缺省情况是监视所有用户的进程。如果想查看指定用户的情况，在终端中按“U”键，然后输入用户名，系统就会切换为指定用户的进程运行界面。 free 1.作用free命令用来显示内存的使用情况，使用权限是所有用户。 2.格式 free [－b|－k|－m] [－o] [－s delay] [－t] [－V] 3.主要参数－b －k －m：分别以字节（KB、MB）为单位显示内存使用情况。－s delay：显示每隔多少秒数来显示一次内存使用情况。－t：显示内存总和列。－o：不显示缓冲区调节列。 4.应用实例free命令是用来查看内存使用情况的主要命令。和top命令相比，它的优点是使用简单，并且只占用很少的系统资源。通过－S参数可以使用free命令不间断地监视有多少内存在使用，这样可以把它当作一个方便实时监控器。 ＃free －b －s5 使用这个命令后终端会连续不断地报告内存使用情况（以字节为单位），每5秒更新一次。 quota 1.作用quota命令用来显示磁盘使用情况和限制情况，使用权限超级用户。 2.格式 quota [－g][－u][－v][－p] 用户名 组名 3.参数－g：显示用户所在组的磁盘使用限制。－u：显示用户的磁盘使用限制。－v：显示没有分配空间的文件系统的分配情况。－p：显示简化信息。 4.应用实例在企业应用中磁盘配额非常重要，普通用户要学会看懂自己的磁盘使用情况。要查询自己的磁盘配额可以使用下面命令（下例中用户账号是caojh)： ＃quota caojhDisk quotas for user caojh(uid 502):Filesystem blocks quota limit grace files quota limit grace/dev/hda3 58 200000 400000 41 500 1000 以上显示ID号为502的caojh账号，文件个数设置为500～1000个，硬盘空间限制设置为200MB～400MB。一旦磁盘配额要用完时，就需要删除一些垃圾文件或向系统管理员请求追加配额。 at 1.作用at命令用来在指定时刻执行指定的命令序列。 2.格式 at [－V] [－q x] [－f file] [－m] time 3.主要参数－V：显示标准错误输出。－q：许多队列输出。－f：从文件中读取作业。－m：执行完作业后发送电子邮件到用户。time：设定作业执行的时间。time格式有严格的要求，由小时、分钟、日期和时间的偏移量组成，其中日期的格式为MM.DD.YY，MM是分钟，DD是日期，YY是指年份。偏移量的格式为时间＋偏移量，单位是minutes、hours和days。 4.应用实例 ＃at －f data 15:30 +2 days 上面命令表示让系统在两天后的17：30执行文件data中指明的作业。 lp 1.作用lp是打印文件的命令，使用权限是所有用户。 2.格式 lp [－c][－d][－m][－number][－title][-p] 3.主要参数－c：先拷贝文件再打印。－d：打印队列文件。－m：打印结束后发送电子邮件到用户。－number：打印份数。－title：打印标题。－p：设定打印的优先级别，最高为100。 4.应用实例（1）使用lp命令打印多个文件 ＃lp 2 3 4request id is 11 (3 file(s)) 其中2、3、4分别是文件名；“request id is 11 (3 file(s)) ”表示这是第11个打印命令，依次打印这三个文件。 （2）设定打印优先级别 ＃lp lp -d LaserJet -p 90 /etc/aliases 通过添加“-p 90”，规定了打印作业的优先级为90。它将在优先级低于90的打印作业之前打印，包括没有设置优先级的作业，缺省优先级是50 useradd 1.作用useradd命令用来建立用户帐号和创建用户的起始目录，使用权限是超级用户。 2.格式 useradd [－d home] [－s shell] [－c comment] [－m [－k template]] [－f inactive] [－e expire ] [－p passwd] [－r] name 3.主要参数－c：加上备注文字，备注文字保存在passwd的备注栏中。　－d：指定用户登入时的启始目录。－D：变更预设值。－e：指定账号的有效期限，缺省表示永久有效。－f：指定在密码过期后多少天即关闭该账号。－g：指定用户所属的群组。－G：指定用户所属的附加群组。－m：自动建立用户的登入目录。－M：不要自动建立用户的登入目录。－n：取消建立以用户名称为名的群组。－r：建立系统账号。－s：指定用户登入后所使用的shell。－u：指定用户ID号。 4.说明useradd可用来建立用户账号，它和adduser命令是相同的。账号建好之后，再用passwd设定账号的密码。使用useradd命令所建立的账号，实际上是保存在/etc/passwd文本文件中。 5.应用实例建立一个新用户账户，并设置ID： ＃useradd caojh －u 544 需要说明的是，设定ID值时尽量要大于500，以免冲突。因为Linux安装后会建立一些特殊用户，一般0到499之间的值留给bin、mail这样的系统账号。 groupadd 1.作用groupadd命令用于将新组加入系统。 2.格式 groupadd [－g gid] [－o]] [－r] [－f] groupname 3.主要参数－g gid：指定组ID号。－o：允许组ID号，不必惟一。－r：加入组ID号，低于499系统账号。－f：加入已经有的组时，发展程序退出。 4.应用实例建立一个新组，并设置组ID加入系统： ＃groupadd －g 344 cjh 此时在/etc/passwd文件中产生一个组ID（GID）是344的项目。 kill 1.作用kill命令用来中止一个进程。 2.格式 kill [ －s signal | －p ] [ －a ] pid ...kill －l [ signal ] 3.参数－s：指定发送的信号。－p：模拟发送信号。－l：指定信号的名称列表。pid：要中止进程的ID号。Signal：表示信号。 4.说明进程是Linux系统中一个非常重要的概念。Linux是一个多任务的操作系统，系统上经常同时运行着多个进程。我们不关心这些进程究竟是如何分配的，或者是内核如何管理分配时间片的，所关心的是如何去控制这些进程，让它们能够很好地为用户服务。 Linux 操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性。交互进程是由一个Shell启动的进程。交互进程既可以在前台运行，也可以在后台运行。批处理进程和终端没有联系，是一个进程序列。监控进程（也称系统守护进程）时Linux系统启动时启动的进程，并在后台运行。例如，httpd是著名的 Apache服务器的监控进程。 kill命令的工作原理是，向Linux系统的内核发送一个系统操作信号和某个程序的进程标识号，然后系统内核就可以对进程标识号指定的进程进行操作。比如在top命令中，我们看到系统运行许多进程，有时就需要使用kill中止某些进程来提高系统资源。在讲解安装和登陆命令时，曾提到系统多个虚拟控制台的作用是当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作关闭这个程序。此时使用的命令就是kill，因为kill是大多数Shell内部命令可以直接调用的。 5.应用实例（1）强行中止（经常使用杀掉）一个进程标识号为324的进程： ＃kill －9 324 （2）解除Linux系统的死锁在Linux 中有时会发生这样一种情况：一个程序崩溃，并且处于死锁的状态。此时一般不用重新启动计算机，只需要中止(或者说是关闭)这个有问题的程序即可。当 kill处于X-Window界面时，主要的程序(除了崩溃的程序之外)一般都已经正常启动了。此时打开一个终端，在那里中止有问题的程序。比如，如果 Mozilla浏览器程序出现了锁死的情况，可以使用kill命令来中止所有包含有Mozolla浏览器的程序。首先用top命令查处该程序的PID，然后使用kill命令停止这个程序： ＃kill －SIGKILL XXX 其中，XXX是包含有Mozolla浏览器的程序的进程标识号。 （3）使用命令回收内存我们知道内存对于系统是非常重要的，回收内存可以提高系统资源。kill命令可以及时地中止一些“越轨”的程序或很长时间没有相应的程序。例如，使用top命令发现一个无用 (Zombie) 的进程，此时可以使用下面命令： ＃kill －9 XXX 其中，XXX是无用的进程标识号。 然后使用下面命令： ＃free 此时会发现可用内存容量增加了。 （4）killall命令Linux下还提供了一个killall命令，可以直接使用进程的名字而不是进程标识号，例如： ＃ killall -HUP inetd crontab 1.作用使用crontab命令可以修改crontab配置文件，然后该配置由cron公用程序在适当的时间执行，该命令使用权限是所有用户。 2.格式 crontab [ －u user ] 文件crontab [ －u user ] { －l | －r | －e } 3.主要参数－e：执行文字编辑器来设定时程表，内定的文字编辑器是vi。－r：删除目前的时程表。－l：列出目前的时程表。 crontab 文件的格式为“M H D m d cmd”。其中，M代表分钟（0～59），H代表小时（0～23），D代表天（1～31），m代表月（1～12），d代表一星期内的天（0～6，0为星期天）。cmd表示要运行的程序，它被送入sh执行，这个Shell只有USER、HOME、SHELL三个环境变量。 4.说明和at命令相比，crontab命令适合完成固定周期的任务。 5.应用实例设置一个定时、定期的系统提示： [cao @www cao]#crontab －e 此时系统会打开一个vi编辑器。 如果输入以下内容：35 17 * * 5 wall &quot;Tomorrow is Saturday I will go CS&quot;，然后存盘退出。这时在/var/spool/cron/目录下会生产一个cao的文件，内容如下： # DO NOT EDIT THIS FILE － edit the master and reinstall.# (/tmp/crontab.2707 installed on Thu Jan 1 22:01:51 2004)# (Cron version －－ $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)35 17 * * 5 wall &quot;Tomorrow is Saturday I will play CS &quot; 这样每个星期五17：35系统就会弹出一个终端，提醒星期六可以打打CS了！ 动手练习 1.联合使用kill和top命令观察系统性能的变化 首先启动一个终端运行top命令，然后再启动一个终端使用kill命令，见图4所示。 图4 观察kill命令对top终端的影响 这时利用上面介绍的kill命令来中止一些程序： ＃kill SIGKILL XXX 然后再看top命令终端的变化，包括内存容量、CPU使用率、系统负载等。注意，有些进程是不能中止的，不过学习Linux命令时可以试试，看看系统有什么反应。 2.使用at和halt命令定时关机首先设定关机时间是17:35，输入下面代码： ＃at 17:35warning: commands will be executed using (in order) a) $SHELL b) login shell c) /bin/shat&gt;halt `-i －pat&gt; &lt;EOT&gt;job 6 at 2004－01－01 17:35 此时实际上就已经进入Linux系统的Shell，并且编写一个最简单程序：halt －i －p。上面Shell中的文本结束符号表示按“Ctrl＋D”组合键关闭命令，提交任务退出Shell。“Job 6 at 2004－01－01 17:35”表示系统接受第6个at命令，在“2004－01－01 17:35”时执行命令：先把所有网络相关的装置停止，关闭系统后关闭电源。 3.用crontab命令实现每天定时的病毒扫描前面已经介绍了一个简单的crontab命令操作，这里看一些更重要的操作。 （1）建立一个文件，文件名称自己设定，假设为caoproject： ＃crontab －e （2）文件内容如下： 05 09 * * * antivir 用vi编辑后存盘退出。antivir是一个查杀Linux病毒的软件，当然需要时先安装在系统中。 （3）使用crontab命令添加到任务列表中： ＃crontab caoproject 这样系统内所有用户在每天的9点05分会自动进行病毒扫描。 4.用kill使修改的配置文件马上生效Windows用户一般都知道，重要配置文件修改后往往都要重新启动计算机才能使修改生效。而Linux由于采用了模块化设计，可以自己根据需要实时设定服务。这里以网络服务inetd为例介绍一些操作技巧。 inetd 是一个监听守护进程，监听与提供互联网服务进程（如rlogin、telnet、ftp、rsh）进行连接的要求，并扩展所需的服务进程。默认情况下，inetd监听的这些daemon均列于/etc /inetd.conf文件中。编辑/etc/inetd.conf文件，可以改变inetd启动服务器守护进程的选项，然后驱使inetd以 SIGHUP（signal 1）向当前的inetd进程发送信号，使inetd重读该文件。这一过程由kill命令来实现。用vi或其它编辑器修改inetd.conf后，首先使用下面命令： ＃ps -ef |grep inetd 上面代码表明查询inetd.conf的进程号(PID)，这里假设是1426，然后使用下面命令： ＃ kill -1426 inetd 这样配置文件就生效了。 这一讲介绍的系统管理命令都是比较重要的，特别是crontab命令和quota命令使用起来会有一定难度，需要多做一些练习。另外，使用kill命令要注意“－9“这个参数，练习时最好不要运行一些重要的程序。 Linux的命令行方式功能强大，如果熟练掌握了Linux的常用命令，往往只需要通过各种技巧就可以组合构成一条复杂的命令，从而完成用户任务。Linux系统中的命令实在是太多了，不可能像在MS DOS中把所有的命令及参数都记住。 PS:记得查收小编送你的免费大礼包呦~ 福利 | 一万多套PPT模板等你免费来拿！无条件领取！ 免费送 | 1000多套简历模板免费拿，附赠简历制作教程！ 免费领 | 《Shell脚本 100例》电子书免费拿，运维必备干货~ ▼▼点击【阅读原文】，22大互联网热门课程任选免费学！" />
<meta property="og:description" content="Linux提供了大量的命令，利用它可以有效地完成大量的工作，如磁盘操作、文件存取、目录操作、进程管理、文件权限设定等。所以，在Linux系统上工作离不开使用系统提供的命令。要想真正理解Linux系统，就必须从Linux命令学起，通过基础的命令学习可以进一步理解Linux系统。 安装与登陆命令 login 1.作用 login的作用是登录系统，它的使用权限是所有用户。 2.格式 login [name][－p ][－h 主机名称] 3.主要参数 －p:通知login保持现在的环境参数。 －h:用来向远程登录的之间传输用户名。 如果选择用命令行模式登录Linux的话，那么看到的第一个Linux命令就是login：。 一般界面是这样的： Manddrake Linux release 9.1(Bamboo) for i586renrel 2.4.21－0.13mdk on i686 / tty1localhost login:rootpassword: 上面代码中，第一行是Linux发行版本号，第二行是内核版本号和登录的虚拟控制台，我们在第三行输入登录名，按“Enter”键在Password后输入账户密码，即可登录系统。出于安全考虑，输入账户密码时字符不会在屏幕上回显，光标也不移动。 登录后会看到下面这个界面（以超级用户为例）： [root@localhost root]#last login:Tue ,Nov 18 10:00:55 on vc/1 上面显示的是登录星期、月、日、时间和使用的虚拟控制台。 4.应用技巧 Linux是一个真正的多用户操作系统，可以同时接受多个用户登录，还允许一个用户进行多次登录。这是因为Linux和许多版本的Unix一样，提供了虚拟控制台的访问方式，允许用户在同一时间从控制台（系统的控制台是与系统直接相连的监视器和键盘）进行多次登录。每个虚拟控制台可以看作是一个独立的工作站，工作台之间可以切换。虚拟控制台的切换可以通过按下Alt键和一个功能键来实现，通常使用F1-F6 。 例如，用户登录后，按一下“Alt+F2”键，用户就可以看到上面出现的“login:”提示符，说明用户看到了第二个虚拟控制台。然后只需按“Alt+ F1”键，就可以回到第一个虚拟控制台。一个新安装的Linux系统允许用户使用“Alt+F1”到“Alt+F6”键来访问前六个虚拟控制台。虚拟控制台最有用的是，当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作，关闭这个程序。 shutdown 1.作用 shutdown命令的作用是关闭计算机，它的使用权限是超级用户。 2.格式 shutdown [－h][－i][－k][－m][－t] 3.重要参数 －t：在改变到其它运行级别之前，告诉init程序多久以后关机。 －k：并不真正关机，只是送警告信号给每位登录者。 －h：关机后关闭电源。 －c：cancel current process取消目前正在执行的关机程序。所以这个选项当然没有时间参数，但是可以输入一个用来解释的讯息，而这信息将会送到每位使用者。 －F：在重启计算机时强迫fsck。 －time：设定关机前的时间。 －m: 将系统改为单用户模式。 －i：关机时显示系统信息。 4.命令说明 shutdown命令可以安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭Linux系统，这是十分危险的。因为Linux与Windows不同，其后台运行着许多进程，所以强制关机可能会导致进程的数据丢失，使系统处于不稳定的状态，甚至在有的系统中会损坏硬件设备（硬盘）。在系统关机前使用 shutdown命令，系统管理员会通知所有登录的用户系统将要关闭，并且login指令会被冻结，即新的用户不能再登录。 halt 1.作用 halt命令的作用是关闭系统，它的使用权限是超级用户。 2.格式 halt [－n] [－w] [－d] [－f] [－i] [－p] 3.主要参数说明 －n：防止sync系统调用，它用在用fsck修补根分区之后，以阻止内核用老版本的超级块覆盖修补过的超级块。 －w：并不是真正的重启或关机,只是写wtmp（/var/log/wtmp）纪录。 －f：没有调用shutdown，而强制关机或重启。 －i：关机（或重启）前，关掉所有的网络接口。 －f：强迫关机，不呼叫shutdown这个指令。 －p: 当关机的时候顺便做关闭电源的动作。 －d：关闭系统，但不留下纪录。　 4.命令说明 halt就是调用shutdown －h。halt执行时，杀死应用进程，执行sync(将存于buffer中的资料强制写入硬盘中)系统调用，文件系统写操作完成后就会停止内核。若系统的运行级别为0或6，则关闭系统；否则以shutdown指令（加上－h参数）来取代。　 reboot 1.作用 reboot命令的作用是重新启动计算机，它的使用权限是系统管理者。 2.格式 reboot [－n] [－w] [－d] [－f] [－i] 3.主要参数 －n: 在重开机前不做将记忆体资料写回硬盘的动作。 －w: 并不会真的重开机，只是把记录写到/var/log/wtmp文件里。 －d: 不把记录写到/var/log/wtmp文件里（－n这个参数包含了－d）。 －i: 在重开机之前先把所有与网络相关的装置停止。 install 1.作用 install命令的作用是安装或升级软件或备份数据，它的使用权限是所有用户。 2.格式 (1)install [选项]... 来源 目的地 (2)install [选项]... 来源... 目录 (3)install －d [选项]... 目录... 在前两种格式中，会将&lt;来源&gt;复制至&lt;目的地&gt;或将多个&lt;来源&gt;文件复制至已存在的&lt;目录&gt;，同时设定权限模式及所有者/所属组。在第三种格式中，会创建所有指定的目录及它们的主目录。长选项必须用的参数在使用短选项时也是必须的。 3.主要参数 －－backup[=CONTROL]：为每个已存在的目的地文件进行备份。 －b：类似 －－backup，但不接受任何参数。 －c：(此选项不作处理)。 －d，－－directory：所有参数都作为目录处理，而且会创建指定目录的所有主目录。 －D：创建&lt;目的地&gt;前的所有主目录，然后将&lt;来源&gt;复制至 &lt;目的地&gt;；在第一种使用格式中有用。 －g，－－group=组：自行设定所属组，而不是进程目前的所属组。 －m，－－mode=模式：自行设定权限模式 (像chmod)，而不是rwxr－xr－x。 －o，－－owner=所有者：自行设定所有者 (只适用于超级用户)。 －p，－－preserve－timestamps：以&lt;来源&gt;文件的访问/修改时间作为相应的目的地文件的时间属性。 －s，－－strip：用strip命令删除symbol table，只适用于第一及第二种使用格式。 －S，－－suffix=后缀：自行指定备份文件的&lt;后缀&gt;。 －v，－－verbose：处理每个文件/目录时印出名称。 －－help：显示此帮助信息并离开。 －－version：显示版本信息并离开。 mount 1.作用 mount命令的作用是加载文件系统，它的用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 mount －a [－fv] [－t vfstype] [－n] [－rw] [－F] device dir 3.主要参数 －h：显示辅助信息。 －v：显示信息，通常和－f用来除错。 －a：将/etc/fstab中定义的所有文件系统挂上。 －F：这个命令通常和－a一起使用，它会为每一个mount的动作产生一个行程负责执行。在系统需要挂上大量NFS文件系统时可以加快加载的速度。 －f：通常用于除错。它会使mount不执行实际挂上的动作，而是模拟整个挂上的过程，通常会和－v一起使用。 －t vfstype：显示被加载文件系统的类型。 －n：一般而言，mount挂上后会在/etc/mtab中写入一笔资料，在系统中没有可写入文件系统的情况下，可以用这个选项取消这个动作。 4.应用技巧 在Linux和Unix系统上，所有文件都是作为一个大型树（以/为根）的一部分访问的。要访问CD-ROM上的文件，需要将CD-ROM设备挂装在文件树中的某个挂装点。如果发行版安装了自动挂装包，那么这个步骤可自动进行。在Linux中，如果要使用硬盘、光驱等储存设备，就得先将它加载，当储存设备挂上了之后，就可以把它当成一个目录来访问。挂上一个设备使用mount命令。在使用mount这个指令时，至少要先知道下列三种信息：要加载对象的文件系统类型、要加载对象的设备名称及要将设备加载到哪个目录下。 （1）Linux可以识别的文件系统 ◆ Windows 95/98常用的FAT 32文件系统：vfat ； ◆ Win NT/2000 的文件系统：ntfs ； ◆ OS/2用的文件系统：hpfs； ◆ Linux用的文件系统：ext2、ext3； ◆ CD-ROM光盘用的文件系统：iso9660。 虽然vfat是指FAT 32系统，但事实上它也兼容FAT 16的文件系统类型。 （2）确定设备的名称 在Linux中，设备名称通常都存在/dev里。这些设备名称的命名都是有规则的，可以用“推理”的方式把设备名称找出来。例如，/dev/hda1这个 IDE设备，hd是Hard Disk(硬盘)的，sd是SCSI Device，fd是Floppy Device(或是Floppy Disk?)。a代表第一个设备，通常IDE接口可以接上4个IDE设备(比如4块硬盘)。所以要识别IDE硬盘的方法分别就是hda、hdb、hdc、 hdd。hda1中的“1”代表hda的第一个硬盘分区 (partition)，hda2代表hda的第二主分区，第一个逻辑分区从hda5开始，依此类推。此外，可以直接检查/var/log/messages文件，在该文件中可以找到计算机开机后系统已辨认出来的设备代号。 （3）查找挂接点 在决定将设备挂接之前，先要查看一下计算机是不是有个/mnt的空目录，该目录就是专门用来当作挂载点(Mount Point)的目录。建议在/mnt里建几个/mnt/cdrom、/mnt/floppy、/mnt/mo等目录，当作目录的专用挂载点。举例而言，如要挂载下列5个设备，其执行指令可能如下 (假设都是Linux的ext2系统，如果是Windows XX请将ext2改成vfat)： 软盘 ===&gt;mount －t ext2 /dev/fd0 /mnt/floppycdrom ===&gt;mount －t iso9660 /dev/hdc /mnt/cdromSCSI cdrom ===&gt;mount －t iso9660 /dev/sdb /mnt/scdromSCSI cdr ===&gt;mount －t iso9660 /dev/sdc /mnt/scdr 不过目前大多数较新的Linux发行版本（包括红旗 Linux、中软Linux、Mandrake Linux等）都可以自动挂装文件系统，但Red Hat Linux除外。 umount 1.作用 umount命令的作用是卸载一个文件系统，它的使用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 unmount －a [－fFnrsvw] [－t vfstype] [－n] [－rw] [－F] device dir 3.使用说明 umount命令是mount命令的逆操作，它的参数和使用方法和mount命令是一样的。Linux挂装CD-ROM后，会锁定CD—ROM，这样就不能用CD-ROM面板上的Eject按钮弹出它。但是，当不再需要光盘时，如果已将/cdrom作为符号链接，请使用umount/cdrom来卸装它。仅当无用户正在使用光盘时，该命令才会成功。该命令包括了将带有当前工作目录当作该光盘中的目录的终端窗口。 chsh 1.作用 chsh命令的作用是更改使用者shell设定，它的使用权限是所有使用者。 2.格式 chsh [ －s ] [ －list] [ －－help ] [ －v ] [ username ] 3.主要参数 －l：显示系统所有Shell类型。 －v：显示Shell版本号。 4.应用技巧 前面介绍了Linux下有多种Shell，一般缺省的是Bash，如果想更换Shell类型可以使用chsh命令。先输入账户密码，然后输入新Shell类型，如果操作正确系统会显示“Shell change”。其界面一般如下： Changing fihanging shell for caoPassword:New shell [/bin/bash]: /bin/tcsh 上面代码中，[ ]内是目前使用的Shell。普通用户只能修改自己的Shell，超级用户可以修改全体用户的Shell。 exit 1.作用 exit命令的作用是退出系统，它的使用权限是所有用户。 2.格式 exit 3.参数 exit命令没有参数，运行后退出系统进入登录界面。 last 1.作用 last命令的作用是显示近期用户或终端的登录情况，它的使用权限是所有用户。通过last命令查看该程序的log，管理员可以获知谁曾经或企图连接系统。 2.格式 1ast[—n][－f file][－t tty] [—h 节点][－I —IP][—1][－y][1D] 3.主要参数 －n：指定输出记录的条数。 －f file：指定用文件file作为查询用的log文件。 －t tty：只显示指定的虚拟控制台上登录情况。 －h 节点：只显示指定的节点上的登录情况。 －i IP：只显示指定的IP上登录的情况。 －1：用IP来显示远端地址。 －y：显示记录的年、月、日。 －ID：知道查询的用户名。 －x:显示系统关闭、用户登录和退出的历史。 动手练习 上面介绍了Linux安装和登录命令，下面介绍几个实例，动手练习一下刚才讲过的命令。 1.一次运行多个命令 在一个命令行中可以执行多个命令，用分号将各个命令隔开即可，例如： ＃last －x；halt 上面代码表示在显示系统关闭、用户登录和退出的历史后关闭计算机。 2.利用mount挂装文件系统访问Windows系统 许多Linux发行版本现在都可以自动加载Vfat分区来访问Windows系统，而Red Hat各个版本都没有自动加载Vfat分区，因此还需要进行手工操作。 mount可以将Windows分区作为Linux的一个“文件”挂接到Linux的一个空文件夹下，从而将Windows的分区和/mnt这个目录联系起来。因此，只要访问这个文件夹就相当于访问该分区了。首先要在/mnt下建立winc文件夹，在命令提示符下输入下面命令： ＃mount -t vfat /dev/hda1 /mnt/winc 即表示将Windows的C分区挂到Liunx的/mnt/winc目录下。这时，在/mnt/winc目录下就可以看到Windows中C盘的内容了。使用类似的方法可以访问Windows系统的D、E盘。在Linux系统显示Windows的分区一般顺序这样的：hda1为C盘、hda5为D盘、 hda6为E盘……以此类推。上述方法可以查看Windows系统有一个很大的问题，就是Windows中的所有中文文件名或文件夹名全部显示为问号 “？”，而英文却可以正常显示。我们可以通过加入一些参数让它显示中文。还以上面的操作为例，此时输入命令： ＃mount -t vfat -o iocharset=cp936 /dev/hda1 /mnt/winc 现在它就可以正常显示中文了。 3.使用mount加挂闪盘上的文件系统 在Linux下使用闪盘非常简单。Linux对USB设备有很好的支持，当插入闪盘后，闪盘被识别为一个SCSI盘，通常输入以下命令： ＃ mount /dev/sda1 /usb 就能够加挂闪盘上的文件系统。 小知识 Linux命令与Shell 所谓Shell，就是命令解释程序，它提供了程序设计接口，可以使用程序来编程。学习Shell对于Linux初学者理解Linux系统是非常重要的。 Linux系统的Shell作为操作系统的外壳，为用户提供了使用操作系统的接口。Shell是命令语言、命令解释程序及程序设计语言的统称，是用户和 Linux内核之间的接口程序。如果把Linux内核想象成一个球体的中心，Shell就是围绕内核的外层。当从Shell或其它程序向Linux传递命令时，内核会做出相应的反应。Shell在Linux系统的作用和MS DOS下的COMMAND.COM和Windows 95/98 的 explorer.exe相似。Shell虽然不是系统核心的一部分，只是系统核心的一个外延，但它能够调用系统内核的大部分功能。因此，可以说 Shell是Unux/Linux最重要的实用程序。 Linux中的Shell有多种类型，其中最常用的是Bourne Shell(sh)、C Shell(csh)和Korn Shell(ksh)。大多数Linux发行版本缺省的Shell是Bourne Again Shell，它是Bourne Shell的扩展，简称bash，与Bourne Shell完全向后兼容，并且在Bourne Shell的基础上增加了很多特性。bash放在/bin/bash中，可以提供如命令补全、命令编辑和命令历史表等功能。它还包含了很多C Shell和Korn Shell中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。Linux系统中200多个命令中有40个是bash的内部命令，主要包括 exit、less、lp、kill、 cd、pwd、fc、fg等。 文件处理命令 Linux 系统信息存放在文件里，文件与普通的公务文件类似。每个文件都有自己的名字、内容、存放地址及其它一些管理信息，如文件的用户、文件的大小等。文件可以是一封信、一个通讯录，或者是程序的源语句、程序的数据，甚至可以包括可执行的程序和其它非正文内容。 Linux文件系统具有良好的结构，系统提供了很多文件处理程序。这里主要介绍常用的文件处理命令。 file 1.作用&nbsp; 内容判断文件类型，使用权限是所有用户。 2.格式 file通过探测文 file [options] 文件名 3.[options]主要参数 -v：在标准输出后显示版本信息，并且退出。 -z：探测压缩过的文件类型。 -L：允许符合连接。 -f name：从文件namefile中读取要分析的文件名列表。 4.简单说明 使用file命令可以知道某个文件究竟是二进制（ELF格式）的可执行文件, 还是Shell Script文件，或者是其它的什么格式。file能识别的文件类型有目录、Shell脚本、英文文本、二进制可执行文件、C语言源文件、文本文件、DOS的可执行文件。 5.应用实例 如果我们看到一个没有后缀的文件grap，可以使用下面命令： $ file grap grap： English text 此时系统显示这是一个英文文本文件。需要说明的是，file命令不能探测包括图形、音频、视频等多媒体文件类型。 mkdir 1.作用 mkdir命令的作用是建立名称为dirname的子目录，与MS DOS下的md命令类似，它的使用权限是所有用户。 2.格式 mkdir [options] 目录名 3.[options]主要参数 －m, －－mode=模式：设定权限&lt;模式&gt;，与chmod类似。 －p, －－parents：需要时创建上层目录；如果目录早已存在，则不当作错误。 －v, －－verbose：每次创建新目录都显示信息。 －－version：显示版本信息后离开。 4.应用实例 在进行目录创建时可以设置目录的权限，此时使用的参数是“－m”。假设要创建的目录名是“tsk”，让所有用户都有rwx(即读、写、执行的权限)，那么可以使用以下命令： $ mkdir －m 777 tsk grep 1.作用 grep命令可以指定文件中搜索特定的内容，并将含有这些内容的行标准输出。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。 2.格式 grep [options] 3.主要参数 [options]主要参数： －c：只输出匹配行的计数。 －I：不区分大小写（只适用于单字符）。 －h：查询多文件时不显示文件名。 －l：查询多文件时只输出包含匹配字符的文件名。 －n：显示匹配行及行号。 －s：不显示不存在或无匹配文本的错误信息。 －v：显示不包含匹配文本的所有行。 pattern正则表达式主要参数： /：忽略正则表达式中特殊字符的原有含义。 ^：匹配正则表达式的开始行。 $: 匹配正则表达式的结束行。 /&lt;：从匹配正则表达式的行开始。 /&gt;：到匹配正则表达式的行结束。 [ ]：单个字符，如[A]即A符合要求 。 [ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。 。：所有的单个字符。 * ：有字符，长度可以为0。 正则表达式是Linux/Unix系统中非常重要的概念。正则表达式（也称为“regex”或“regexp”）是一个可以描述一类字符串的模式（Pattern）。如果一个字符串可以用某个正则表达式来描述，我们就说这个字符和该正则表达式匹配（Match）。这和DOS中用户可以使用通配符 “*”代表任意字符类似。在Linux系统上，正则表达式通常被用来查找文本的模式，以及对文本执行“搜索－替换”操作和其它功能。 4.应用实例 查询DNS服务是日常工作之一，这意味着要维护覆盖不同网络的大量IP地址。有时IP地址会超过2000个。如果要查看nnn.nnn网络地址，但是却忘了第二部分中的其余部分，只知到有两个句点，例如nnn nn..。要抽取其中所有nnn.nnn IP地址，使用[0－9 ]/{3 /}/.[0－0/{3/}/。含义是任意数字出现3次，后跟句点，接着是任意数字出现3次，后跟句点。 $grep &#39;[0－9 ]/{3 /}/.[0－0/{3/}/&#39; ipfile 补充说明，grep家族还包括fgrep和egrep。fgrep是fix grep，允许查找字符串而不是一个模式；egrep是扩展grep，支持基本及扩展的正则表达式，但不支持/q模式范围的应用及与之相对应的一些更加规范的模式。 dd 1.作用 dd命令用来复制文件，并根据参数将数据转换和格式化。 2.格式 dd [options] 3.[opitions]主要参数 bs=字节：强迫 ibs=&lt;字节&gt;及obs=&lt;字节&gt;。 cbs=字节：每次转换指定的&lt;字节&gt;。 conv=关键字：根据以逗号分隔的关键字表示的方式来转换文件。 count=块数目：只复制指定&lt;块数目&gt;的输入数据。 ibs=字节：每次读取指定的&lt;字节&gt;。 if=文件：读取&lt;文件&gt;内容，而非标准输入的数据。 obs=字节：每次写入指定的&lt;字节&gt;。 of=文件：将数据写入&lt;文件&gt;，而不在标准输出显示。 seek=块数目：先略过以obs为单位的指定&lt;块数目&gt;的输出数据。 skip=块数目：先略过以ibs为单位的指定&lt;块数目&gt;的输入数据。 4.应用实例 dd命令常常用来制作Linux启动盘。先找一个可引导内核，令它的根设备指向正确的根分区，然后使用dd命令将其写入软盘： $ rdev vmlinuz /dev/hda $dd if＝vmlinuz of＝/dev/fd0 上面代码说明，使用rdev命令将可引导内核vmlinuz中的根设备指向/dev/hda，请把“hda”换成自己的根分区，接下来用dd命令将该内核写入软盘。 find 1.作用 find命令的作用是在目录中搜索文件，它的使用权限是所有用户。 2.格式 find [path][options][expression] path指定目录路径，系统从这里开始沿着目录树向下查找文件。它是一个路径列表，相互用空格分离，如果不写path，那么默认为当前目录。 3.主要参数 [options]参数： －depth：使用深度级别的查找过程方式，在某层指定目录中优先查找文件内容。 －maxdepth levels：表示至多查找到开始目录的第level层子目录。level是一个非负数，如果level是0的话表示仅在当前目录中查找。 －mindepth levels：表示至少查找到开始目录的第level层子目录。 －mount：不在其它文件系统（如Msdos、Vfat等）的目录和文件中查找。 －version：打印版本。 [expression]是匹配表达式，是find命令接受的表达式，find命令的所有操作都是针对表达式的。它的参数非常多，这里只介绍一些常用的参数。 —name：支持统配符*和?。 －atime n：搜索在过去n天读取过的文件。 －ctime n：搜索在过去n天修改过的文件。 －group grpoupname：搜索所有组为grpoupname的文件。 －user 用户名：搜索所有文件属主为用户名（ID或名称）的文件。 －size n：搜索文件大小是n个block的文件。 －print：输出搜索结果，并且打印。 4.应用技巧 find命令查找文件的几种方法： （1）根据文件名查找 例如，我们想要查找一个文件名是lilo.conf的文件，可以使用如下命令： find / －name lilo.conf find命令后的“/”表示搜索整个硬盘。 （2）快速查找文件 根据文件名查找文件会遇到一个实际问题，就是要花费相当长的一段时间，特别是大型Linux文件系统和大容量硬盘文件放在很深的子目录中时。如果我们知道了这个文件存放在某个目录中，那么只要在这个目录中往下寻找就能节省很多时间。比如smb.conf文件，从它的文件后缀“.conf”可以判断这是一个配置文件，那么它应该在/etc目录内，此时可以使用下面命令： find /etc －name smb.conf 这样，使用“快速查找文件”方式可以缩短时间。 （3）根据部分文件名查找方法 有时我们知道只某个文件包含有abvd这4个字，那么要查找系统中所有包含有这4个字符的文件可以输入下面命令： find / －name &#39;*abvd*&#39; 输入这个命令以后，Linux系统会将在/目录中查找所有的包含有abvd这4个字符的文件（其中*是通配符），比如abvdrmyz等符合条件的文件都能显示出来。 (4) 使用混合查找方式查找文件 find命令可以使用混合查找的方法，例如，我们想在/etc目录中查找大于500000字节，并且在24小时内修改的某个文件，则可以使用-and (与)把两个查找参数链接起来组合成一个混合的查找方式。 find /etc -size +500000c -and -mtime +1 mv 1.作用 mv命令用来为文件或目录改名，或者将文件由一个目录移入另一个目录中，它的使用权限是所有用户。该命令如同DOS命令中的ren和move的组合。 2.格式 mv[options] 源文件或目录 目标文件或目录 3.[options]主要参数 －i：交互方式操作。如果mv操作将导致对已存在的目标文件的覆盖，此时系统询问是否重写，要求用户回答“y”或“n”，这样可以避免误覆盖文件。 －f：禁止交互操作。mv操作要覆盖某个已有的目标文件时不给任何指示，指定此参数后i参数将不再起作用。 4.应用实例 （1）将/usr/cbu中的所有文件移到当前目录（用“.”表示）中： $ mv /usr/cbu/ * . （2）将文件cjh.txt重命名为wjz.txt： $ mv cjh.txt wjz.txt　 ls 1.作用 ls命令用于显示目录内容，类似DOS下的dir命令，它的使用权限是所有用户。 2.格式 ls [options][filename] 3.options主要参数 －a, －－all：不隐藏任何以“.” 字符开始的项目。 －A, －－almost－all：列出除了“ . ”及 “.. ”以外的任何项目。 －－author：印出每个文件著作者。 －b, －－escape：以八进制溢出序列表示不可打印的字符。 －－block－size=大小：块以指定&lt;大小&gt;的字节为单位。 －B, －－ignore－backups：不列出任何以 ~ 字符结束的项目。 －f：不进行排序，－aU参数生效，－lst参数失效。 －F, －－classify：加上文件类型的指示符号 (*/=@| 其中一个)。 －g：like －l, but do not list owner。 －G, －－no－group：inhibit display of group information。 －i, －－inode：列出每个文件的inode号。 －I, －－ignore=样式：不印出任何符合Shell万用字符&lt;样式&gt;的项目。 －k：即－－block－size=1K。 －l：使用较长格式列出信息。 －L, －－dereference：当显示符号链接的文件信息时，显示符号链接所指示的对象，而并非符号链接本身的信息。 －m：所有项目以逗号分隔，并填满整行行宽。 －n, －－numeric－uid－gid：类似－l，但列出UID及GID号。 －N, －－literal：列出未经处理的项目名称，例如不特别处理控制字符。 －p, －－file－type：加上文件类型的指示符号 (/=@| 其中一个)。 －Q, －－quote－name：将项目名称括上双引号。 －r, －－reverse：依相反次序排列。 －R, －－recursive：同时列出所有子目录层。 －s, －－size：以块大小为序。 4.应用举例 ls 命令是Linux系统使用频率最多的命令，它的参数也是Linux命令中最多的。使用ls命令时会有几种不同的颜色，其中蓝色表示是目录，绿色表示是可执行文件，红色表示是压缩文件，浅蓝色表示是链接文件，加粗的黑色表示符号链接，灰色表示是其它格式文件。 文件类型开头是由10个字符构成的字符串。其中第一个字符表示文件类型，它可以是下述类型之一：－（普通文件）、d（目录）、l（符号链接）、b（块设备文件）、c（字符设备文件）。后面的9个字符表示文件的访问权限，分为3组，每组3位。第一组表示文件属主的权限，第二组表示同组用户的权限，第三组表示其他用户的权限。每一组的三个字符分别表示对文件的读（r）、写（w）和执行权限（x）。对于目录，表示进入权限。s表示当文件被执行时，把该文件的UID 或GID赋予执行进程的UID（用户ID）或GID（组 ID）。t表示设置标志位（留在内存，不被换出）。如果该文件是目录，那么在该目录中的文件只能被超级用户、目录拥有者或文件属主删除。如果它是可执行文件，那么在该文件执行后，指向其正文段的指针仍留在内存。这样再次执行它时，系统就能更快地装入该文件。接着显示的是文件大小、生成时间、文件或命令名称。 diff 1.作用 diff命令用于两个文件之间的比较，并指出两者的不同，它的使用权限是所有用户。 2.格式 diff [options] 源文件 目标文件 3.[options]主要参数 -a：将所有文件当作文本文件来处理。 -b：忽略空格造成的不同。 -B：忽略空行造成的不同。 -c：使用纲要输出格式。 -H：利用试探法加速对大文件的搜索。 -I：忽略大小写的变化。 -n --rcs：输出RCS格式。 cmp 1.作用 cmp（“compare”的缩写）命令用来简要指出两个文件是否存在差异，它的使用权限是所有用户。 2.格式 cmp[options] 文件名 3.[options]主要参数 -l: 将字节以十进制的方式输出，并方便将两个文件中不同的以八进制的方式输出。 cat 1.作用 cat（“concatenate”的缩写）命令用于连接并显示指定的一个和多个文件的有关信息，它的使用权限是所有用户。 2.格式 cat [options] 文件1 文件2…… 3.[options]主要参数 －n：由第一行开始对所有输出的行数编号。 －b：和－n相似，只不过对于空白行不编号。 －s：当遇到有连续两行以上的空白行时，就代换为一行的空白行。 4.应用举例 （1）cat命令一个最简单的用处是显示文本文件的内容。例如，我们想在命令行看一下README文件的内容，可以使用命令： $ cat README　 （2）有时需要将几个文件处理成一个文件，并将这种处理的结果保存到一个单独的输出文件。cat命令在其输入上接受一个或多个文件，并将它们作为一个单独的文件打印到它的输出。例如，把README和INSTALL的文件内容加上行号（空白行不加）之后，将内容附加到一个新文本文件File1 中： $ cat README INSTALL File1 （3）cat还有一个重要的功能就是可以对行进行编号，见图2所示。这种功能对于程序文档的编制，以及法律和科学文档的编制很方便，打印在左边的行号使得参考文档的某一部分变得容易，这些在编程、科学研究、业务报告甚至是立法工作中都是非常重要的。 对行进行编号功能有-b（只能对非空白行进行编号）和-n（可以对所有行进行编号）两个参数： $ cat -b /etc/named.conf ln 1.作用 ln命令用来在文件之间创建链接，它的使用权限是所有用户。 2.格式 ln [options] 源文件 [链接名] 3.参数 －f：链结时先将源文件删除。 －d：允许系统管理者硬链结自己的目录。 －s：进行软链结(Symbolic Link)。 －b：将在链结时会被覆盖或删除的文件进行备份。 链接有两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，ln命令产生硬链接。 硬连接指通过索引节点来进行的连接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件才会被真正删除。 与硬连接相对应，Lnux系统中还存在另一种连接，称为符号连接（Symbilc Link），也叫软连接。软链接文件有点类似于Windows的快捷方式。它实际上是特殊文件的一种。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。 动手练习 上面我们介绍了Linux文件处理命令，下面介绍几个实例，大家可以动手练习一下刚才讲过的命令。 1.利用符号链接快速访问关键目录 符号链接是一个非常实用的功能。假设有一些目录或文件需要频繁使用，但由于Linux的文件和目录结构等原因，这个文件或目录在很深的子目录中。比如， Apache Web服务器文档位于系统的/usr/local/httpd/htdocs中，并且不想每次都要从主目录进入这样一个长的路径之中(实际上，这个路径也非常不容易记忆)。 为了解决这个问题，可以在主目录中创建一个符号链接，这样在需要进入该目录时，只需进入这个链接即可。 为了能方便地进入Web服务器(/usr/local/httpd/htdocs)文档所在的目录，在主目录下可以使用以下命令： $ ln -s /usr/local/httpd/htdocs gg 这样每次进入gg目录就可访问Web服务器的文档，以后如果不再访问Web服务器的文档时，删除gg即可，而真正的Web服务器的文档并没有删除。 2.使用dd命令将init.rd格式的root.ram内容导入内存 dd if=/dev/fd0 of=floppy.fd dd if=root.ram of=/dev/ram0 # 3.grep命令系统调用 grep是Linux/Unix中使用最广泛的命令之一，许多Linux系统内部都可以调用它。 (1)如果要查询目录列表中的目录，方法如下： $ ls -l | grep &#39;∧d&#39; (2)如果在一个目录中查询不包含目录的所有文件，方法如下： $ ls -l | grep &#39;∧[∧d]&#39; (3)用find命令调用grep，如所有C源代码中的“Chinput”，方法如下： $find /ZhXwin -name *.c -exec grep -q -s Chinput {} /;-print 系统管理命令 对于Linux系统来说，无论是中央处理器、内存、磁盘驱动器、键盘、鼠标，还是用户等都是文件，Linux系统管理的命令是它正常运行的核心。熟悉了Linux常用的文件处理命令以后，这一讲介绍对系统和用户进行管理的命令。 df 1.作用df命令用来检查文件系统的磁盘空间占用情况，使用权限是所有用户。 2.格式 df [options] 3.主要参数－s：对每个Names参数只给出占用的数据块总数。－a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定－s，也不指定－a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。－k：以1024字节为单位列出磁盘空间使用情况。－x：跳过在不同文件系统上的目录不予统计。－l：计算所有的文件大小，对硬链接文件则计算多次。－i：显示inode信息而非块使用量。－h：以容易理解的格式印出文件系统大小，例如136KB、254MB、21GB。－P：使用POSIX输出格式。－T：显示文件系统类型。 4.说明df命令被广泛地用来生成文件系统的使用统计数据，它能显示系统中所有的文件系统的信息，包括总容量、可用的空闲空间、目前的安装点等。 超级权限用户使用df命令时会发现这样的情况：某个分区的容量超过了100％。这是因为Linux系统为超级用户保留了10％的空间，由其单独支配。也就是说，对于超级用户而言，他所见到的硬盘容量将是110％。这样的安排对于系统管理而言是有好处的，当硬盘被使用的容量接近100％时系统管理员还可以正常工作。 5.应用实例Linux支持的文件系统非常多，包括JFS、ReiserFS、ext、ext2、ext3、ISO9660、XFS、Minx、vfat、MSDOS等。使用df -T命令查看磁盘空间时还可以得到文件系统的信息： ＃df －T 文件系统 类型 容量 已用 可用 已用% 挂载点 /dev/hda7 reiserfs 5.2G 1.6G 3.7G 30% //dev/hda1 vfat 2.4G 1.6G 827M 66% /windows/C/dev/hda5 vfat 3.0G 1.7G 1.3G 57% /windows/D/dev/hda9 vfat 3.0G 2.4G 566M 82% /windows/E/dev/hda10 NTFS 3.2G 573M 2.6G 18% /windows/F/dev/hda11 vfat 1.6G 1.5G 23M 99% /windows/G 从上面除了可以看到磁盘空间的容量、使用情况外，分区的文件系统类型、挂载点等信息也一览无遗。 top 1.作用top命令用来显示执行中的程序进程，使用权限是所有用户。 2.格式 top [－] [d delay] [q] [c] [S] [s] [i] [n] 3.主要参数d：指定更新的间隔，以秒计算。q：没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。c：显示进程完整的路径与名称。S：累积模式，会将己完成或消失的子行程的CPU时间累积起来。s：安全模式。i：不显示任何闲置(Idle)或无用(Zombie)的行程。n：显示更新的次数，完成后将会退出top。 4.说明top命令是Linux系统管理的一个主要命令，通过它可以获得许多信息。 PID（Process ID）：进程标示号。USER：进程所有者的用户名。PR：进程的优先级别。NI：进程的优先级别数值。VIRT：进程占用的虚拟内存值。RES：进程占用的物理内存值。SHR：进程使用的共享内存值。S：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。%CPU：该进程占用的CPU使用率。%MEM：该进程占用的物理内存和总内存的百分比。TIME＋：该进程启动后占用的总的CPU时间。Command：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。&lt;空格&gt;：立刻刷新。P：根据CPU使用大小进行排序。T：根据时间、累计时间排序。q：退出top命令。m：切换显示内存信息。t：切换显示进程和CPU状态信息。c：切换显示命令名称和完整命令行。M：根据使用内存大小进行排序。W：将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。 可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。 5.应用实例使用top命令可以监视指定用户，缺省情况是监视所有用户的进程。如果想查看指定用户的情况，在终端中按“U”键，然后输入用户名，系统就会切换为指定用户的进程运行界面。 free 1.作用free命令用来显示内存的使用情况，使用权限是所有用户。 2.格式 free [－b|－k|－m] [－o] [－s delay] [－t] [－V] 3.主要参数－b －k －m：分别以字节（KB、MB）为单位显示内存使用情况。－s delay：显示每隔多少秒数来显示一次内存使用情况。－t：显示内存总和列。－o：不显示缓冲区调节列。 4.应用实例free命令是用来查看内存使用情况的主要命令。和top命令相比，它的优点是使用简单，并且只占用很少的系统资源。通过－S参数可以使用free命令不间断地监视有多少内存在使用，这样可以把它当作一个方便实时监控器。 ＃free －b －s5 使用这个命令后终端会连续不断地报告内存使用情况（以字节为单位），每5秒更新一次。 quota 1.作用quota命令用来显示磁盘使用情况和限制情况，使用权限超级用户。 2.格式 quota [－g][－u][－v][－p] 用户名 组名 3.参数－g：显示用户所在组的磁盘使用限制。－u：显示用户的磁盘使用限制。－v：显示没有分配空间的文件系统的分配情况。－p：显示简化信息。 4.应用实例在企业应用中磁盘配额非常重要，普通用户要学会看懂自己的磁盘使用情况。要查询自己的磁盘配额可以使用下面命令（下例中用户账号是caojh)： ＃quota caojhDisk quotas for user caojh(uid 502):Filesystem blocks quota limit grace files quota limit grace/dev/hda3 58 200000 400000 41 500 1000 以上显示ID号为502的caojh账号，文件个数设置为500～1000个，硬盘空间限制设置为200MB～400MB。一旦磁盘配额要用完时，就需要删除一些垃圾文件或向系统管理员请求追加配额。 at 1.作用at命令用来在指定时刻执行指定的命令序列。 2.格式 at [－V] [－q x] [－f file] [－m] time 3.主要参数－V：显示标准错误输出。－q：许多队列输出。－f：从文件中读取作业。－m：执行完作业后发送电子邮件到用户。time：设定作业执行的时间。time格式有严格的要求，由小时、分钟、日期和时间的偏移量组成，其中日期的格式为MM.DD.YY，MM是分钟，DD是日期，YY是指年份。偏移量的格式为时间＋偏移量，单位是minutes、hours和days。 4.应用实例 ＃at －f data 15:30 +2 days 上面命令表示让系统在两天后的17：30执行文件data中指明的作业。 lp 1.作用lp是打印文件的命令，使用权限是所有用户。 2.格式 lp [－c][－d][－m][－number][－title][-p] 3.主要参数－c：先拷贝文件再打印。－d：打印队列文件。－m：打印结束后发送电子邮件到用户。－number：打印份数。－title：打印标题。－p：设定打印的优先级别，最高为100。 4.应用实例（1）使用lp命令打印多个文件 ＃lp 2 3 4request id is 11 (3 file(s)) 其中2、3、4分别是文件名；“request id is 11 (3 file(s)) ”表示这是第11个打印命令，依次打印这三个文件。 （2）设定打印优先级别 ＃lp lp -d LaserJet -p 90 /etc/aliases 通过添加“-p 90”，规定了打印作业的优先级为90。它将在优先级低于90的打印作业之前打印，包括没有设置优先级的作业，缺省优先级是50 useradd 1.作用useradd命令用来建立用户帐号和创建用户的起始目录，使用权限是超级用户。 2.格式 useradd [－d home] [－s shell] [－c comment] [－m [－k template]] [－f inactive] [－e expire ] [－p passwd] [－r] name 3.主要参数－c：加上备注文字，备注文字保存在passwd的备注栏中。　－d：指定用户登入时的启始目录。－D：变更预设值。－e：指定账号的有效期限，缺省表示永久有效。－f：指定在密码过期后多少天即关闭该账号。－g：指定用户所属的群组。－G：指定用户所属的附加群组。－m：自动建立用户的登入目录。－M：不要自动建立用户的登入目录。－n：取消建立以用户名称为名的群组。－r：建立系统账号。－s：指定用户登入后所使用的shell。－u：指定用户ID号。 4.说明useradd可用来建立用户账号，它和adduser命令是相同的。账号建好之后，再用passwd设定账号的密码。使用useradd命令所建立的账号，实际上是保存在/etc/passwd文本文件中。 5.应用实例建立一个新用户账户，并设置ID： ＃useradd caojh －u 544 需要说明的是，设定ID值时尽量要大于500，以免冲突。因为Linux安装后会建立一些特殊用户，一般0到499之间的值留给bin、mail这样的系统账号。 groupadd 1.作用groupadd命令用于将新组加入系统。 2.格式 groupadd [－g gid] [－o]] [－r] [－f] groupname 3.主要参数－g gid：指定组ID号。－o：允许组ID号，不必惟一。－r：加入组ID号，低于499系统账号。－f：加入已经有的组时，发展程序退出。 4.应用实例建立一个新组，并设置组ID加入系统： ＃groupadd －g 344 cjh 此时在/etc/passwd文件中产生一个组ID（GID）是344的项目。 kill 1.作用kill命令用来中止一个进程。 2.格式 kill [ －s signal | －p ] [ －a ] pid ...kill －l [ signal ] 3.参数－s：指定发送的信号。－p：模拟发送信号。－l：指定信号的名称列表。pid：要中止进程的ID号。Signal：表示信号。 4.说明进程是Linux系统中一个非常重要的概念。Linux是一个多任务的操作系统，系统上经常同时运行着多个进程。我们不关心这些进程究竟是如何分配的，或者是内核如何管理分配时间片的，所关心的是如何去控制这些进程，让它们能够很好地为用户服务。 Linux 操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性。交互进程是由一个Shell启动的进程。交互进程既可以在前台运行，也可以在后台运行。批处理进程和终端没有联系，是一个进程序列。监控进程（也称系统守护进程）时Linux系统启动时启动的进程，并在后台运行。例如，httpd是著名的 Apache服务器的监控进程。 kill命令的工作原理是，向Linux系统的内核发送一个系统操作信号和某个程序的进程标识号，然后系统内核就可以对进程标识号指定的进程进行操作。比如在top命令中，我们看到系统运行许多进程，有时就需要使用kill中止某些进程来提高系统资源。在讲解安装和登陆命令时，曾提到系统多个虚拟控制台的作用是当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作关闭这个程序。此时使用的命令就是kill，因为kill是大多数Shell内部命令可以直接调用的。 5.应用实例（1）强行中止（经常使用杀掉）一个进程标识号为324的进程： ＃kill －9 324 （2）解除Linux系统的死锁在Linux 中有时会发生这样一种情况：一个程序崩溃，并且处于死锁的状态。此时一般不用重新启动计算机，只需要中止(或者说是关闭)这个有问题的程序即可。当 kill处于X-Window界面时，主要的程序(除了崩溃的程序之外)一般都已经正常启动了。此时打开一个终端，在那里中止有问题的程序。比如，如果 Mozilla浏览器程序出现了锁死的情况，可以使用kill命令来中止所有包含有Mozolla浏览器的程序。首先用top命令查处该程序的PID，然后使用kill命令停止这个程序： ＃kill －SIGKILL XXX 其中，XXX是包含有Mozolla浏览器的程序的进程标识号。 （3）使用命令回收内存我们知道内存对于系统是非常重要的，回收内存可以提高系统资源。kill命令可以及时地中止一些“越轨”的程序或很长时间没有相应的程序。例如，使用top命令发现一个无用 (Zombie) 的进程，此时可以使用下面命令： ＃kill －9 XXX 其中，XXX是无用的进程标识号。 然后使用下面命令： ＃free 此时会发现可用内存容量增加了。 （4）killall命令Linux下还提供了一个killall命令，可以直接使用进程的名字而不是进程标识号，例如： ＃ killall -HUP inetd crontab 1.作用使用crontab命令可以修改crontab配置文件，然后该配置由cron公用程序在适当的时间执行，该命令使用权限是所有用户。 2.格式 crontab [ －u user ] 文件crontab [ －u user ] { －l | －r | －e } 3.主要参数－e：执行文字编辑器来设定时程表，内定的文字编辑器是vi。－r：删除目前的时程表。－l：列出目前的时程表。 crontab 文件的格式为“M H D m d cmd”。其中，M代表分钟（0～59），H代表小时（0～23），D代表天（1～31），m代表月（1～12），d代表一星期内的天（0～6，0为星期天）。cmd表示要运行的程序，它被送入sh执行，这个Shell只有USER、HOME、SHELL三个环境变量。 4.说明和at命令相比，crontab命令适合完成固定周期的任务。 5.应用实例设置一个定时、定期的系统提示： [cao @www cao]#crontab －e 此时系统会打开一个vi编辑器。 如果输入以下内容：35 17 * * 5 wall &quot;Tomorrow is Saturday I will go CS&quot;，然后存盘退出。这时在/var/spool/cron/目录下会生产一个cao的文件，内容如下： # DO NOT EDIT THIS FILE － edit the master and reinstall.# (/tmp/crontab.2707 installed on Thu Jan 1 22:01:51 2004)# (Cron version －－ $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)35 17 * * 5 wall &quot;Tomorrow is Saturday I will play CS &quot; 这样每个星期五17：35系统就会弹出一个终端，提醒星期六可以打打CS了！ 动手练习 1.联合使用kill和top命令观察系统性能的变化 首先启动一个终端运行top命令，然后再启动一个终端使用kill命令，见图4所示。 图4 观察kill命令对top终端的影响 这时利用上面介绍的kill命令来中止一些程序： ＃kill SIGKILL XXX 然后再看top命令终端的变化，包括内存容量、CPU使用率、系统负载等。注意，有些进程是不能中止的，不过学习Linux命令时可以试试，看看系统有什么反应。 2.使用at和halt命令定时关机首先设定关机时间是17:35，输入下面代码： ＃at 17:35warning: commands will be executed using (in order) a) $SHELL b) login shell c) /bin/shat&gt;halt `-i －pat&gt; &lt;EOT&gt;job 6 at 2004－01－01 17:35 此时实际上就已经进入Linux系统的Shell，并且编写一个最简单程序：halt －i －p。上面Shell中的文本结束符号表示按“Ctrl＋D”组合键关闭命令，提交任务退出Shell。“Job 6 at 2004－01－01 17:35”表示系统接受第6个at命令，在“2004－01－01 17:35”时执行命令：先把所有网络相关的装置停止，关闭系统后关闭电源。 3.用crontab命令实现每天定时的病毒扫描前面已经介绍了一个简单的crontab命令操作，这里看一些更重要的操作。 （1）建立一个文件，文件名称自己设定，假设为caoproject： ＃crontab －e （2）文件内容如下： 05 09 * * * antivir 用vi编辑后存盘退出。antivir是一个查杀Linux病毒的软件，当然需要时先安装在系统中。 （3）使用crontab命令添加到任务列表中： ＃crontab caoproject 这样系统内所有用户在每天的9点05分会自动进行病毒扫描。 4.用kill使修改的配置文件马上生效Windows用户一般都知道，重要配置文件修改后往往都要重新启动计算机才能使修改生效。而Linux由于采用了模块化设计，可以自己根据需要实时设定服务。这里以网络服务inetd为例介绍一些操作技巧。 inetd 是一个监听守护进程，监听与提供互联网服务进程（如rlogin、telnet、ftp、rsh）进行连接的要求，并扩展所需的服务进程。默认情况下，inetd监听的这些daemon均列于/etc /inetd.conf文件中。编辑/etc/inetd.conf文件，可以改变inetd启动服务器守护进程的选项，然后驱使inetd以 SIGHUP（signal 1）向当前的inetd进程发送信号，使inetd重读该文件。这一过程由kill命令来实现。用vi或其它编辑器修改inetd.conf后，首先使用下面命令： ＃ps -ef |grep inetd 上面代码表明查询inetd.conf的进程号(PID)，这里假设是1426，然后使用下面命令： ＃ kill -1426 inetd 这样配置文件就生效了。 这一讲介绍的系统管理命令都是比较重要的，特别是crontab命令和quota命令使用起来会有一定难度，需要多做一些练习。另外，使用kill命令要注意“－9“这个参数，练习时最好不要运行一些重要的程序。 Linux的命令行方式功能强大，如果熟练掌握了Linux的常用命令，往往只需要通过各种技巧就可以组合构成一条复杂的命令，从而完成用户任务。Linux系统中的命令实在是太多了，不可能像在MS DOS中把所有的命令及参数都记住。 PS:记得查收小编送你的免费大礼包呦~ 福利 | 一万多套PPT模板等你免费来拿！无条件领取！ 免费送 | 1000多套简历模板免费拿，附赠简历制作教程！ 免费领 | 《Shell脚本 100例》电子书免费拿，运维必备干货~ ▼▼点击【阅读原文】，22大互联网热门课程任选免费学！" />
<link rel="canonical" href="https://uzzz.org/2019/05/31/792639.html" />
<meta property="og:url" content="https://uzzz.org/2019/05/31/792639.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-31T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Linux提供了大量的命令，利用它可以有效地完成大量的工作，如磁盘操作、文件存取、目录操作、进程管理、文件权限设定等。所以，在Linux系统上工作离不开使用系统提供的命令。要想真正理解Linux系统，就必须从Linux命令学起，通过基础的命令学习可以进一步理解Linux系统。 安装与登陆命令 login 1.作用 login的作用是登录系统，它的使用权限是所有用户。 2.格式 login [name][－p ][－h 主机名称] 3.主要参数 －p:通知login保持现在的环境参数。 －h:用来向远程登录的之间传输用户名。 如果选择用命令行模式登录Linux的话，那么看到的第一个Linux命令就是login：。 一般界面是这样的： Manddrake Linux release 9.1(Bamboo) for i586renrel 2.4.21－0.13mdk on i686 / tty1localhost login:rootpassword: 上面代码中，第一行是Linux发行版本号，第二行是内核版本号和登录的虚拟控制台，我们在第三行输入登录名，按“Enter”键在Password后输入账户密码，即可登录系统。出于安全考虑，输入账户密码时字符不会在屏幕上回显，光标也不移动。 登录后会看到下面这个界面（以超级用户为例）： [root@localhost root]#last login:Tue ,Nov 18 10:00:55 on vc/1 上面显示的是登录星期、月、日、时间和使用的虚拟控制台。 4.应用技巧 Linux是一个真正的多用户操作系统，可以同时接受多个用户登录，还允许一个用户进行多次登录。这是因为Linux和许多版本的Unix一样，提供了虚拟控制台的访问方式，允许用户在同一时间从控制台（系统的控制台是与系统直接相连的监视器和键盘）进行多次登录。每个虚拟控制台可以看作是一个独立的工作站，工作台之间可以切换。虚拟控制台的切换可以通过按下Alt键和一个功能键来实现，通常使用F1-F6 。 例如，用户登录后，按一下“Alt+F2”键，用户就可以看到上面出现的“login:”提示符，说明用户看到了第二个虚拟控制台。然后只需按“Alt+ F1”键，就可以回到第一个虚拟控制台。一个新安装的Linux系统允许用户使用“Alt+F1”到“Alt+F6”键来访问前六个虚拟控制台。虚拟控制台最有用的是，当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作，关闭这个程序。 shutdown 1.作用 shutdown命令的作用是关闭计算机，它的使用权限是超级用户。 2.格式 shutdown [－h][－i][－k][－m][－t] 3.重要参数 －t：在改变到其它运行级别之前，告诉init程序多久以后关机。 －k：并不真正关机，只是送警告信号给每位登录者。 －h：关机后关闭电源。 －c：cancel current process取消目前正在执行的关机程序。所以这个选项当然没有时间参数，但是可以输入一个用来解释的讯息，而这信息将会送到每位使用者。 －F：在重启计算机时强迫fsck。 －time：设定关机前的时间。 －m: 将系统改为单用户模式。 －i：关机时显示系统信息。 4.命令说明 shutdown命令可以安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭Linux系统，这是十分危险的。因为Linux与Windows不同，其后台运行着许多进程，所以强制关机可能会导致进程的数据丢失，使系统处于不稳定的状态，甚至在有的系统中会损坏硬件设备（硬盘）。在系统关机前使用 shutdown命令，系统管理员会通知所有登录的用户系统将要关闭，并且login指令会被冻结，即新的用户不能再登录。 halt 1.作用 halt命令的作用是关闭系统，它的使用权限是超级用户。 2.格式 halt [－n] [－w] [－d] [－f] [－i] [－p] 3.主要参数说明 －n：防止sync系统调用，它用在用fsck修补根分区之后，以阻止内核用老版本的超级块覆盖修补过的超级块。 －w：并不是真正的重启或关机,只是写wtmp（/var/log/wtmp）纪录。 －f：没有调用shutdown，而强制关机或重启。 －i：关机（或重启）前，关掉所有的网络接口。 －f：强迫关机，不呼叫shutdown这个指令。 －p: 当关机的时候顺便做关闭电源的动作。 －d：关闭系统，但不留下纪录。　 4.命令说明 halt就是调用shutdown －h。halt执行时，杀死应用进程，执行sync(将存于buffer中的资料强制写入硬盘中)系统调用，文件系统写操作完成后就会停止内核。若系统的运行级别为0或6，则关闭系统；否则以shutdown指令（加上－h参数）来取代。　 reboot 1.作用 reboot命令的作用是重新启动计算机，它的使用权限是系统管理者。 2.格式 reboot [－n] [－w] [－d] [－f] [－i] 3.主要参数 －n: 在重开机前不做将记忆体资料写回硬盘的动作。 －w: 并不会真的重开机，只是把记录写到/var/log/wtmp文件里。 －d: 不把记录写到/var/log/wtmp文件里（－n这个参数包含了－d）。 －i: 在重开机之前先把所有与网络相关的装置停止。 install 1.作用 install命令的作用是安装或升级软件或备份数据，它的使用权限是所有用户。 2.格式 (1)install [选项]... 来源 目的地 (2)install [选项]... 来源... 目录 (3)install －d [选项]... 目录... 在前两种格式中，会将&lt;来源&gt;复制至&lt;目的地&gt;或将多个&lt;来源&gt;文件复制至已存在的&lt;目录&gt;，同时设定权限模式及所有者/所属组。在第三种格式中，会创建所有指定的目录及它们的主目录。长选项必须用的参数在使用短选项时也是必须的。 3.主要参数 －－backup[=CONTROL]：为每个已存在的目的地文件进行备份。 －b：类似 －－backup，但不接受任何参数。 －c：(此选项不作处理)。 －d，－－directory：所有参数都作为目录处理，而且会创建指定目录的所有主目录。 －D：创建&lt;目的地&gt;前的所有主目录，然后将&lt;来源&gt;复制至 &lt;目的地&gt;；在第一种使用格式中有用。 －g，－－group=组：自行设定所属组，而不是进程目前的所属组。 －m，－－mode=模式：自行设定权限模式 (像chmod)，而不是rwxr－xr－x。 －o，－－owner=所有者：自行设定所有者 (只适用于超级用户)。 －p，－－preserve－timestamps：以&lt;来源&gt;文件的访问/修改时间作为相应的目的地文件的时间属性。 －s，－－strip：用strip命令删除symbol table，只适用于第一及第二种使用格式。 －S，－－suffix=后缀：自行指定备份文件的&lt;后缀&gt;。 －v，－－verbose：处理每个文件/目录时印出名称。 －－help：显示此帮助信息并离开。 －－version：显示版本信息并离开。 mount 1.作用 mount命令的作用是加载文件系统，它的用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 mount －a [－fv] [－t vfstype] [－n] [－rw] [－F] device dir 3.主要参数 －h：显示辅助信息。 －v：显示信息，通常和－f用来除错。 －a：将/etc/fstab中定义的所有文件系统挂上。 －F：这个命令通常和－a一起使用，它会为每一个mount的动作产生一个行程负责执行。在系统需要挂上大量NFS文件系统时可以加快加载的速度。 －f：通常用于除错。它会使mount不执行实际挂上的动作，而是模拟整个挂上的过程，通常会和－v一起使用。 －t vfstype：显示被加载文件系统的类型。 －n：一般而言，mount挂上后会在/etc/mtab中写入一笔资料，在系统中没有可写入文件系统的情况下，可以用这个选项取消这个动作。 4.应用技巧 在Linux和Unix系统上，所有文件都是作为一个大型树（以/为根）的一部分访问的。要访问CD-ROM上的文件，需要将CD-ROM设备挂装在文件树中的某个挂装点。如果发行版安装了自动挂装包，那么这个步骤可自动进行。在Linux中，如果要使用硬盘、光驱等储存设备，就得先将它加载，当储存设备挂上了之后，就可以把它当成一个目录来访问。挂上一个设备使用mount命令。在使用mount这个指令时，至少要先知道下列三种信息：要加载对象的文件系统类型、要加载对象的设备名称及要将设备加载到哪个目录下。 （1）Linux可以识别的文件系统 ◆ Windows 95/98常用的FAT 32文件系统：vfat ； ◆ Win NT/2000 的文件系统：ntfs ； ◆ OS/2用的文件系统：hpfs； ◆ Linux用的文件系统：ext2、ext3； ◆ CD-ROM光盘用的文件系统：iso9660。 虽然vfat是指FAT 32系统，但事实上它也兼容FAT 16的文件系统类型。 （2）确定设备的名称 在Linux中，设备名称通常都存在/dev里。这些设备名称的命名都是有规则的，可以用“推理”的方式把设备名称找出来。例如，/dev/hda1这个 IDE设备，hd是Hard Disk(硬盘)的，sd是SCSI Device，fd是Floppy Device(或是Floppy Disk?)。a代表第一个设备，通常IDE接口可以接上4个IDE设备(比如4块硬盘)。所以要识别IDE硬盘的方法分别就是hda、hdb、hdc、 hdd。hda1中的“1”代表hda的第一个硬盘分区 (partition)，hda2代表hda的第二主分区，第一个逻辑分区从hda5开始，依此类推。此外，可以直接检查/var/log/messages文件，在该文件中可以找到计算机开机后系统已辨认出来的设备代号。 （3）查找挂接点 在决定将设备挂接之前，先要查看一下计算机是不是有个/mnt的空目录，该目录就是专门用来当作挂载点(Mount Point)的目录。建议在/mnt里建几个/mnt/cdrom、/mnt/floppy、/mnt/mo等目录，当作目录的专用挂载点。举例而言，如要挂载下列5个设备，其执行指令可能如下 (假设都是Linux的ext2系统，如果是Windows XX请将ext2改成vfat)： 软盘 ===&gt;mount －t ext2 /dev/fd0 /mnt/floppycdrom ===&gt;mount －t iso9660 /dev/hdc /mnt/cdromSCSI cdrom ===&gt;mount －t iso9660 /dev/sdb /mnt/scdromSCSI cdr ===&gt;mount －t iso9660 /dev/sdc /mnt/scdr 不过目前大多数较新的Linux发行版本（包括红旗 Linux、中软Linux、Mandrake Linux等）都可以自动挂装文件系统，但Red Hat Linux除外。 umount 1.作用 umount命令的作用是卸载一个文件系统，它的使用权限是超级用户或/etc/fstab中允许的使用者。 2.格式 unmount －a [－fFnrsvw] [－t vfstype] [－n] [－rw] [－F] device dir 3.使用说明 umount命令是mount命令的逆操作，它的参数和使用方法和mount命令是一样的。Linux挂装CD-ROM后，会锁定CD—ROM，这样就不能用CD-ROM面板上的Eject按钮弹出它。但是，当不再需要光盘时，如果已将/cdrom作为符号链接，请使用umount/cdrom来卸装它。仅当无用户正在使用光盘时，该命令才会成功。该命令包括了将带有当前工作目录当作该光盘中的目录的终端窗口。 chsh 1.作用 chsh命令的作用是更改使用者shell设定，它的使用权限是所有使用者。 2.格式 chsh [ －s ] [ －list] [ －－help ] [ －v ] [ username ] 3.主要参数 －l：显示系统所有Shell类型。 －v：显示Shell版本号。 4.应用技巧 前面介绍了Linux下有多种Shell，一般缺省的是Bash，如果想更换Shell类型可以使用chsh命令。先输入账户密码，然后输入新Shell类型，如果操作正确系统会显示“Shell change”。其界面一般如下： Changing fihanging shell for caoPassword:New shell [/bin/bash]: /bin/tcsh 上面代码中，[ ]内是目前使用的Shell。普通用户只能修改自己的Shell，超级用户可以修改全体用户的Shell。 exit 1.作用 exit命令的作用是退出系统，它的使用权限是所有用户。 2.格式 exit 3.参数 exit命令没有参数，运行后退出系统进入登录界面。 last 1.作用 last命令的作用是显示近期用户或终端的登录情况，它的使用权限是所有用户。通过last命令查看该程序的log，管理员可以获知谁曾经或企图连接系统。 2.格式 1ast[—n][－f file][－t tty] [—h 节点][－I —IP][—1][－y][1D] 3.主要参数 －n：指定输出记录的条数。 －f file：指定用文件file作为查询用的log文件。 －t tty：只显示指定的虚拟控制台上登录情况。 －h 节点：只显示指定的节点上的登录情况。 －i IP：只显示指定的IP上登录的情况。 －1：用IP来显示远端地址。 －y：显示记录的年、月、日。 －ID：知道查询的用户名。 －x:显示系统关闭、用户登录和退出的历史。 动手练习 上面介绍了Linux安装和登录命令，下面介绍几个实例，动手练习一下刚才讲过的命令。 1.一次运行多个命令 在一个命令行中可以执行多个命令，用分号将各个命令隔开即可，例如： ＃last －x；halt 上面代码表示在显示系统关闭、用户登录和退出的历史后关闭计算机。 2.利用mount挂装文件系统访问Windows系统 许多Linux发行版本现在都可以自动加载Vfat分区来访问Windows系统，而Red Hat各个版本都没有自动加载Vfat分区，因此还需要进行手工操作。 mount可以将Windows分区作为Linux的一个“文件”挂接到Linux的一个空文件夹下，从而将Windows的分区和/mnt这个目录联系起来。因此，只要访问这个文件夹就相当于访问该分区了。首先要在/mnt下建立winc文件夹，在命令提示符下输入下面命令： ＃mount -t vfat /dev/hda1 /mnt/winc 即表示将Windows的C分区挂到Liunx的/mnt/winc目录下。这时，在/mnt/winc目录下就可以看到Windows中C盘的内容了。使用类似的方法可以访问Windows系统的D、E盘。在Linux系统显示Windows的分区一般顺序这样的：hda1为C盘、hda5为D盘、 hda6为E盘……以此类推。上述方法可以查看Windows系统有一个很大的问题，就是Windows中的所有中文文件名或文件夹名全部显示为问号 “？”，而英文却可以正常显示。我们可以通过加入一些参数让它显示中文。还以上面的操作为例，此时输入命令： ＃mount -t vfat -o iocharset=cp936 /dev/hda1 /mnt/winc 现在它就可以正常显示中文了。 3.使用mount加挂闪盘上的文件系统 在Linux下使用闪盘非常简单。Linux对USB设备有很好的支持，当插入闪盘后，闪盘被识别为一个SCSI盘，通常输入以下命令： ＃ mount /dev/sda1 /usb 就能够加挂闪盘上的文件系统。 小知识 Linux命令与Shell 所谓Shell，就是命令解释程序，它提供了程序设计接口，可以使用程序来编程。学习Shell对于Linux初学者理解Linux系统是非常重要的。 Linux系统的Shell作为操作系统的外壳，为用户提供了使用操作系统的接口。Shell是命令语言、命令解释程序及程序设计语言的统称，是用户和 Linux内核之间的接口程序。如果把Linux内核想象成一个球体的中心，Shell就是围绕内核的外层。当从Shell或其它程序向Linux传递命令时，内核会做出相应的反应。Shell在Linux系统的作用和MS DOS下的COMMAND.COM和Windows 95/98 的 explorer.exe相似。Shell虽然不是系统核心的一部分，只是系统核心的一个外延，但它能够调用系统内核的大部分功能。因此，可以说 Shell是Unux/Linux最重要的实用程序。 Linux中的Shell有多种类型，其中最常用的是Bourne Shell(sh)、C Shell(csh)和Korn Shell(ksh)。大多数Linux发行版本缺省的Shell是Bourne Again Shell，它是Bourne Shell的扩展，简称bash，与Bourne Shell完全向后兼容，并且在Bourne Shell的基础上增加了很多特性。bash放在/bin/bash中，可以提供如命令补全、命令编辑和命令历史表等功能。它还包含了很多C Shell和Korn Shell中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。Linux系统中200多个命令中有40个是bash的内部命令，主要包括 exit、less、lp、kill、 cd、pwd、fc、fg等。 文件处理命令 Linux 系统信息存放在文件里，文件与普通的公务文件类似。每个文件都有自己的名字、内容、存放地址及其它一些管理信息，如文件的用户、文件的大小等。文件可以是一封信、一个通讯录，或者是程序的源语句、程序的数据，甚至可以包括可执行的程序和其它非正文内容。 Linux文件系统具有良好的结构，系统提供了很多文件处理程序。这里主要介绍常用的文件处理命令。 file 1.作用&nbsp; 内容判断文件类型，使用权限是所有用户。 2.格式 file通过探测文 file [options] 文件名 3.[options]主要参数 -v：在标准输出后显示版本信息，并且退出。 -z：探测压缩过的文件类型。 -L：允许符合连接。 -f name：从文件namefile中读取要分析的文件名列表。 4.简单说明 使用file命令可以知道某个文件究竟是二进制（ELF格式）的可执行文件, 还是Shell Script文件，或者是其它的什么格式。file能识别的文件类型有目录、Shell脚本、英文文本、二进制可执行文件、C语言源文件、文本文件、DOS的可执行文件。 5.应用实例 如果我们看到一个没有后缀的文件grap，可以使用下面命令： $ file grap grap： English text 此时系统显示这是一个英文文本文件。需要说明的是，file命令不能探测包括图形、音频、视频等多媒体文件类型。 mkdir 1.作用 mkdir命令的作用是建立名称为dirname的子目录，与MS DOS下的md命令类似，它的使用权限是所有用户。 2.格式 mkdir [options] 目录名 3.[options]主要参数 －m, －－mode=模式：设定权限&lt;模式&gt;，与chmod类似。 －p, －－parents：需要时创建上层目录；如果目录早已存在，则不当作错误。 －v, －－verbose：每次创建新目录都显示信息。 －－version：显示版本信息后离开。 4.应用实例 在进行目录创建时可以设置目录的权限，此时使用的参数是“－m”。假设要创建的目录名是“tsk”，让所有用户都有rwx(即读、写、执行的权限)，那么可以使用以下命令： $ mkdir －m 777 tsk grep 1.作用 grep命令可以指定文件中搜索特定的内容，并将含有这些内容的行标准输出。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。 2.格式 grep [options] 3.主要参数 [options]主要参数： －c：只输出匹配行的计数。 －I：不区分大小写（只适用于单字符）。 －h：查询多文件时不显示文件名。 －l：查询多文件时只输出包含匹配字符的文件名。 －n：显示匹配行及行号。 －s：不显示不存在或无匹配文本的错误信息。 －v：显示不包含匹配文本的所有行。 pattern正则表达式主要参数： /：忽略正则表达式中特殊字符的原有含义。 ^：匹配正则表达式的开始行。 $: 匹配正则表达式的结束行。 /&lt;：从匹配正则表达式的行开始。 /&gt;：到匹配正则表达式的行结束。 [ ]：单个字符，如[A]即A符合要求 。 [ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。 。：所有的单个字符。 * ：有字符，长度可以为0。 正则表达式是Linux/Unix系统中非常重要的概念。正则表达式（也称为“regex”或“regexp”）是一个可以描述一类字符串的模式（Pattern）。如果一个字符串可以用某个正则表达式来描述，我们就说这个字符和该正则表达式匹配（Match）。这和DOS中用户可以使用通配符 “*”代表任意字符类似。在Linux系统上，正则表达式通常被用来查找文本的模式，以及对文本执行“搜索－替换”操作和其它功能。 4.应用实例 查询DNS服务是日常工作之一，这意味着要维护覆盖不同网络的大量IP地址。有时IP地址会超过2000个。如果要查看nnn.nnn网络地址，但是却忘了第二部分中的其余部分，只知到有两个句点，例如nnn nn..。要抽取其中所有nnn.nnn IP地址，使用[0－9 ]/{3 /}/.[0－0/{3/}/。含义是任意数字出现3次，后跟句点，接着是任意数字出现3次，后跟句点。 $grep &#39;[0－9 ]/{3 /}/.[0－0/{3/}/&#39; ipfile 补充说明，grep家族还包括fgrep和egrep。fgrep是fix grep，允许查找字符串而不是一个模式；egrep是扩展grep，支持基本及扩展的正则表达式，但不支持/q模式范围的应用及与之相对应的一些更加规范的模式。 dd 1.作用 dd命令用来复制文件，并根据参数将数据转换和格式化。 2.格式 dd [options] 3.[opitions]主要参数 bs=字节：强迫 ibs=&lt;字节&gt;及obs=&lt;字节&gt;。 cbs=字节：每次转换指定的&lt;字节&gt;。 conv=关键字：根据以逗号分隔的关键字表示的方式来转换文件。 count=块数目：只复制指定&lt;块数目&gt;的输入数据。 ibs=字节：每次读取指定的&lt;字节&gt;。 if=文件：读取&lt;文件&gt;内容，而非标准输入的数据。 obs=字节：每次写入指定的&lt;字节&gt;。 of=文件：将数据写入&lt;文件&gt;，而不在标准输出显示。 seek=块数目：先略过以obs为单位的指定&lt;块数目&gt;的输出数据。 skip=块数目：先略过以ibs为单位的指定&lt;块数目&gt;的输入数据。 4.应用实例 dd命令常常用来制作Linux启动盘。先找一个可引导内核，令它的根设备指向正确的根分区，然后使用dd命令将其写入软盘： $ rdev vmlinuz /dev/hda $dd if＝vmlinuz of＝/dev/fd0 上面代码说明，使用rdev命令将可引导内核vmlinuz中的根设备指向/dev/hda，请把“hda”换成自己的根分区，接下来用dd命令将该内核写入软盘。 find 1.作用 find命令的作用是在目录中搜索文件，它的使用权限是所有用户。 2.格式 find [path][options][expression] path指定目录路径，系统从这里开始沿着目录树向下查找文件。它是一个路径列表，相互用空格分离，如果不写path，那么默认为当前目录。 3.主要参数 [options]参数： －depth：使用深度级别的查找过程方式，在某层指定目录中优先查找文件内容。 －maxdepth levels：表示至多查找到开始目录的第level层子目录。level是一个非负数，如果level是0的话表示仅在当前目录中查找。 －mindepth levels：表示至少查找到开始目录的第level层子目录。 －mount：不在其它文件系统（如Msdos、Vfat等）的目录和文件中查找。 －version：打印版本。 [expression]是匹配表达式，是find命令接受的表达式，find命令的所有操作都是针对表达式的。它的参数非常多，这里只介绍一些常用的参数。 —name：支持统配符*和?。 －atime n：搜索在过去n天读取过的文件。 －ctime n：搜索在过去n天修改过的文件。 －group grpoupname：搜索所有组为grpoupname的文件。 －user 用户名：搜索所有文件属主为用户名（ID或名称）的文件。 －size n：搜索文件大小是n个block的文件。 －print：输出搜索结果，并且打印。 4.应用技巧 find命令查找文件的几种方法： （1）根据文件名查找 例如，我们想要查找一个文件名是lilo.conf的文件，可以使用如下命令： find / －name lilo.conf find命令后的“/”表示搜索整个硬盘。 （2）快速查找文件 根据文件名查找文件会遇到一个实际问题，就是要花费相当长的一段时间，特别是大型Linux文件系统和大容量硬盘文件放在很深的子目录中时。如果我们知道了这个文件存放在某个目录中，那么只要在这个目录中往下寻找就能节省很多时间。比如smb.conf文件，从它的文件后缀“.conf”可以判断这是一个配置文件，那么它应该在/etc目录内，此时可以使用下面命令： find /etc －name smb.conf 这样，使用“快速查找文件”方式可以缩短时间。 （3）根据部分文件名查找方法 有时我们知道只某个文件包含有abvd这4个字，那么要查找系统中所有包含有这4个字符的文件可以输入下面命令： find / －name &#39;*abvd*&#39; 输入这个命令以后，Linux系统会将在/目录中查找所有的包含有abvd这4个字符的文件（其中*是通配符），比如abvdrmyz等符合条件的文件都能显示出来。 (4) 使用混合查找方式查找文件 find命令可以使用混合查找的方法，例如，我们想在/etc目录中查找大于500000字节，并且在24小时内修改的某个文件，则可以使用-and (与)把两个查找参数链接起来组合成一个混合的查找方式。 find /etc -size +500000c -and -mtime +1 mv 1.作用 mv命令用来为文件或目录改名，或者将文件由一个目录移入另一个目录中，它的使用权限是所有用户。该命令如同DOS命令中的ren和move的组合。 2.格式 mv[options] 源文件或目录 目标文件或目录 3.[options]主要参数 －i：交互方式操作。如果mv操作将导致对已存在的目标文件的覆盖，此时系统询问是否重写，要求用户回答“y”或“n”，这样可以避免误覆盖文件。 －f：禁止交互操作。mv操作要覆盖某个已有的目标文件时不给任何指示，指定此参数后i参数将不再起作用。 4.应用实例 （1）将/usr/cbu中的所有文件移到当前目录（用“.”表示）中： $ mv /usr/cbu/ * . （2）将文件cjh.txt重命名为wjz.txt： $ mv cjh.txt wjz.txt　 ls 1.作用 ls命令用于显示目录内容，类似DOS下的dir命令，它的使用权限是所有用户。 2.格式 ls [options][filename] 3.options主要参数 －a, －－all：不隐藏任何以“.” 字符开始的项目。 －A, －－almost－all：列出除了“ . ”及 “.. ”以外的任何项目。 －－author：印出每个文件著作者。 －b, －－escape：以八进制溢出序列表示不可打印的字符。 －－block－size=大小：块以指定&lt;大小&gt;的字节为单位。 －B, －－ignore－backups：不列出任何以 ~ 字符结束的项目。 －f：不进行排序，－aU参数生效，－lst参数失效。 －F, －－classify：加上文件类型的指示符号 (*/=@| 其中一个)。 －g：like －l, but do not list owner。 －G, －－no－group：inhibit display of group information。 －i, －－inode：列出每个文件的inode号。 －I, －－ignore=样式：不印出任何符合Shell万用字符&lt;样式&gt;的项目。 －k：即－－block－size=1K。 －l：使用较长格式列出信息。 －L, －－dereference：当显示符号链接的文件信息时，显示符号链接所指示的对象，而并非符号链接本身的信息。 －m：所有项目以逗号分隔，并填满整行行宽。 －n, －－numeric－uid－gid：类似－l，但列出UID及GID号。 －N, －－literal：列出未经处理的项目名称，例如不特别处理控制字符。 －p, －－file－type：加上文件类型的指示符号 (/=@| 其中一个)。 －Q, －－quote－name：将项目名称括上双引号。 －r, －－reverse：依相反次序排列。 －R, －－recursive：同时列出所有子目录层。 －s, －－size：以块大小为序。 4.应用举例 ls 命令是Linux系统使用频率最多的命令，它的参数也是Linux命令中最多的。使用ls命令时会有几种不同的颜色，其中蓝色表示是目录，绿色表示是可执行文件，红色表示是压缩文件，浅蓝色表示是链接文件，加粗的黑色表示符号链接，灰色表示是其它格式文件。 文件类型开头是由10个字符构成的字符串。其中第一个字符表示文件类型，它可以是下述类型之一：－（普通文件）、d（目录）、l（符号链接）、b（块设备文件）、c（字符设备文件）。后面的9个字符表示文件的访问权限，分为3组，每组3位。第一组表示文件属主的权限，第二组表示同组用户的权限，第三组表示其他用户的权限。每一组的三个字符分别表示对文件的读（r）、写（w）和执行权限（x）。对于目录，表示进入权限。s表示当文件被执行时，把该文件的UID 或GID赋予执行进程的UID（用户ID）或GID（组 ID）。t表示设置标志位（留在内存，不被换出）。如果该文件是目录，那么在该目录中的文件只能被超级用户、目录拥有者或文件属主删除。如果它是可执行文件，那么在该文件执行后，指向其正文段的指针仍留在内存。这样再次执行它时，系统就能更快地装入该文件。接着显示的是文件大小、生成时间、文件或命令名称。 diff 1.作用 diff命令用于两个文件之间的比较，并指出两者的不同，它的使用权限是所有用户。 2.格式 diff [options] 源文件 目标文件 3.[options]主要参数 -a：将所有文件当作文本文件来处理。 -b：忽略空格造成的不同。 -B：忽略空行造成的不同。 -c：使用纲要输出格式。 -H：利用试探法加速对大文件的搜索。 -I：忽略大小写的变化。 -n --rcs：输出RCS格式。 cmp 1.作用 cmp（“compare”的缩写）命令用来简要指出两个文件是否存在差异，它的使用权限是所有用户。 2.格式 cmp[options] 文件名 3.[options]主要参数 -l: 将字节以十进制的方式输出，并方便将两个文件中不同的以八进制的方式输出。 cat 1.作用 cat（“concatenate”的缩写）命令用于连接并显示指定的一个和多个文件的有关信息，它的使用权限是所有用户。 2.格式 cat [options] 文件1 文件2…… 3.[options]主要参数 －n：由第一行开始对所有输出的行数编号。 －b：和－n相似，只不过对于空白行不编号。 －s：当遇到有连续两行以上的空白行时，就代换为一行的空白行。 4.应用举例 （1）cat命令一个最简单的用处是显示文本文件的内容。例如，我们想在命令行看一下README文件的内容，可以使用命令： $ cat README　 （2）有时需要将几个文件处理成一个文件，并将这种处理的结果保存到一个单独的输出文件。cat命令在其输入上接受一个或多个文件，并将它们作为一个单独的文件打印到它的输出。例如，把README和INSTALL的文件内容加上行号（空白行不加）之后，将内容附加到一个新文本文件File1 中： $ cat README INSTALL File1 （3）cat还有一个重要的功能就是可以对行进行编号，见图2所示。这种功能对于程序文档的编制，以及法律和科学文档的编制很方便，打印在左边的行号使得参考文档的某一部分变得容易，这些在编程、科学研究、业务报告甚至是立法工作中都是非常重要的。 对行进行编号功能有-b（只能对非空白行进行编号）和-n（可以对所有行进行编号）两个参数： $ cat -b /etc/named.conf ln 1.作用 ln命令用来在文件之间创建链接，它的使用权限是所有用户。 2.格式 ln [options] 源文件 [链接名] 3.参数 －f：链结时先将源文件删除。 －d：允许系统管理者硬链结自己的目录。 －s：进行软链结(Symbolic Link)。 －b：将在链结时会被覆盖或删除的文件进行备份。 链接有两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，ln命令产生硬链接。 硬连接指通过索引节点来进行的连接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件才会被真正删除。 与硬连接相对应，Lnux系统中还存在另一种连接，称为符号连接（Symbilc Link），也叫软连接。软链接文件有点类似于Windows的快捷方式。它实际上是特殊文件的一种。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。 动手练习 上面我们介绍了Linux文件处理命令，下面介绍几个实例，大家可以动手练习一下刚才讲过的命令。 1.利用符号链接快速访问关键目录 符号链接是一个非常实用的功能。假设有一些目录或文件需要频繁使用，但由于Linux的文件和目录结构等原因，这个文件或目录在很深的子目录中。比如， Apache Web服务器文档位于系统的/usr/local/httpd/htdocs中，并且不想每次都要从主目录进入这样一个长的路径之中(实际上，这个路径也非常不容易记忆)。 为了解决这个问题，可以在主目录中创建一个符号链接，这样在需要进入该目录时，只需进入这个链接即可。 为了能方便地进入Web服务器(/usr/local/httpd/htdocs)文档所在的目录，在主目录下可以使用以下命令： $ ln -s /usr/local/httpd/htdocs gg 这样每次进入gg目录就可访问Web服务器的文档，以后如果不再访问Web服务器的文档时，删除gg即可，而真正的Web服务器的文档并没有删除。 2.使用dd命令将init.rd格式的root.ram内容导入内存 dd if=/dev/fd0 of=floppy.fd dd if=root.ram of=/dev/ram0 # 3.grep命令系统调用 grep是Linux/Unix中使用最广泛的命令之一，许多Linux系统内部都可以调用它。 (1)如果要查询目录列表中的目录，方法如下： $ ls -l | grep &#39;∧d&#39; (2)如果在一个目录中查询不包含目录的所有文件，方法如下： $ ls -l | grep &#39;∧[∧d]&#39; (3)用find命令调用grep，如所有C源代码中的“Chinput”，方法如下： $find /ZhXwin -name *.c -exec grep -q -s Chinput {} /;-print 系统管理命令 对于Linux系统来说，无论是中央处理器、内存、磁盘驱动器、键盘、鼠标，还是用户等都是文件，Linux系统管理的命令是它正常运行的核心。熟悉了Linux常用的文件处理命令以后，这一讲介绍对系统和用户进行管理的命令。 df 1.作用df命令用来检查文件系统的磁盘空间占用情况，使用权限是所有用户。 2.格式 df [options] 3.主要参数－s：对每个Names参数只给出占用的数据块总数。－a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定－s，也不指定－a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。－k：以1024字节为单位列出磁盘空间使用情况。－x：跳过在不同文件系统上的目录不予统计。－l：计算所有的文件大小，对硬链接文件则计算多次。－i：显示inode信息而非块使用量。－h：以容易理解的格式印出文件系统大小，例如136KB、254MB、21GB。－P：使用POSIX输出格式。－T：显示文件系统类型。 4.说明df命令被广泛地用来生成文件系统的使用统计数据，它能显示系统中所有的文件系统的信息，包括总容量、可用的空闲空间、目前的安装点等。 超级权限用户使用df命令时会发现这样的情况：某个分区的容量超过了100％。这是因为Linux系统为超级用户保留了10％的空间，由其单独支配。也就是说，对于超级用户而言，他所见到的硬盘容量将是110％。这样的安排对于系统管理而言是有好处的，当硬盘被使用的容量接近100％时系统管理员还可以正常工作。 5.应用实例Linux支持的文件系统非常多，包括JFS、ReiserFS、ext、ext2、ext3、ISO9660、XFS、Minx、vfat、MSDOS等。使用df -T命令查看磁盘空间时还可以得到文件系统的信息： ＃df －T 文件系统 类型 容量 已用 可用 已用% 挂载点 /dev/hda7 reiserfs 5.2G 1.6G 3.7G 30% //dev/hda1 vfat 2.4G 1.6G 827M 66% /windows/C/dev/hda5 vfat 3.0G 1.7G 1.3G 57% /windows/D/dev/hda9 vfat 3.0G 2.4G 566M 82% /windows/E/dev/hda10 NTFS 3.2G 573M 2.6G 18% /windows/F/dev/hda11 vfat 1.6G 1.5G 23M 99% /windows/G 从上面除了可以看到磁盘空间的容量、使用情况外，分区的文件系统类型、挂载点等信息也一览无遗。 top 1.作用top命令用来显示执行中的程序进程，使用权限是所有用户。 2.格式 top [－] [d delay] [q] [c] [S] [s] [i] [n] 3.主要参数d：指定更新的间隔，以秒计算。q：没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。c：显示进程完整的路径与名称。S：累积模式，会将己完成或消失的子行程的CPU时间累积起来。s：安全模式。i：不显示任何闲置(Idle)或无用(Zombie)的行程。n：显示更新的次数，完成后将会退出top。 4.说明top命令是Linux系统管理的一个主要命令，通过它可以获得许多信息。 PID（Process ID）：进程标示号。USER：进程所有者的用户名。PR：进程的优先级别。NI：进程的优先级别数值。VIRT：进程占用的虚拟内存值。RES：进程占用的物理内存值。SHR：进程使用的共享内存值。S：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。%CPU：该进程占用的CPU使用率。%MEM：该进程占用的物理内存和总内存的百分比。TIME＋：该进程启动后占用的总的CPU时间。Command：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。&lt;空格&gt;：立刻刷新。P：根据CPU使用大小进行排序。T：根据时间、累计时间排序。q：退出top命令。m：切换显示内存信息。t：切换显示进程和CPU状态信息。c：切换显示命令名称和完整命令行。M：根据使用内存大小进行排序。W：将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。 可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。 5.应用实例使用top命令可以监视指定用户，缺省情况是监视所有用户的进程。如果想查看指定用户的情况，在终端中按“U”键，然后输入用户名，系统就会切换为指定用户的进程运行界面。 free 1.作用free命令用来显示内存的使用情况，使用权限是所有用户。 2.格式 free [－b|－k|－m] [－o] [－s delay] [－t] [－V] 3.主要参数－b －k －m：分别以字节（KB、MB）为单位显示内存使用情况。－s delay：显示每隔多少秒数来显示一次内存使用情况。－t：显示内存总和列。－o：不显示缓冲区调节列。 4.应用实例free命令是用来查看内存使用情况的主要命令。和top命令相比，它的优点是使用简单，并且只占用很少的系统资源。通过－S参数可以使用free命令不间断地监视有多少内存在使用，这样可以把它当作一个方便实时监控器。 ＃free －b －s5 使用这个命令后终端会连续不断地报告内存使用情况（以字节为单位），每5秒更新一次。 quota 1.作用quota命令用来显示磁盘使用情况和限制情况，使用权限超级用户。 2.格式 quota [－g][－u][－v][－p] 用户名 组名 3.参数－g：显示用户所在组的磁盘使用限制。－u：显示用户的磁盘使用限制。－v：显示没有分配空间的文件系统的分配情况。－p：显示简化信息。 4.应用实例在企业应用中磁盘配额非常重要，普通用户要学会看懂自己的磁盘使用情况。要查询自己的磁盘配额可以使用下面命令（下例中用户账号是caojh)： ＃quota caojhDisk quotas for user caojh(uid 502):Filesystem blocks quota limit grace files quota limit grace/dev/hda3 58 200000 400000 41 500 1000 以上显示ID号为502的caojh账号，文件个数设置为500～1000个，硬盘空间限制设置为200MB～400MB。一旦磁盘配额要用完时，就需要删除一些垃圾文件或向系统管理员请求追加配额。 at 1.作用at命令用来在指定时刻执行指定的命令序列。 2.格式 at [－V] [－q x] [－f file] [－m] time 3.主要参数－V：显示标准错误输出。－q：许多队列输出。－f：从文件中读取作业。－m：执行完作业后发送电子邮件到用户。time：设定作业执行的时间。time格式有严格的要求，由小时、分钟、日期和时间的偏移量组成，其中日期的格式为MM.DD.YY，MM是分钟，DD是日期，YY是指年份。偏移量的格式为时间＋偏移量，单位是minutes、hours和days。 4.应用实例 ＃at －f data 15:30 +2 days 上面命令表示让系统在两天后的17：30执行文件data中指明的作业。 lp 1.作用lp是打印文件的命令，使用权限是所有用户。 2.格式 lp [－c][－d][－m][－number][－title][-p] 3.主要参数－c：先拷贝文件再打印。－d：打印队列文件。－m：打印结束后发送电子邮件到用户。－number：打印份数。－title：打印标题。－p：设定打印的优先级别，最高为100。 4.应用实例（1）使用lp命令打印多个文件 ＃lp 2 3 4request id is 11 (3 file(s)) 其中2、3、4分别是文件名；“request id is 11 (3 file(s)) ”表示这是第11个打印命令，依次打印这三个文件。 （2）设定打印优先级别 ＃lp lp -d LaserJet -p 90 /etc/aliases 通过添加“-p 90”，规定了打印作业的优先级为90。它将在优先级低于90的打印作业之前打印，包括没有设置优先级的作业，缺省优先级是50 useradd 1.作用useradd命令用来建立用户帐号和创建用户的起始目录，使用权限是超级用户。 2.格式 useradd [－d home] [－s shell] [－c comment] [－m [－k template]] [－f inactive] [－e expire ] [－p passwd] [－r] name 3.主要参数－c：加上备注文字，备注文字保存在passwd的备注栏中。　－d：指定用户登入时的启始目录。－D：变更预设值。－e：指定账号的有效期限，缺省表示永久有效。－f：指定在密码过期后多少天即关闭该账号。－g：指定用户所属的群组。－G：指定用户所属的附加群组。－m：自动建立用户的登入目录。－M：不要自动建立用户的登入目录。－n：取消建立以用户名称为名的群组。－r：建立系统账号。－s：指定用户登入后所使用的shell。－u：指定用户ID号。 4.说明useradd可用来建立用户账号，它和adduser命令是相同的。账号建好之后，再用passwd设定账号的密码。使用useradd命令所建立的账号，实际上是保存在/etc/passwd文本文件中。 5.应用实例建立一个新用户账户，并设置ID： ＃useradd caojh －u 544 需要说明的是，设定ID值时尽量要大于500，以免冲突。因为Linux安装后会建立一些特殊用户，一般0到499之间的值留给bin、mail这样的系统账号。 groupadd 1.作用groupadd命令用于将新组加入系统。 2.格式 groupadd [－g gid] [－o]] [－r] [－f] groupname 3.主要参数－g gid：指定组ID号。－o：允许组ID号，不必惟一。－r：加入组ID号，低于499系统账号。－f：加入已经有的组时，发展程序退出。 4.应用实例建立一个新组，并设置组ID加入系统： ＃groupadd －g 344 cjh 此时在/etc/passwd文件中产生一个组ID（GID）是344的项目。 kill 1.作用kill命令用来中止一个进程。 2.格式 kill [ －s signal | －p ] [ －a ] pid ...kill －l [ signal ] 3.参数－s：指定发送的信号。－p：模拟发送信号。－l：指定信号的名称列表。pid：要中止进程的ID号。Signal：表示信号。 4.说明进程是Linux系统中一个非常重要的概念。Linux是一个多任务的操作系统，系统上经常同时运行着多个进程。我们不关心这些进程究竟是如何分配的，或者是内核如何管理分配时间片的，所关心的是如何去控制这些进程，让它们能够很好地为用户服务。 Linux 操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性。交互进程是由一个Shell启动的进程。交互进程既可以在前台运行，也可以在后台运行。批处理进程和终端没有联系，是一个进程序列。监控进程（也称系统守护进程）时Linux系统启动时启动的进程，并在后台运行。例如，httpd是著名的 Apache服务器的监控进程。 kill命令的工作原理是，向Linux系统的内核发送一个系统操作信号和某个程序的进程标识号，然后系统内核就可以对进程标识号指定的进程进行操作。比如在top命令中，我们看到系统运行许多进程，有时就需要使用kill中止某些进程来提高系统资源。在讲解安装和登陆命令时，曾提到系统多个虚拟控制台的作用是当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作关闭这个程序。此时使用的命令就是kill，因为kill是大多数Shell内部命令可以直接调用的。 5.应用实例（1）强行中止（经常使用杀掉）一个进程标识号为324的进程： ＃kill －9 324 （2）解除Linux系统的死锁在Linux 中有时会发生这样一种情况：一个程序崩溃，并且处于死锁的状态。此时一般不用重新启动计算机，只需要中止(或者说是关闭)这个有问题的程序即可。当 kill处于X-Window界面时，主要的程序(除了崩溃的程序之外)一般都已经正常启动了。此时打开一个终端，在那里中止有问题的程序。比如，如果 Mozilla浏览器程序出现了锁死的情况，可以使用kill命令来中止所有包含有Mozolla浏览器的程序。首先用top命令查处该程序的PID，然后使用kill命令停止这个程序： ＃kill －SIGKILL XXX 其中，XXX是包含有Mozolla浏览器的程序的进程标识号。 （3）使用命令回收内存我们知道内存对于系统是非常重要的，回收内存可以提高系统资源。kill命令可以及时地中止一些“越轨”的程序或很长时间没有相应的程序。例如，使用top命令发现一个无用 (Zombie) 的进程，此时可以使用下面命令： ＃kill －9 XXX 其中，XXX是无用的进程标识号。 然后使用下面命令： ＃free 此时会发现可用内存容量增加了。 （4）killall命令Linux下还提供了一个killall命令，可以直接使用进程的名字而不是进程标识号，例如： ＃ killall -HUP inetd crontab 1.作用使用crontab命令可以修改crontab配置文件，然后该配置由cron公用程序在适当的时间执行，该命令使用权限是所有用户。 2.格式 crontab [ －u user ] 文件crontab [ －u user ] { －l | －r | －e } 3.主要参数－e：执行文字编辑器来设定时程表，内定的文字编辑器是vi。－r：删除目前的时程表。－l：列出目前的时程表。 crontab 文件的格式为“M H D m d cmd”。其中，M代表分钟（0～59），H代表小时（0～23），D代表天（1～31），m代表月（1～12），d代表一星期内的天（0～6，0为星期天）。cmd表示要运行的程序，它被送入sh执行，这个Shell只有USER、HOME、SHELL三个环境变量。 4.说明和at命令相比，crontab命令适合完成固定周期的任务。 5.应用实例设置一个定时、定期的系统提示： [cao @www cao]#crontab －e 此时系统会打开一个vi编辑器。 如果输入以下内容：35 17 * * 5 wall &quot;Tomorrow is Saturday I will go CS&quot;，然后存盘退出。这时在/var/spool/cron/目录下会生产一个cao的文件，内容如下： # DO NOT EDIT THIS FILE － edit the master and reinstall.# (/tmp/crontab.2707 installed on Thu Jan 1 22:01:51 2004)# (Cron version －－ $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)35 17 * * 5 wall &quot;Tomorrow is Saturday I will play CS &quot; 这样每个星期五17：35系统就会弹出一个终端，提醒星期六可以打打CS了！ 动手练习 1.联合使用kill和top命令观察系统性能的变化 首先启动一个终端运行top命令，然后再启动一个终端使用kill命令，见图4所示。 图4 观察kill命令对top终端的影响 这时利用上面介绍的kill命令来中止一些程序： ＃kill SIGKILL XXX 然后再看top命令终端的变化，包括内存容量、CPU使用率、系统负载等。注意，有些进程是不能中止的，不过学习Linux命令时可以试试，看看系统有什么反应。 2.使用at和halt命令定时关机首先设定关机时间是17:35，输入下面代码： ＃at 17:35warning: commands will be executed using (in order) a) $SHELL b) login shell c) /bin/shat&gt;halt `-i －pat&gt; &lt;EOT&gt;job 6 at 2004－01－01 17:35 此时实际上就已经进入Linux系统的Shell，并且编写一个最简单程序：halt －i －p。上面Shell中的文本结束符号表示按“Ctrl＋D”组合键关闭命令，提交任务退出Shell。“Job 6 at 2004－01－01 17:35”表示系统接受第6个at命令，在“2004－01－01 17:35”时执行命令：先把所有网络相关的装置停止，关闭系统后关闭电源。 3.用crontab命令实现每天定时的病毒扫描前面已经介绍了一个简单的crontab命令操作，这里看一些更重要的操作。 （1）建立一个文件，文件名称自己设定，假设为caoproject： ＃crontab －e （2）文件内容如下： 05 09 * * * antivir 用vi编辑后存盘退出。antivir是一个查杀Linux病毒的软件，当然需要时先安装在系统中。 （3）使用crontab命令添加到任务列表中： ＃crontab caoproject 这样系统内所有用户在每天的9点05分会自动进行病毒扫描。 4.用kill使修改的配置文件马上生效Windows用户一般都知道，重要配置文件修改后往往都要重新启动计算机才能使修改生效。而Linux由于采用了模块化设计，可以自己根据需要实时设定服务。这里以网络服务inetd为例介绍一些操作技巧。 inetd 是一个监听守护进程，监听与提供互联网服务进程（如rlogin、telnet、ftp、rsh）进行连接的要求，并扩展所需的服务进程。默认情况下，inetd监听的这些daemon均列于/etc /inetd.conf文件中。编辑/etc/inetd.conf文件，可以改变inetd启动服务器守护进程的选项，然后驱使inetd以 SIGHUP（signal 1）向当前的inetd进程发送信号，使inetd重读该文件。这一过程由kill命令来实现。用vi或其它编辑器修改inetd.conf后，首先使用下面命令： ＃ps -ef |grep inetd 上面代码表明查询inetd.conf的进程号(PID)，这里假设是1426，然后使用下面命令： ＃ kill -1426 inetd 这样配置文件就生效了。 这一讲介绍的系统管理命令都是比较重要的，特别是crontab命令和quota命令使用起来会有一定难度，需要多做一些练习。另外，使用kill命令要注意“－9“这个参数，练习时最好不要运行一些重要的程序。 Linux的命令行方式功能强大，如果熟练掌握了Linux的常用命令，往往只需要通过各种技巧就可以组合构成一条复杂的命令，从而完成用户任务。Linux系统中的命令实在是太多了，不可能像在MS DOS中把所有的命令及参数都记住。 PS:记得查收小编送你的免费大礼包呦~ 福利 | 一万多套PPT模板等你免费来拿！无条件领取！ 免费送 | 1000多套简历模板免费拿，附赠简历制作教程！ 免费领 | 《Shell脚本 100例》电子书免费拿，运维必备干货~ ▼▼点击【阅读原文】，22大互联网热门课程任选免费学！","@type":"BlogPosting","url":"https://uzzz.org/2019/05/31/792639.html","headline":"运维常用命令大全，从入门到精通就靠它了！","dateModified":"2019-05-31T00:00:00+08:00","datePublished":"2019-05-31T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://uzzz.org/2019/05/31/792639.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>运维常用命令大全，从入门到精通就靠它了！</h1>
        
        
        <ul style="display: block;">
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
 	    <li><a href="/donate/" style="line-height: unset;" target="_blank"><strong>Donate</strong></a></li>
        </ul>
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
<!-- match content ads -->
	        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<ins class="adsbygoogle"
			     style="display:block"
			     data-ad-format="autorelaxed"
			     data-ad-client="ca-pub-8889449066804352"
			     data-ad-slot="1928667997"></ins>
			<script>
			     (adsbygoogle = window.adsbygoogle || []).push({});
			</script>	



        <div id="article_content" class="article_content clearfix"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="rich_media_content" id="js_content"> 
   <p><img class="__bg_gif" style="font-family:'微软雅黑';font-size:14px;color:rgb(62,62,62);text-indent:32px;line-height:25.6px;text-align:center;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz/z9433rAGTDdibEpOicqr1cEjnWvByDZtfE3AhEu0ibp03MmDS8Gvibwf4AdPibqMae1HrYm3GBCEn7vX2Avp8Qetr4A/640?" alt="640?"></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><span style="font-size:15px;">Linux提供了大量的命令，利用它可以有效地完成大量的工作，如磁盘操作、文件存取、目录操作、进程管理、文件权限设定等。所以，在Linux系统上工作离不开使用系统提供的命令。要想真正理解Linux系统，就必须从Linux命令学起，通过基础的命令学习可以进一步理解Linux系统。</span><br></p>
   <p><br></p>
   <p><span style="color:rgb(216,40,33);"><strong><span style="font-size:15px;">安装与登陆命令</span></strong></span></p>
   <img class="yead_bgc wx-img" style="vertical-align:top;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/kFKyFMaQc8icGxSauCam9EEGGU4wIo5oQ032ibuAvDTpPkQhI2YCYjtUnYbpL4SWzvyeE2Xm9NXVKOM0nNyBl7kQ/640?wx_fmt=png" alt="640?wx_fmt=png">
   <p><br></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">login</span></strong><br></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">login的作用是登录系统，它的使用权限是所有用户。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">login [name][－p ][－h 主机名称]</span></p>
   </blockquote>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－p:通知login保持现在的环境参数。</span></p>
   <p><span style="font-size:15px;">－h:用来向远程登录的之间传输用户名。</span></p>
   <p><span style="font-size:15px;">如果选择用命令行模式登录Linux的话，那么看到的第一个Linux命令就是login：。</span></p>
   <p><span style="font-size:15px;">一般界面是这样的：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">Manddrake Linux release 9.1(Bamboo) for i586<br>renrel 2.4.21－0.13mdk on i686 / tty1<br>localhost login:root<br>password:</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面代码中，第一行是Linux发行版本号，第二行是内核版本号和登录的虚拟控制台，我们在第三行输入登录名，按“Enter”键在Password后输入账户密码，即可登录系统。出于安全考虑，输入账户密码时字符不会在屏幕上回显，光标也不移动。</span></p>
   <p><span style="font-size:15px;">登录后会看到下面这个界面（以超级用户为例）：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">[root@localhost root]#<br>last login:Tue ,Nov 18 10:00:55 on vc/1</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面显示的是登录星期、月、日、时间和使用的虚拟控制台。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用技巧</span></strong></p>
   <p><span style="font-size:15px;">Linux是一个真正的多用户操作系统，可以同时接受多个用户登录，还允许一个用户进行多次登录。这是因为Linux和许多版本的Unix一样，提供了虚拟控制台的访问方式，允许用户在同一时间从控制台（系统的控制台是与系统直接相连的监视器和键盘）进行多次登录。每个虚拟控制台可以看作是一个独立的工作站，工作台之间可以切换。虚拟控制台的切换可以通过按下Alt键和一个功能键来实现，通常使用F1-F6 。</span></p>
   <p><span style="font-size:15px;">例如，用户登录后，按一下“Alt+F2”键，用户就可以看到上面出现的“login:”提示符，说明用户看到了第二个虚拟控制台。然后只需按“Alt+ F1”键，就可以回到第一个虚拟控制台。一个新安装的Linux系统允许用户使用“Alt+F1”到“Alt+F6”键来访问前六个虚拟控制台。虚拟控制台最有用的是，当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作，关闭这个程序。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">shutdown</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">shutdown命令的作用是关闭计算机，它的使用权限是超级用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">shutdown [－h][－i][－k][－m][－t]</span></p>
   </blockquote>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">3.重要参数</span></strong></p>
   <p><span style="font-size:15px;">－t：在改变到其它运行级别之前，告诉init程序多久以后关机。</span></p>
   <p><span style="font-size:15px;">－k：并不真正关机，只是送警告信号给每位登录者。</span></p>
   <p><span style="font-size:15px;">－h：关机后关闭电源。</span></p>
   <p><span style="font-size:15px;">－c：cancel current process取消目前正在执行的关机程序。所以这个选项当然没有时间参数，但是可以输入一个用来解释的讯息，而这信息将会送到每位使用者。</span></p>
   <p><span style="font-size:15px;">－F：在重启计算机时强迫fsck。</span></p>
   <p><span style="font-size:15px;">－time：设定关机前的时间。</span></p>
   <p><span style="font-size:15px;">－m: 将系统改为单用户模式。</span></p>
   <p><span style="font-size:15px;">－i：关机时显示系统信息。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">4.命令说明</span></strong></p>
   <p><span style="font-size:15px;">shutdown命令可以安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭Linux系统，这是十分危险的。因为Linux与Windows不同，其后台运行着许多进程，所以强制关机可能会导致进程的数据丢失，使系统处于不稳定的状态，甚至在有的系统中会损坏硬件设备（硬盘）。在系统关机前使用 shutdown命令，系统管理员会通知所有登录的用户系统将要关闭，并且login指令会被冻结，即新的用户不能再登录。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">halt</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">halt命令的作用是关闭系统，它的使用权限是超级用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">halt [－n] [－w] [－d] [－f] [－i] [－p]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数说明</span></strong></p>
   <p><span style="font-size:15px;">－n：防止sync系统调用，它用在用fsck修补根分区之后，以阻止内核用老版本的超级块覆盖修补过的超级块。</span></p>
   <p><span style="font-size:15px;">－w：并不是真正的重启或关机,只是写wtmp（/var/log/wtmp）纪录。</span></p>
   <p><span style="font-size:15px;">－f：没有调用shutdown，而强制关机或重启。</span></p>
   <p><span style="font-size:15px;">－i：关机（或重启）前，关掉所有的网络接口。</span></p>
   <p><span style="font-size:15px;">－f：强迫关机，不呼叫shutdown这个指令。</span></p>
   <p><span style="font-size:15px;">－p: 当关机的时候顺便做关闭电源的动作。</span></p>
   <p><span style="font-size:15px;">－d：关闭系统，但不留下纪录。　</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.命令说明</span></strong></p>
   <p><span style="font-size:15px;">halt就是调用shutdown －h。halt执行时，杀死应用进程，执行sync(将存于buffer中的资料强制写入硬盘中)系统调用，文件系统写操作完成后就会停止内核。若系统的运行级别为0或6，则关闭系统；否则以shutdown指令（加上－h参数）来取代。　</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">reboot</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">reboot命令的作用是重新启动计算机，它的使用权限是系统管理者。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">reboot [－n] [－w] [－d] [－f] [－i]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－n: 在重开机前不做将记忆体资料写回硬盘的动作。</span></p>
   <p><span style="font-size:15px;">－w: 并不会真的重开机，只是把记录写到/var/log/wtmp文件里。</span></p>
   <p><span style="font-size:15px;">－d: 不把记录写到/var/log/wtmp文件里（－n这个参数包含了－d）。</span></p>
   <p><span style="font-size:15px;">－i: 在重开机之前先把所有与网络相关的装置停止。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">install</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">install命令的作用是安装或升级软件或备份数据，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <p><span style="font-size:15px;">(1)install [选项]... 来源 目的地</span></p>
   <p><span style="font-size:15px;">(2)install [选项]... 来源... 目录</span></p>
   <p><span style="font-size:15px;">(3)install －d [选项]... 目录...</span></p>
   <p><span style="font-size:15px;">在前两种格式中，会将&lt;来源&gt;复制至&lt;目的地&gt;或将多个&lt;来源&gt;文件复制至已存在的&lt;目录&gt;，同时设定权限模式及所有者/所属组。在第三种格式中，会创建所有指定的目录及它们的主目录。长选项必须用的参数在使用短选项时也是必须的。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－－backup[=CONTROL]：为每个已存在的目的地文件进行备份。</span></p>
   <p><span style="font-size:15px;">－b：类似 －－backup，但不接受任何参数。</span></p>
   <p><span style="font-size:15px;">－c：(此选项不作处理)。</span></p>
   <p><span style="font-size:15px;">－d，－－directory：所有参数都作为目录处理，而且会创建指定目录的所有主目录。</span></p>
   <p><span style="font-size:15px;">－D：创建&lt;目的地&gt;前的所有主目录，然后将&lt;来源&gt;复制至 &lt;目的地&gt;；在第一种使用格式中有用。</span></p>
   <p><span style="font-size:15px;">－g，－－group=组：自行设定所属组，而不是进程目前的所属组。</span></p>
   <p><span style="font-size:15px;">－m，－－mode=模式：自行设定权限模式 (像chmod)，而不是rwxr－xr－x。</span></p>
   <p><span style="font-size:15px;">－o，－－owner=所有者：自行设定所有者 (只适用于超级用户)。</span></p>
   <p><span style="font-size:15px;">－p，－－preserve－timestamps：以&lt;来源&gt;文件的访问/修改时间作为相应的目的地文件的时间属性。</span></p>
   <p><span style="font-size:15px;">－s，－－strip：用strip命令删除symbol table，只适用于第一及第二种使用格式。</span></p>
   <p><span style="font-size:15px;">－S，－－suffix=后缀：自行指定备份文件的&lt;后缀&gt;。</span></p>
   <p><span style="font-size:15px;">－v，－－verbose：处理每个文件/目录时印出名称。</span></p>
   <p><span style="font-size:15px;">－－help：显示此帮助信息并离开。</span></p>
   <p><span style="font-size:15px;">－－version：显示版本信息并离开。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">mount</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">mount命令的作用是加载文件系统，它的用权限是超级用户或/etc/fstab中允许的使用者。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">mount －a [－fv] [－t vfstype] [－n] [－rw] [－F] device dir</span></p>
   </blockquote>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－h：显示辅助信息。</span></p>
   <p><span style="font-size:15px;">－v：显示信息，通常和－f用来除错。</span></p>
   <p><span style="font-size:15px;">－a：将/etc/fstab中定义的所有文件系统挂上。</span></p>
   <p><span style="font-size:15px;">－F：这个命令通常和－a一起使用，它会为每一个mount的动作产生一个行程负责执行。在系统需要挂上大量NFS文件系统时可以加快加载的速度。</span></p>
   <p><span style="font-size:15px;">－f：通常用于除错。它会使mount不执行实际挂上的动作，而是模拟整个挂上的过程，通常会和－v一起使用。</span></p>
   <p><span style="font-size:15px;">－t vfstype：显示被加载文件系统的类型。</span></p>
   <p><span style="font-size:15px;">－n：一般而言，mount挂上后会在/etc/mtab中写入一笔资料，在系统中没有可写入文件系统的情况下，可以用这个选项取消这个动作。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">4.应用技巧</span></strong></p>
   <p><span style="font-size:15px;">在Linux和Unix系统上，所有文件都是作为一个大型树（以/为根）的一部分访问的。要访问CD-ROM上的文件，需要将CD-ROM设备挂装在文件树中的某个挂装点。如果发行版安装了自动挂装包，那么这个步骤可自动进行。在Linux中，如果要使用硬盘、光驱等储存设备，就得先将它加载，当储存设备挂上了之后，就可以把它当成一个目录来访问。挂上一个设备使用mount命令。在使用mount这个指令时，至少要先知道下列三种信息：要加载对象的文件系统类型、要加载对象的设备名称及要将设备加载到哪个目录下。</span></p>
   <p><span style="font-size:15px;">（1）Linux可以识别的文件系统</span></p>
   <p><span style="font-size:15px;">◆ Windows 95/98常用的FAT 32文件系统：vfat ；</span></p>
   <p><span style="font-size:15px;">◆ Win NT/2000 的文件系统：ntfs ；</span></p>
   <p><span style="font-size:15px;">◆ OS/2用的文件系统：hpfs；</span></p>
   <p><span style="font-size:15px;">◆ Linux用的文件系统：ext2、ext3；</span></p>
   <p><span style="font-size:15px;">◆ CD-ROM光盘用的文件系统：iso9660。</span></p>
   <p><span style="font-size:15px;">虽然vfat是指FAT 32系统，但事实上它也兼容FAT 16的文件系统类型。</span></p>
   <p><span style="font-size:15px;">（2）确定设备的名称</span></p>
   <p><span style="font-size:15px;">在Linux中，设备名称通常都存在/dev里。这些设备名称的命名都是有规则的，可以用“推理”的方式把设备名称找出来。例如，/dev/hda1这个 IDE设备，hd是Hard Disk(硬盘)的，sd是SCSI Device，fd是Floppy Device(或是Floppy Disk?)。a代表第一个设备，通常IDE接口可以接上4个IDE设备(比如4块硬盘)。所以要识别IDE硬盘的方法分别就是hda、hdb、hdc、 hdd。hda1中的“1”代表hda的第一个硬盘分区 (partition)，hda2代表hda的第二主分区，第一个逻辑分区从hda5开始，依此类推。此外，可以直接检查/var/log/messages文件，在该文件中可以找到计算机开机后系统已辨认出来的设备代号。</span></p>
   <p><span style="font-size:15px;">（3）查找挂接点</span></p>
   <p><span style="font-size:15px;">在决定将设备挂接之前，先要查看一下计算机是不是有个/mnt的空目录，该目录就是专门用来当作挂载点(Mount Point)的目录。建议在/mnt里建几个/mnt/cdrom、/mnt/floppy、/mnt/mo等目录，当作目录的专用挂载点。举例而言，如要挂载下列5个设备，其执行指令可能如下 (假设都是Linux的ext2系统，如果是Windows XX请将ext2改成vfat)：</span></p>
   <p><span style="font-size:15px;">软盘 ===&gt;mount －t ext2 /dev/fd0 /mnt/floppy<br>cdrom ===&gt;mount －t iso9660 /dev/hdc /mnt/cdrom<br>SCSI cdrom ===&gt;mount －t iso9660 /dev/sdb /mnt/scdrom<br>SCSI cdr ===&gt;mount －t iso9660 /dev/sdc /mnt/scdr</span></p>
   <p><span style="font-size:15px;">不过目前大多数较新的Linux发行版本（包括红旗 Linux、中软Linux、Mandrake Linux等）都可以自动挂装文件系统，但Red Hat Linux除外。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">umount</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">umount命令的作用是卸载一个文件系统，它的使用权限是超级用户或/etc/fstab中允许的使用者。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">unmount －a [－fFnrsvw] [－t vfstype] [－n] [－rw] [－F] device dir</span></p>
   </blockquote>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">3.使用说明</span></strong></p>
   <p><span style="font-size:15px;">umount命令是mount命令的逆操作，它的参数和使用方法和mount命令是一样的。Linux挂装CD-ROM后，会锁定CD—ROM，这样就不能用CD-ROM面板上的Eject按钮弹出它。但是，当不再需要光盘时，如果已将/cdrom作为符号链接，请使用umount/cdrom来卸装它。仅当无用户正在使用光盘时，该命令才会成功。该命令包括了将带有当前工作目录当作该光盘中的目录的终端窗口。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">chsh</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">chsh命令的作用是更改使用者shell设定，它的使用权限是所有使用者。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">chsh [ －s ] [ －list] [ －－help ] [ －v ] [ username ]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－l：显示系统所有Shell类型。</span></p>
   <p><span style="font-size:15px;">－v：显示Shell版本号。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用技巧</span></strong></p>
   <p><span style="font-size:15px;">前面介绍了Linux下有多种Shell，一般缺省的是Bash，如果想更换Shell类型可以使用chsh命令。先输入账户密码，然后输入新Shell类型，如果操作正确系统会显示“Shell change”。其界面一般如下：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">Changing fihanging shell for cao<br>Password:<br>New shell [/bin/bash]: /bin/tcsh</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面代码中，[ ]内是目前使用的Shell。普通用户只能修改自己的Shell，超级用户可以修改全体用户的Shell。</span></p>
   <p><br></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">exit</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">exit命令的作用是退出系统，它的使用权限是所有用户。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">exit</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.参数</span></strong></p>
   <p><span style="font-size:15px;">exit命令没有参数，运行后退出系统进入登录界面。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">last</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">last命令的作用是显示近期用户或终端的登录情况，它的使用权限是所有用户。通过last命令查看该程序的log，管理员可以获知谁曾经或企图连接系统。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">1ast[—n][－f file][－t tty] [—h 节点][－I —IP][—1][－y][1D]</span></p>
   </blockquote>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">－n：指定输出记录的条数。</span></p>
   <p><span style="font-size:15px;">－f file：指定用文件file作为查询用的log文件。</span></p>
   <p><span style="font-size:15px;">－t tty：只显示指定的虚拟控制台上登录情况。</span></p>
   <p><span style="font-size:15px;">－h 节点：只显示指定的节点上的登录情况。</span></p>
   <p><span style="font-size:15px;">－i IP：只显示指定的IP上登录的情况。</span></p>
   <p><span style="font-size:15px;">－1：用IP来显示远端地址。</span></p>
   <p><span style="font-size:15px;">－y：显示记录的年、月、日。</span></p>
   <p><span style="font-size:15px;">－ID：知道查询的用户名。</span></p>
   <p><span style="font-size:15px;">－x:显示系统关闭、用户登录和退出的历史。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">动手练习</span></strong></p>
   <p><span style="font-size:15px;">上面介绍了Linux安装和登录命令，下面介绍几个实例，动手练习一下刚才讲过的命令。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">1.一次运行多个命令</span></strong></p>
   <p><span style="font-size:15px;">在一个命令行中可以执行多个命令，用分号将各个命令隔开即可，例如：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃last －x；halt</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面代码表示在显示系统关闭、用户登录和退出的历史后关闭计算机。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.利用mount挂装文件系统访问Windows系统</span></strong></p>
   <p><span style="font-size:15px;">许多Linux发行版本现在都可以自动加载Vfat分区来访问Windows系统，而Red Hat各个版本都没有自动加载Vfat分区，因此还需要进行手工操作。</span></p>
   <p><span style="font-size:15px;">mount可以将Windows分区作为Linux的一个“文件”挂接到Linux的一个空文件夹下，从而将Windows的分区和/mnt这个目录联系起来。因此，只要访问这个文件夹就相当于访问该分区了。首先要在/mnt下建立winc文件夹，在命令提示符下输入下面命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃mount -t vfat /dev/hda1 /mnt/winc</span></p>
   </blockquote>
   <p><span style="font-size:15px;">即表示将Windows的C分区挂到Liunx的/mnt/winc目录下。这时，在/mnt/winc目录下就可以看到Windows中C盘的内容了。使用类似的方法可以访问Windows系统的D、E盘。在Linux系统显示Windows的分区一般顺序这样的：hda1为C盘、hda5为D盘、 hda6为E盘……以此类推。上述方法可以查看Windows系统有一个很大的问题，就是Windows中的所有中文文件名或文件夹名全部显示为问号 “？”，而英文却可以正常显示。我们可以通过加入一些参数让它显示中文。还以上面的操作为例，此时输入命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃mount -t vfat -o iocharset=cp936 /dev/hda1 /mnt/winc</span></p>
   </blockquote>
   <p><span style="font-size:15px;">现在它就可以正常显示中文了。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.使用mount加挂闪盘上的文件系统</span></strong></p>
   <p><span style="font-size:15px;">在Linux下使用闪盘非常简单。Linux对USB设备有很好的支持，当插入闪盘后，闪盘被识别为一个SCSI盘，通常输入以下命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃ mount /dev/sda1 /usb</span></p>
   </blockquote>
   <p><span style="font-size:15px;">就能够加挂闪盘上的文件系统。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">小知识</span></strong></span></p>
   <p><strong><span style="font-size:15px;">Linux命令与Shell</span></strong></p>
   <p><span style="font-size:15px;">所谓Shell，就是命令解释程序，它提供了程序设计接口，可以使用程序来编程。学习Shell对于Linux初学者理解Linux系统是非常重要的。 Linux系统的Shell作为操作系统的外壳，为用户提供了使用操作系统的接口。Shell是命令语言、命令解释程序及程序设计语言的统称，是用户和 Linux内核之间的接口程序。如果把Linux内核想象成一个球体的中心，Shell就是围绕内核的外层。当从Shell或其它程序向Linux传递命令时，内核会做出相应的反应。Shell在Linux系统的作用和MS DOS下的COMMAND.COM和Windows 95/98 的 explorer.exe相似。Shell虽然不是系统核心的一部分，只是系统核心的一个外延，但它能够调用系统内核的大部分功能。因此，可以说 Shell是Unux/Linux最重要的实用程序。</span></p>
   <p><span style="font-size:15px;">Linux中的Shell有多种类型，其中最常用的是Bourne Shell(sh)、C Shell(csh)和Korn Shell(ksh)。大多数Linux发行版本缺省的Shell是Bourne Again Shell，它是Bourne Shell的扩展，简称bash，与Bourne Shell完全向后兼容，并且在Bourne Shell的基础上增加了很多特性。bash放在/bin/bash中，可以提供如命令补全、命令编辑和命令历史表等功能。它还包含了很多C Shell和Korn Shell中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。Linux系统中200多个命令中有40个是bash的内部命令，主要包括 exit、less、lp、kill、 cd、pwd、fc、fg等。</span></p>
   <p><span style="font-size:15px;"></span></p>
   <p><span style="color:rgb(216,40,33);"><strong><span style="font-size:15px;">文件处理命令</span></strong></span></p>
   <img class="yead_bgc wx-img" style="vertical-align:top;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/kFKyFMaQc8icGxSauCam9EEGGU4wIo5oQ032ibuAvDTpPkQhI2YCYjtUnYbpL4SWzvyeE2Xm9NXVKOM0nNyBl7kQ/640?wx_fmt=png" alt="640?wx_fmt=png">
   <p><br></p>
   <p><span style="font-size:15px;">Linux 系统信息存放在文件里，文件与普通的公务文件类似。每个文件都有自己的名字、内容、存放地址及其它一些管理信息，如文件的用户、文件的大小等。文件可以是一封信、一个通讯录，或者是程序的源语句、程序的数据，甚至可以包括可执行的程序和其它非正文内容。 Linux文件系统具有良好的结构，系统提供了很多文件处理程序。这里主要介绍常用的文件处理命令。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">file</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;">&nbsp;</span></p>
   <p><span style="font-size:15px;">内容判断文件类型，使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <p><span style="font-size:15px;">file通过探测文</span></p>
   <p><span style="font-size:15px;">file [options] 文件名</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">-v：在标准输出后显示版本信息，并且退出。</span></p>
   <p><span style="font-size:15px;">-z：探测压缩过的文件类型。</span></p>
   <p><span style="font-size:15px;">-L：允许符合连接。</span></p>
   <p><span style="font-size:15px;">-f name：从文件namefile中读取要分析的文件名列表。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.简单说明</span></strong></p>
   <p><span style="font-size:15px;">使用file命令可以知道某个文件究竟是二进制（ELF格式）的可执行文件, 还是Shell Script文件，或者是其它的什么格式。file能识别的文件类型有目录、Shell脚本、英文文本、二进制可执行文件、C语言源文件、文本文件、DOS的可执行文件。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong></p>
   <p><span style="font-size:15px;">如果我们看到一个没有后缀的文件grap，可以使用下面命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ file grap</span></p>
    <p><span style="font-size:13px;color:rgb(136,136,136);">grap： English text</span></p>
   </blockquote>
   <p><span style="font-size:15px;">此时系统显示这是一个英文文本文件。需要说明的是，file命令不能探测包括图形、音频、视频等多媒体文件类型。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">mkdir</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">mkdir命令的作用是建立名称为dirname的子目录，与MS DOS下的md命令类似，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">mkdir [options] 目录名</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">－m, －－mode=模式：设定权限&lt;模式&gt;，与chmod类似。</span></p>
   <p><span style="font-size:15px;">－p, －－parents：需要时创建上层目录；如果目录早已存在，则不当作错误。</span></p>
   <p><span style="font-size:15px;">－v, －－verbose：每次创建新目录都显示信息。</span></p>
   <p><span style="font-size:15px;">－－version：显示版本信息后离开。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong></p>
   <p><span style="font-size:15px;">在进行目录创建时可以设置目录的权限，此时使用的参数是“－m”。假设要创建的目录名是“tsk”，让所有用户都有rwx(即读、写、执行的权限)，那么可以使用以下命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ mkdir －m 777 tsk</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">grep</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">grep命令可以指定文件中搜索特定的内容，并将含有这些内容的行标准输出。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">grep [options]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">[options]主要参数：</span></p>
   <p><span style="font-size:15px;">－c：只输出匹配行的计数。</span></p>
   <p><span style="font-size:15px;">－I：不区分大小写（只适用于单字符）。</span></p>
   <p><span style="font-size:15px;">－h：查询多文件时不显示文件名。</span></p>
   <p><span style="font-size:15px;">－l：查询多文件时只输出包含匹配字符的文件名。</span></p>
   <p><span style="font-size:15px;">－n：显示匹配行及行号。</span></p>
   <p><span style="font-size:15px;">－s：不显示不存在或无匹配文本的错误信息。</span></p>
   <p><span style="font-size:15px;">－v：显示不包含匹配文本的所有行。</span></p>
   <p><span style="font-size:15px;">pattern正则表达式主要参数：</span></p>
   <p><span style="font-size:15px;">/：忽略正则表达式中特殊字符的原有含义。</span></p>
   <p><span style="font-size:15px;">^：匹配正则表达式的开始行。</span></p>
   <p><span style="font-size:15px;">$: 匹配正则表达式的结束行。</span></p>
   <p><span style="font-size:15px;">/&lt;：从匹配正则表达式的行开始。</span></p>
   <p><span style="font-size:15px;">/&gt;：到匹配正则表达式的行结束。</span></p>
   <p><span style="font-size:15px;">[ ]：单个字符，如[A]即A符合要求 。</span></p>
   <p><span style="font-size:15px;">[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。</span></p>
   <p><span style="font-size:15px;">。：所有的单个字符。</span></p>
   <p><span style="font-size:15px;">* ：有字符，长度可以为0。</span></p>
   <p><span style="font-size:15px;">正则表达式是Linux/Unix系统中非常重要的概念。正则表达式（也称为“regex”或“regexp”）是一个可以描述一类字符串的模式（Pattern）。如果一个字符串可以用某个正则表达式来描述，我们就说这个字符和该正则表达式匹配（Match）。这和DOS中用户可以使用通配符 “*”代表任意字符类似。在Linux系统上，正则表达式通常被用来查找文本的模式，以及对文本执行“搜索－替换”操作和其它功能。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong></p>
   <p><span style="font-size:15px;">查询DNS服务是日常工作之一，这意味着要维护覆盖不同网络的大量IP地址。有时IP地址会超过2000个。如果要查看nnn.nnn网络地址，但是却忘了第二部分中的其余部分，只知到有两个句点，例如nnn nn..。要抽取其中所有nnn.nnn IP地址，使用[0－9 ]/{3 /}/.[0－0/{3/}/。含义是任意数字出现3次，后跟句点，接着是任意数字出现3次，后跟句点。</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$grep '[0－9 ]/{3 /}/.[0－0/{3/}/' ipfile</span></p>
   </blockquote>
   <p><span style="font-size:15px;">补充说明，grep家族还包括fgrep和egrep。fgrep是fix grep，允许查找字符串而不是一个模式；egrep是扩展grep，支持基本及扩展的正则表达式，但不支持/q模式范围的应用及与之相对应的一些更加规范的模式。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">dd</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">dd命令用来复制文件，并根据参数将数据转换和格式化。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">dd [options]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[opitions]主要参数</span></strong></p>
   <p><span style="font-size:15px;">bs=字节：强迫 ibs=&lt;字节&gt;及obs=&lt;字节&gt;。</span></p>
   <p><span style="font-size:15px;">cbs=字节：每次转换指定的&lt;字节&gt;。</span></p>
   <p><span style="font-size:15px;">conv=关键字：根据以逗号分隔的关键字表示的方式来转换文件。</span></p>
   <p><span style="font-size:15px;">count=块数目：只复制指定&lt;块数目&gt;的输入数据。</span></p>
   <p><span style="font-size:15px;">ibs=字节：每次读取指定的&lt;字节&gt;。</span></p>
   <p><span style="font-size:15px;">if=文件：读取&lt;文件&gt;内容，而非标准输入的数据。</span></p>
   <p><span style="font-size:15px;">obs=字节：每次写入指定的&lt;字节&gt;。</span></p>
   <p><span style="font-size:15px;">of=文件：将数据写入&lt;文件&gt;，而不在标准输出显示。</span></p>
   <p><span style="font-size:15px;">seek=块数目：先略过以obs为单位的指定&lt;块数目&gt;的输出数据。</span></p>
   <p><span style="font-size:15px;">skip=块数目：先略过以ibs为单位的指定&lt;块数目&gt;的输入数据。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong></p>
   <p><span style="font-size:15px;">dd命令常常用来制作Linux启动盘。先找一个可引导内核，令它的根设备指向正确的根分区，然后使用dd命令将其写入软盘：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ rdev vmlinuz /dev/hda</span></p>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$dd if＝vmlinuz of＝/dev/fd0</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面代码说明，使用rdev命令将可引导内核vmlinuz中的根设备指向/dev/hda，请把“hda”换成自己的根分区，接下来用dd命令将该内核写入软盘。</span></p>
   <p><br></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">find</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">find命令的作用是在目录中搜索文件，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">find [path][options][expression]</span></p>
   </blockquote>
   <p><span style="font-size:15px;">path指定目录路径，系统从这里开始沿着目录树向下查找文件。它是一个路径列表，相互用空格分离，如果不写path，那么默认为当前目录。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong></p>
   <p><span style="font-size:15px;">[options]参数：</span></p>
   <p><span style="font-size:15px;">－depth：使用深度级别的查找过程方式，在某层指定目录中优先查找文件内容。</span></p>
   <p><span style="font-size:15px;">－maxdepth levels：表示至多查找到开始目录的第level层子目录。level是一个非负数，如果level是0的话表示仅在当前目录中查找。</span></p>
   <p><span style="font-size:15px;">－mindepth levels：表示至少查找到开始目录的第level层子目录。</span></p>
   <p><span style="font-size:15px;">－mount：不在其它文件系统（如Msdos、Vfat等）的目录和文件中查找。</span></p>
   <p><span style="font-size:15px;">－version：打印版本。</span></p>
   <p><span style="font-size:15px;">[expression]是匹配表达式，是find命令接受的表达式，find命令的所有操作都是针对表达式的。它的参数非常多，这里只介绍一些常用的参数。</span></p>
   <p><span style="font-size:15px;">—name：支持统配符*和?。</span></p>
   <p><span style="font-size:15px;">－atime n：搜索在过去n天读取过的文件。</span></p>
   <p><span style="font-size:15px;">－ctime n：搜索在过去n天修改过的文件。</span></p>
   <p><span style="font-size:15px;">－group grpoupname：搜索所有组为grpoupname的文件。</span></p>
   <p><span style="font-size:15px;">－user 用户名：搜索所有文件属主为用户名（ID或名称）的文件。</span></p>
   <p><span style="font-size:15px;">－size n：搜索文件大小是n个block的文件。</span></p>
   <p><span style="font-size:15px;">－print：输出搜索结果，并且打印。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用技巧</span></strong></p>
   <p><span style="font-size:15px;">find命令查找文件的几种方法：</span></p>
   <p><span style="font-size:15px;">（1）根据文件名查找</span></p>
   <p><span style="font-size:15px;">例如，我们想要查找一个文件名是lilo.conf的文件，可以使用如下命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">find / －name lilo.conf</span></p>
   </blockquote>
   <p><span style="font-size:15px;">find命令后的“/”表示搜索整个硬盘。</span></p>
   <p><span style="font-size:15px;">（2）快速查找文件</span></p>
   <p><span style="font-size:15px;">根据文件名查找文件会遇到一个实际问题，就是要花费相当长的一段时间，特别是大型Linux文件系统和大容量硬盘文件放在很深的子目录中时。如果我们知道了这个文件存放在某个目录中，那么只要在这个目录中往下寻找就能节省很多时间。比如smb.conf文件，从它的文件后缀“.conf”可以判断这是一个配置文件，那么它应该在/etc目录内，此时可以使用下面命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">find /etc －name smb.conf</span></p>
   </blockquote>
   <p><span style="font-size:15px;">这样，使用“快速查找文件”方式可以缩短时间。</span></p>
   <p><span style="font-size:15px;">（3）根据部分文件名查找方法</span></p>
   <p><span style="font-size:15px;">有时我们知道只某个文件包含有abvd这4个字，那么要查找系统中所有包含有这4个字符的文件可以输入下面命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">find / －name '*abvd*'</span></p>
   </blockquote>
   <p><span style="font-size:15px;">输入这个命令以后，Linux系统会将在/目录中查找所有的包含有abvd这4个字符的文件（其中*是通配符），比如abvdrmyz等符合条件的文件都能显示出来。</span></p>
   <p><span style="font-size:15px;">(4) 使用混合查找方式查找文件</span></p>
   <p><span style="font-size:15px;">find命令可以使用混合查找的方法，例如，我们想在/etc目录中查找大于500000字节，并且在24小时内修改的某个文件，则可以使用-and (与)把两个查找参数链接起来组合成一个混合的查找方式。</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">find /etc -size +500000c -and -mtime +1</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">mv</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">mv命令用来为文件或目录改名，或者将文件由一个目录移入另一个目录中，它的使用权限是所有用户。该命令如同DOS命令中的ren和move的组合。</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">mv[options] 源文件或目录 目标文件或目录</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">－i：交互方式操作。如果mv操作将导致对已存在的目标文件的覆盖，此时系统询问是否重写，要求用户回答“y”或“n”，这样可以避免误覆盖文件。</span></p>
   <p><span style="font-size:15px;">－f：禁止交互操作。mv操作要覆盖某个已有的目标文件时不给任何指示，指定此参数后i参数将不再起作用。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong></p>
   <p><span style="font-size:15px;">（1）将/usr/cbu中的所有文件移到当前目录（用“.”表示）中：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ mv /usr/cbu/ * .</span></p>
   </blockquote>
   <p><span style="font-size:15px;">（2）将文件cjh.txt重命名为wjz.txt：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ mv cjh.txt wjz.txt　</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">ls</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">ls命令用于显示目录内容，类似DOS下的dir命令，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">ls [options][filename]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.options主要参数</span></strong></p>
   <p><span style="font-size:15px;">－a, －－all：不隐藏任何以“.” 字符开始的项目。</span></p>
   <p><span style="font-size:15px;">－A, －－almost－all：列出除了“ . ”及 “.. ”以外的任何项目。</span></p>
   <p><span style="font-size:15px;">－－author：印出每个文件著作者。</span></p>
   <p><span style="font-size:15px;">－b, －－escape：以八进制溢出序列表示不可打印的字符。</span></p>
   <p><span style="font-size:15px;">－－block－size=大小：块以指定&lt;大小&gt;的字节为单位。</span></p>
   <p><span style="font-size:15px;">－B, －－ignore－backups：不列出任何以 ~ 字符结束的项目。</span></p>
   <p><span style="font-size:15px;">－f：不进行排序，－aU参数生效，－lst参数失效。</span></p>
   <p><span style="font-size:15px;">－F, －－classify：加上文件类型的指示符号 (*/=@| 其中一个)。</span></p>
   <p><span style="font-size:15px;">－g：like －l, but do not list owner。</span></p>
   <p><span style="font-size:15px;">－G, －－no－group：inhibit display of group information。</span></p>
   <p><span style="font-size:15px;">－i, －－inode：列出每个文件的inode号。</span></p>
   <p><span style="font-size:15px;">－I, －－ignore=样式：不印出任何符合Shell万用字符&lt;样式&gt;的项目。</span></p>
   <p><span style="font-size:15px;">－k：即－－block－size=1K。</span></p>
   <p><span style="font-size:15px;">－l：使用较长格式列出信息。</span></p>
   <p><span style="font-size:15px;">－L, －－dereference：当显示符号链接的文件信息时，显示符号链接所指示的对象，而并非符号链接本身的信息。</span></p>
   <p><span style="font-size:15px;">－m：所有项目以逗号分隔，并填满整行行宽。</span></p>
   <p><span style="font-size:15px;">－n, －－numeric－uid－gid：类似－l，但列出UID及GID号。</span></p>
   <p><span style="font-size:15px;">－N, －－literal：列出未经处理的项目名称，例如不特别处理控制字符。</span></p>
   <p><span style="font-size:15px;">－p, －－file－type：加上文件类型的指示符号 (/=@| 其中一个)。</span></p>
   <p><span style="font-size:15px;">－Q, －－quote－name：将项目名称括上双引号。</span></p>
   <p><span style="font-size:15px;">－r, －－reverse：依相反次序排列。</span></p>
   <p><span style="font-size:15px;">－R, －－recursive：同时列出所有子目录层。</span></p>
   <p><span style="font-size:15px;">－s, －－size：以块大小为序。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用举例</span></strong></p>
   <p><span style="font-size:15px;">ls 命令是Linux系统使用频率最多的命令，它的参数也是Linux命令中最多的。使用ls命令时会有几种不同的颜色，其中蓝色表示是目录，绿色表示是可执行文件，红色表示是压缩文件，浅蓝色表示是链接文件，加粗的黑色表示符号链接，灰色表示是其它格式文件。</span></p>
   <p><span style="font-size:15px;">文件类型开头是由10个字符构成的字符串。其中第一个字符表示文件类型，它可以是下述类型之一：－（普通文件）、d（目录）、l（符号链接）、b（块设备文件）、c（字符设备文件）。后面的9个字符表示文件的访问权限，分为3组，每组3位。第一组表示文件属主的权限，第二组表示同组用户的权限，第三组表示其他用户的权限。每一组的三个字符分别表示对文件的读（r）、写（w）和执行权限（x）。对于目录，表示进入权限。s表示当文件被执行时，把该文件的UID 或GID赋予执行进程的UID（用户ID）或GID（组 ID）。t表示设置标志位（留在内存，不被换出）。如果该文件是目录，那么在该目录中的文件只能被超级用户、目录拥有者或文件属主删除。如果它是可执行文件，那么在该文件执行后，指向其正文段的指针仍留在内存。这样再次执行它时，系统就能更快地装入该文件。接着显示的是文件大小、生成时间、文件或命令名称。</span></p>
   <p><br></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">diff</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">diff命令用于两个文件之间的比较，并指出两者的不同，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">diff [options] 源文件 目标文件</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">-a：将所有文件当作文本文件来处理。</span></p>
   <p><span style="font-size:15px;">-b：忽略空格造成的不同。</span></p>
   <p><span style="font-size:15px;">-B：忽略空行造成的不同。</span></p>
   <p><span style="font-size:15px;">-c：使用纲要输出格式。</span></p>
   <p><span style="font-size:15px;">-H：利用试探法加速对大文件的搜索。</span></p>
   <p><span style="font-size:15px;">-I：忽略大小写的变化。</span></p>
   <p><span style="font-size:15px;">-n --rcs：输出RCS格式。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">cmp</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">cmp（“compare”的缩写）命令用来简要指出两个文件是否存在差异，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">cmp[options] 文件名</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">-l: 将字节以十进制的方式输出，并方便将两个文件中不同的以八进制的方式输出。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">cat</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">cat（“concatenate”的缩写）命令用于连接并显示指定的一个和多个文件的有关信息，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">cat [options] 文件1 文件2……</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.[options]主要参数</span></strong></p>
   <p><span style="font-size:15px;">－n：由第一行开始对所有输出的行数编号。</span></p>
   <p><span style="font-size:15px;">－b：和－n相似，只不过对于空白行不编号。</span></p>
   <p><span style="font-size:15px;">－s：当遇到有连续两行以上的空白行时，就代换为一行的空白行。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用举例</span></strong></p>
   <p><span style="font-size:15px;">（1）cat命令一个最简单的用处是显示文本文件的内容。例如，我们想在命令行看一下README文件的内容，可以使用命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ cat README</span><span style="font-size:15px;">　</span></p>
   </blockquote>
   <p><span style="font-size:15px;">（2）有时需要将几个文件处理成一个文件，并将这种处理的结果保存到一个单独的输出文件。cat命令在其输入上接受一个或多个文件，并将它们作为一个单独的文件打印到它的输出。例如，把README和INSTALL的文件内容加上行号（空白行不加）之后，将内容附加到一个新文本文件File1 中：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ cat README INSTALL File1</span></p>
   </blockquote>
   <p><span style="font-size:15px;">（3）cat还有一个重要的功能就是可以对行进行编号，见图2所示。这种功能对于程序文档的编制，以及法律和科学文档的编制很方便，打印在左边的行号使得参考文档的某一部分变得容易，这些在编程、科学研究、业务报告甚至是立法工作中都是非常重要的。</span></p>
   <p><span style="font-size:15px;">对行进行编号功能有-b（只能对非空白行进行编号）和-n（可以对所有行进行编号）两个参数：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ cat -b /etc/named.conf</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">ln</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong></p>
   <p><span style="font-size:15px;">ln命令用来在文件之间创建链接，它的使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">ln [options] 源文件 [链接名]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.参数</span></strong></p>
   <p><span style="font-size:15px;">－f：链结时先将源文件删除。</span></p>
   <p><span style="font-size:15px;">－d：允许系统管理者硬链结自己的目录。</span></p>
   <p><span style="font-size:15px;">－s：进行软链结(Symbolic Link)。</span></p>
   <p><span style="font-size:15px;">－b：将在链结时会被覆盖或删除的文件进行备份。</span></p>
   <p><span style="font-size:15px;">链接有两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，ln命令产生硬链接。</span></p>
   <p><span style="font-size:15px;">硬连接指通过索引节点来进行的连接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。其原因如上所述，因为对应该目录的索引节点有一个以上的连接。只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件才会被真正删除。</span></p>
   <p><span style="font-size:15px;">与硬连接相对应，Lnux系统中还存在另一种连接，称为符号连接（Symbilc Link），也叫软连接。软链接文件有点类似于Windows的快捷方式。它实际上是特殊文件的一种。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">动手练习</span></strong></p>
   <p><span style="font-size:15px;">上面我们介绍了Linux文件处理命令，下面介绍几个实例，大家可以动手练习一下刚才讲过的命令。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">1.利用符号链接快速访问关键目录</span></strong></p>
   <p><span style="font-size:15px;">符号链接是一个非常实用的功能。假设有一些目录或文件需要频繁使用，但由于Linux的文件和目录结构等原因，这个文件或目录在很深的子目录中。比如， Apache Web服务器文档位于系统的/usr/local/httpd/htdocs中，并且不想每次都要从主目录进入这样一个长的路径之中(实际上，这个路径也非常不容易记忆)。</span></p>
   <p><span style="font-size:15px;">为了解决这个问题，可以在主目录中创建一个符号链接，这样在需要进入该目录时，只需进入这个链接即可。</span></p>
   <p><span style="font-size:15px;">为了能方便地进入Web服务器(/usr/local/httpd/htdocs)文档所在的目录，在主目录下可以使用以下命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ ln -s /usr/local/httpd/htdocs gg</span></p>
   </blockquote>
   <p><span style="font-size:15px;">这样每次进入gg目录就可访问Web服务器的文档，以后如果不再访问Web服务器的文档时，删除gg即可，而真正的Web服务器的文档并没有删除。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.使用dd命令将init.rd格式的root.ram内容导入内存</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">dd if=/dev/fd0 of=floppy.fd</span></p>
    <p><span style="font-size:13px;color:rgb(136,136,136);">dd if=root.ram of=/dev/ram0 #</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.grep命令系统调用</span></strong></p>
   <p><span style="font-size:15px;">grep是Linux/Unix中使用最广泛的命令之一，许多Linux系统内部都可以调用它。</span></p>
   <p><span style="font-size:15px;">(1)如果要查询目录列表中的目录，方法如下：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ ls -l | grep '∧d'</span></p>
   </blockquote>
   <p><span style="font-size:15px;">(2)如果在一个目录中查询不包含目录的所有文件，方法如下：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$ ls -l | grep '∧[∧d]'</span></p>
   </blockquote>
   <p><span style="font-size:15px;">(3)用find命令调用grep，如所有C源代码中的“Chinput”，方法如下：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">$find /ZhXwin -name *.c -exec grep -q -s Chinput {} /;-print</span></p>
   </blockquote>
   <p><span style="font-size:15px;"></span></p>
   <p><span style="color:rgb(216,40,33);"><strong><span style="font-size:15px;">系统管理命令</span></strong></span></p>
   <img class="yead_bgc wx-img" style="vertical-align:top;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/kFKyFMaQc8icGxSauCam9EEGGU4wIo5oQ032ibuAvDTpPkQhI2YCYjtUnYbpL4SWzvyeE2Xm9NXVKOM0nNyBl7kQ/640?wx_fmt=png" alt="640?wx_fmt=png">
   <p><br></p>
   <p><span style="font-size:15px;">对于Linux系统来说，无论是中央处理器、内存、磁盘驱动器、键盘、鼠标，还是用户等都是文件，Linux系统管理的命令是它正常运行的核心。熟悉了Linux常用的文件处理命令以后，这一讲介绍对系统和用户进行管理的命令。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">df</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>df命令用来检查文件系统的磁盘空间占用情况，使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">df [options]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－s：对每个Names参数只给出占用的数据块总数。<br>－a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定－s，也不指定－a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。<br>－k：以1024字节为单位列出磁盘空间使用情况。<br>－x：跳过在不同文件系统上的目录不予统计。<br>－l：计算所有的文件大小，对硬链接文件则计算多次。<br>－i：显示inode信息而非块使用量。<br>－h：以容易理解的格式印出文件系统大小，例如136KB、254MB、21GB。<br>－P：使用POSIX输出格式。<br>－T：显示文件系统类型。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.说明</span></strong><span style="font-size:15px;"><br>df命令被广泛地用来生成文件系统的使用统计数据，它能显示系统中所有的文件系统的信息，包括总容量、可用的空闲空间、目前的安装点等。</span></p>
   <p><span style="font-size:15px;">超级权限用户使用df命令时会发现这样的情况：某个分区的容量超过了100％。这是因为Linux系统为超级用户保留了10％的空间，由其单独支配。也就是说，对于超级用户而言，他所见到的硬盘容量将是110％。这样的安排对于系统管理而言是有好处的，当硬盘被使用的容量接近100％时系统管理员还可以正常工作。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong><span style="font-size:15px;"><br>Linux支持的文件系统非常多，包括JFS、ReiserFS、ext、ext2、ext3、ISO9660、XFS、Minx、vfat、MSDOS等。使用df -T命令查看磁盘空间时还可以得到文件系统的信息：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃df －T</span></p>
   </blockquote>
   <p><span style="font-size:15px;">文件系统 类型 容量 已用 可用 已用% 挂载点</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">/dev/hda7 reiserfs 5.2G 1.6G 3.7G 30% /<br>/dev/hda1 vfat 2.4G 1.6G 827M 66% /windows/C<br>/dev/hda5 vfat 3.0G 1.7G 1.3G 57% /windows/D<br>/dev/hda9 vfat 3.0G 2.4G 566M 82% /windows/E<br>/dev/hda10 NTFS 3.2G 573M 2.6G 18% /windows/F<br>/dev/hda11 vfat 1.6G 1.5G 23M 99% /windows/G</span></p>
   </blockquote>
   <p><span style="font-size:15px;">从上面除了可以看到磁盘空间的容量、使用情况外，分区的文件系统类型、挂载点等信息也一览无遗。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">top</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>top命令用来显示执行中的程序进程，使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">top [－] [d delay] [q] [c] [S] [s] [i] [n]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>d：指定更新的间隔，以秒计算。<br>q：没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。<br>c：显示进程完整的路径与名称。<br>S：累积模式，会将己完成或消失的子行程的CPU时间累积起来。<br>s：安全模式。<br>i：不显示任何闲置(Idle)或无用(Zombie)的行程。<br>n：显示更新的次数，完成后将会退出top。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.说明</span></strong><span style="font-size:15px;"><br>top命令是Linux系统管理的一个主要命令，通过它可以获得许多信息。</span></p>
   <p><span style="font-size:15px;">PID（Process ID）：进程标示号。<br>USER：进程所有者的用户名。<br>PR：进程的优先级别。<br>NI：进程的优先级别数值。<br>VIRT：进程占用的虚拟内存值。<br>RES：进程占用的物理内存值。<br>SHR：进程使用的共享内存值。<br>S：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。<br>%CPU：该进程占用的CPU使用率。<br>%MEM：该进程占用的物理内存和总内存的百分比。<br>TIME＋：该进程启动后占用的总的CPU时间。<br>Command：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。<br>top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。<br>&lt;空格&gt;：立刻刷新。<br>P：根据CPU使用大小进行排序。<br>T：根据时间、累计时间排序。<br>q：退出top命令。<br>m：切换显示内存信息。<br>t：切换显示进程和CPU状态信息。<br>c：切换显示命令名称和完整命令行。<br>M：根据使用内存大小进行排序。<br>W：将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。</span></p>
   <p><span style="font-size:15px;">可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong><span style="font-size:15px;"><br>使用top命令可以监视指定用户，缺省情况是监视所有用户的进程。如果想查看指定用户的情况，在终端中按“U”键，然后输入用户名，系统就会切换为指定用户的进程运行界面。</span></p>
   <p><br></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">free</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>free命令用来显示内存的使用情况，使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">free [－b|－k|－m] [－o] [－s delay] [－t] [－V]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－b －k －m：分别以字节（KB、MB）为单位显示内存使用情况。<br>－s delay：显示每隔多少秒数来显示一次内存使用情况。<br>－t：显示内存总和列。<br>－o：不显示缓冲区调节列。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong><span style="font-size:15px;"><br>free命令是用来查看内存使用情况的主要命令。和top命令相比，它的优点是使用简单，并且只占用很少的系统资源。通过－S参数可以使用free命令不间断地监视有多少内存在使用，这样可以把它当作一个方便实时监控器。<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃free －b －s5</span></p>
   </blockquote>
   <p><span style="font-size:15px;">使用这个命令后终端会连续不断地报告内存使用情况（以字节为单位），每5秒更新一次。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">quota</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>quota命令用来显示磁盘使用情况和限制情况，使用权限超级用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">quota [－g][－u][－v][－p] 用户名 组名</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.参数</span></strong><span style="font-size:15px;"><br>－g：显示用户所在组的磁盘使用限制。<br>－u：显示用户的磁盘使用限制。<br>－v：显示没有分配空间的文件系统的分配情况。<br>－p：显示简化信息。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong><span style="font-size:15px;"><br>在企业应用中磁盘配额非常重要，普通用户要学会看懂自己的磁盘使用情况。要查询自己的磁盘配额可以使用下面命令（下例中用户账号是caojh)：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃quota caojh<br>Disk quotas for user caojh(uid 502):<br>Filesystem blocks quota limit grace files quota limit grace<br>/dev/hda3 58 200000 400000 41 500 1000</span></p>
   </blockquote>
   <p><span style="font-size:15px;">以上显示ID号为502的caojh账号，文件个数设置为500～1000个，硬盘空间限制设置为200MB～400MB。一旦磁盘配额要用完时，就需要删除一些垃圾文件或向系统管理员请求追加配额。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">at</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>at命令用来在指定时刻执行指定的命令序列。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">at [－V] [－q x] [－f file] [－m] time</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－V：显示标准错误输出。<br>－q：许多队列输出。<br>－f：从文件中读取作业。<br>－m：执行完作业后发送电子邮件到用户。<br>time：设定作业执行的时间。time格式有严格的要求，由小时、分钟、日期和时间的偏移量组成，其中日期的格式为MM.DD.YY，MM是分钟，DD是日期，YY是指年份。偏移量的格式为时间＋偏移量，单位是minutes、hours和days。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃at －f data 15:30 +2 days</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面命令表示让系统在两天后的17：30执行文件data中指明的作业。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">lp</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>lp是打印文件的命令，使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">lp [－c][－d][－m][－number][－title][-p]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－c：先拷贝文件再打印。<br>－d：打印队列文件。<br>－m：打印结束后发送电子邮件到用户。<br>－number：打印份数。<br>－title：打印标题。<br>－p：设定打印的优先级别，最高为100。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong><span style="font-size:15px;"><br>（1）使用lp命令打印多个文件<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃lp 2 3 4<br>request id is 11 (3 file(s))</span></p>
   </blockquote>
   <p><span style="font-size:15px;">其中2、3、4分别是文件名；“request id is 11 (3 file(s)) ”表示这是第11个打印命令，依次打印这三个文件。</span></p>
   <p><span style="font-size:15px;">（2）设定打印优先级别</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃lp lp -d LaserJet -p 90 /etc/aliases</span></p>
   </blockquote>
   <p><span style="font-size:15px;">通过添加“-p 90”，规定了打印作业的优先级为90。它将在优先级低于90的打印作业之前打印，包括没有设置优先级的作业，缺省优先级是50</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">useradd</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>useradd命令用来建立用户帐号和创建用户的起始目录，使用权限是超级用户。</span></p>
   <p><strong><span style="font-size:15px;"><span style="font-size:15px;"><br></span></span></strong></p>
   <p><strong><span style="font-size:15px;"><span style="font-size:15px;">2.格式</span></span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">useradd [－d home] [－s shell] [－c comment] [－m [－k template]] [－f inactive] [－e expire ] [－p passwd] [－r] name</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－c：加上备注文字，备注文字保存在passwd的备注栏中。　<br>－d：指定用户登入时的启始目录。<br>－D：变更预设值。<br>－e：指定账号的有效期限，缺省表示永久有效。<br>－f：指定在密码过期后多少天即关闭该账号。<br>－g：指定用户所属的群组。<br>－G：指定用户所属的附加群组。<br>－m：自动建立用户的登入目录。<br>－M：不要自动建立用户的登入目录。<br>－n：取消建立以用户名称为名的群组。<br>－r：建立系统账号。<br>－s：指定用户登入后所使用的shell。<br>－u：指定用户ID号。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.说明</span></strong><span style="font-size:15px;"><br>useradd可用来建立用户账号，它和adduser命令是相同的。账号建好之后，再用passwd设定账号的密码。使用useradd命令所建立的账号，实际上是保存在/etc/passwd文本文件中。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong><span style="font-size:15px;"><br>建立一个新用户账户，并设置ID：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃useradd caojh －u 544</span></p>
   </blockquote>
   <p><span style="font-size:15px;">需要说明的是，设定ID值时尽量要大于500，以免冲突。因为Linux安装后会建立一些特殊用户，一般0到499之间的值留给bin、mail这样的系统账号。</span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;"><br></span></strong></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">groupadd</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>groupadd命令用于将新组加入系统。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">groupadd [－g gid] [－o]] [－r] [－f] groupname</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－g gid：指定组ID号。<br>－o：允许组ID号，不必惟一。<br>－r：加入组ID号，低于499系统账号。<br>－f：加入已经有的组时，发展程序退出。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.应用实例</span></strong><span style="font-size:15px;"><br>建立一个新组，并设置组ID加入系统：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃groupadd －g 344 cjh</span></p>
   </blockquote>
   <p><span style="font-size:15px;">此时在/etc/passwd文件中产生一个组ID（GID）是344的项目。</span></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">kill</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>kill命令用来中止一个进程。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.格式</span></strong><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">kill [ －s signal | －p ] [ －a ] pid ...<br>kill －l [ signal ]</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.参数</span></strong><span style="font-size:15px;"><br>－s：指定发送的信号。<br>－p：模拟发送信号。<br>－l：指定信号的名称列表。<br>pid：要中止进程的ID号。<br>Signal：表示信号。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.说明</span></strong><span style="font-size:15px;"><br>进程是Linux系统中一个非常重要的概念。Linux是一个多任务的操作系统，系统上经常同时运行着多个进程。我们不关心这些进程究竟是如何分配的，或者是内核如何管理分配时间片的，所关心的是如何去控制这些进程，让它们能够很好地为用户服务。</span></p>
   <p><span style="font-size:15px;">Linux 操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性。交互进程是由一个Shell启动的进程。交互进程既可以在前台运行，也可以在后台运行。批处理进程和终端没有联系，是一个进程序列。监控进程（也称系统守护进程）时Linux系统启动时启动的进程，并在后台运行。例如，httpd是著名的 Apache服务器的监控进程。</span></p>
   <p><span style="font-size:15px;">kill命令的工作原理是，向Linux系统的内核发送一个系统操作信号和某个程序的进程标识号，然后系统内核就可以对进程标识号指定的进程进行操作。比如在top命令中，我们看到系统运行许多进程，有时就需要使用kill中止某些进程来提高系统资源。在讲解安装和登陆命令时，曾提到系统多个虚拟控制台的作用是当一个程序出错造成系统死锁时，可以切换到其它虚拟控制台工作关闭这个程序。此时使用的命令就是kill，因为kill是大多数Shell内部命令可以直接调用的。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong><span style="font-size:15px;"><br>（1）强行中止（经常使用杀掉）一个进程标识号为324的进程：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃kill －9 324</span></p>
   </blockquote>
   <p><span style="font-size:15px;">（2）解除Linux系统的死锁<br>在Linux 中有时会发生这样一种情况：一个程序崩溃，并且处于死锁的状态。此时一般不用重新启动计算机，只需要中止(或者说是关闭)这个有问题的程序即可。当 kill处于X-Window界面时，主要的程序(除了崩溃的程序之外)一般都已经正常启动了。此时打开一个终端，在那里中止有问题的程序。比如，如果 Mozilla浏览器程序出现了锁死的情况，可以使用kill命令来中止所有包含有Mozolla浏览器的程序。首先用top命令查处该程序的PID，然后使用kill命令停止这个程序：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃kill －SIGKILL XXX</span></p>
   </blockquote>
   <p><span style="font-size:15px;">其中，XXX是包含有Mozolla浏览器的程序的进程标识号。</span></p>
   <p><span style="font-size:15px;">（3）使用命令回收内存<br>我们知道内存对于系统是非常重要的，回收内存可以提高系统资源。kill命令可以及时地中止一些“越轨”的程序或很长时间没有相应的程序。例如，使用top命令发现一个无用 (Zombie) 的进程，此时可以使用下面命令：</span><span style="font-size:13px;color:rgb(136,136,136);"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃kill －9 XXX</span></p>
   </blockquote>
   <p><span style="font-size:15px;">其中，XXX是无用的进程标识号。</span></p>
   <p><span style="font-size:15px;">然后使用下面命令：</span><span style="font-size:15px;"><br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃free</span></p>
   </blockquote>
   <p><span style="font-size:15px;">此时会发现可用内存容量增加了。</span></p>
   <p><span style="font-size:15px;">（4）killall命令<br>Linux下还提供了一个killall命令，可以直接使用进程的名字而不是进程标识号，例如：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃ killall -HUP inetd</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);"><br></span></strong></p>
   <p><strong><span style="font-size:15px;color:rgb(0,122,170);">crontab</span></strong></p>
   <p><strong><span style="font-size:15px;">1.作用</span></strong><span style="font-size:15px;"><br>使用crontab命令可以修改crontab配置文件，然后该配置由cron公用程序在适当的时间执行，该命令使用权限是所有用户。</span></p>
   <p><strong><span style="font-size:15px;"><strong><span style="font-size:15px;"><br></span></strong></span></strong></p>
   <p><strong><span style="font-size:15px;"><strong><span style="font-size:15px;">2.格式</span></strong></span></strong></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">crontab [ －u user ] 文件<br>crontab [ －u user ] { －l | －r | －e }</span></p>
   </blockquote>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.主要参数</span></strong><span style="font-size:15px;"><br>－e：执行文字编辑器来设定时程表，内定的文字编辑器是vi。<br>－r：删除目前的时程表。<br>－l：列出目前的时程表。</span></p>
   <p><span style="font-size:15px;">crontab 文件的格式为“M H D m d cmd”。其中，M代表分钟（0～59），H代表小时（0～23），D代表天（1～31），m代表月（1～12），d代表一星期内的天（0～6，0为星期天）。cmd表示要运行的程序，它被送入sh执行，这个Shell只有USER、HOME、SHELL三个环境变量。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.说明</span></strong><span style="font-size:15px;"><br>和at命令相比，crontab命令适合完成固定周期的任务。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">5.应用实例</span></strong><span style="font-size:15px;"><br>设置一个定时、定期的系统提示：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">[cao @www cao]#crontab －e</span></p>
   </blockquote>
   <p><span style="font-size:15px;">此时系统会打开一个vi编辑器。</span></p>
   <p><span style="font-size:15px;">如果输入以下内容：35 17 * * 5 wall "Tomorrow is Saturday I will go CS"，然后存盘退出。这时在/var/spool/cron/目录下会生产一个cao的文件，内容如下：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);"># DO NOT EDIT THIS FILE － edit the master and reinstall.<br># (/tmp/crontab.2707 installed on Thu Jan 1 22:01:51 2004)<br># (Cron version －－ $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)<br>35 17 * * 5 wall "Tomorrow is Saturday I will play CS "</span></p>
   </blockquote>
   <p><span style="font-size:15px;">这样每个星期五17：35系统就会弹出一个终端，提醒星期六可以打打CS了！</span></p>
   <p><span style="font-size:15px;"><br></span></p>
   <p><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;">动手练习</span></strong></span></p>
   <p><strong><span style="font-size:15px;">1.联合使用kill和top命令观察系统性能的变化</span></strong></p>
   <p><span style="font-size:15px;">首先启动一个终端运行top命令，然后再启动一个终端使用kill命令，见图4所示。</span></p>
   <p><span style="font-size:15px;">图4 观察kill命令对top终端的影响</span></p>
   <p><span style="font-size:15px;">这时利用上面介绍的kill命令来中止一些程序：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃kill SIGKILL XXX</span></p>
   </blockquote>
   <p><span style="font-size:15px;">然后再看top命令终端的变化，包括内存容量、CPU使用率、系统负载等。注意，有些进程是不能中止的，不过学习Linux命令时可以试试，看看系统有什么反应。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">2.使用at和halt命令定时关机</span></strong><span style="font-size:15px;"><br>首先设定关机时间是17:35，输入下面代码：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃at 17:35<br>warning: commands will be executed using (in order) a) $SHELL b) login shell c) /bin/sh<br>at&gt;halt `-i －p<br>at&gt; &lt;EOT&gt;<br>job 6 at 2004－01－01 17:35</span></p>
   </blockquote>
   <p><span style="font-size:15px;">此时实际上就已经进入Linux系统的Shell，并且编写一个最简单程序：halt －i －p。上面Shell中的文本结束符号表示按“Ctrl＋D”组合键关闭命令，提交任务退出Shell。“Job 6 at 2004－01－01 17:35”表示系统接受第6个at命令，在“2004－01－01 17:35”时执行命令：先把所有网络相关的装置停止，关闭系统后关闭电源。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">3.用crontab命令实现每天定时的病毒扫描</span></strong><span style="font-size:15px;"><br>前面已经介绍了一个简单的crontab命令操作，这里看一些更重要的操作。</span></p>
   <p><span style="font-size:15px;">（1）建立一个文件，文件名称自己设定，假设为caoproject：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃crontab －e</span></p>
   </blockquote>
   <p><span style="font-size:15px;">（2）文件内容如下：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">05 09 * * * antivir</span></p>
   </blockquote>
   <p><span style="font-size:15px;">用vi编辑后存盘退出。antivir是一个查杀Linux病毒的软件，当然需要时先安装在系统中。</span></p>
   <p><span style="font-size:15px;">（3）使用crontab命令添加到任务列表中：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃crontab caoproject</span></p>
   </blockquote>
   <p><span style="font-size:15px;">这样系统内所有用户在每天的9点05分会自动进行病毒扫描。</span></p>
   <p><strong><span style="font-size:15px;"><br></span></strong></p>
   <p><strong><span style="font-size:15px;">4.用kill使修改的配置文件马上生效</span></strong><span style="font-size:15px;"><br>Windows用户一般都知道，重要配置文件修改后往往都要重新启动计算机才能使修改生效。而Linux由于采用了模块化设计，可以自己根据需要实时设定服务。这里以网络服务inetd为例介绍一些操作技巧。</span></p>
   <p><span style="font-size:15px;">inetd 是一个监听守护进程，监听与提供互联网服务进程（如rlogin、telnet、ftp、rsh）进行连接的要求，并扩展所需的服务进程。默认情况下，inetd监听的这些daemon均列于/etc /inetd.conf文件中。编辑/etc/inetd.conf文件，可以改变inetd启动服务器守护进程的选项，然后驱使inetd以 SIGHUP（signal 1）向当前的inetd进程发送信号，使inetd重读该文件。这一过程由kill命令来实现。<br>用vi或其它编辑器修改inetd.conf后，首先使用下面命令：<br></span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃ps -ef |grep inetd</span></p>
   </blockquote>
   <p><span style="font-size:15px;">上面代码表明查询inetd.conf的进程号(PID)，这里假设是1426，然后使用下面命令：</span></p>
   <blockquote>
    <p><span style="font-size:13px;color:rgb(136,136,136);">＃ kill -1426 inetd</span></p>
   </blockquote>
   <p><span style="font-size:15px;">这样配置文件就生效了。</span></p>
   <p><span style="font-size:15px;">这一讲介绍的系统管理命令都是比较重要的，特别是crontab命令和quota命令使用起来会有一定难度，需要多做一些练习。另外，使用kill命令要注意“－9“这个参数，练习时最好不要运行一些重要的程序。</span></p>
   <p><br></p>
   <p><span style="font-size:15px;">Linux的命令行方式功能强大，如果熟练掌握了Linux的常用命令，往往只需要通过各种技巧就可以组合构成一条复杂的命令，从而完成用户任务。Linux系统中的命令实在是太多了，不可能像在MS DOS中把所有的命令及参数都记住。</span></p>
   <p style="letter-spacing:.544px;"><img style="margin-left:auto;letter-spacing:.544px;border-style:none;color:rgb(0,0,0);font-family:'Helvitica Neue', Helvitica, Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'Arial Regular', sans-serif;font-size:14px;clear:both;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz/iacaGZAx79h9cqLY9dqJKILgsSmfztzBRg2c8Yf6icGHJfznyg95Fia7xsM6h3puLxILhtucN4aBslBIyKo15dzVQ/640?wx_fmt=other" alt="640?wx_fmt=other"></p>
   <p style="font-size:16px;letter-spacing:.408px;color:rgb(62,62,62);line-height:25.6px;"><span style="font-weight:bolder;font-family:'微软雅黑';font-size:12px;line-height:normal;">PS:记得查收小编送你的免费大礼包呦~</span></p>
   <p style="font-size:16px;letter-spacing:.408px;color:rgb(62,62,62);line-height:25.6px;"><span style="text-decoration:underline;font-weight:bolder;line-height:25.6px;"><span style="line-height:25.6px;font-size:12px;">福利 | 一万多套PPT模板等你免费来拿！无条件领取！</span></span></p>
   <p style="font-size:16px;letter-spacing:.408px;color:rgb(62,62,62);line-height:25.6px;"><span style="text-decoration:underline;font-weight:bolder;font-family:'微软雅黑';font-size:12px;line-height:normal;">免费送 | 1000多套简历模板免费拿，附赠简历制作教程！</span></p>
   <p style="font-size:16px;letter-spacing:.408px;color:rgb(62,62,62);line-height:25.6px;"><span style="font-weight:bolder;text-decoration:underline;font-size:12px;">免费领 | 《Shell脚本 100例》电子书免费拿，运维必备干货~</span></p>
   <img class="__bg_gif" width="318" style="border-style:none;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/iacaGZAx79hiczej8HKykKxsn27998Fg01heLiaLibZiabshJz2NIGnaX2GH816nzqiayzk4bt4icIiaia5QduVYPhuvkCw/640?" alt="640?">
   <img border="0" height="120" title="Linux云计算数据自学.jpg" width="120" style="border-style:none;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/iacaGZAx79hiczej8HKykKxsn27998Fg01yXtMoFjgep0mgulibA1VeMo6m6rGMZ9CWS4UiaaRwtUmeoPLbo4HDenw/640?" alt="640?">
   <p style="font-size:16px;letter-spacing:.408px;"><span style="font-family:'微软雅黑';font-size:12px;line-height:22.4px;">▼▼点击【</span><span style="font-weight:bolder;font-family:'微软雅黑';line-height:22.4px;font-size:12px;color:rgb(255,0,0);">阅读原文</span><span style="font-family:'微软雅黑';font-size:12px;line-height:22.4px;">】，22大互联网热门课程任选免费学！</span></p> 
  </div> 
 </div> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d293c49e1e4bfe8f276695a5aa953300";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
