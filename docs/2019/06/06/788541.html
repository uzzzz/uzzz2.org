<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>第四章代码原理详细解析 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="第四章代码原理详细解析" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="这一章的代码解读的难点是： 涉及到两个函数的求导问题。 ①sigmoid函数的求导: ∂ y j ∂ x j = y j ( 1 − y j ) \frac{\partial y_j}{\partial x_j}=y_j(1-y_j) ∂xj​∂yj​​=yj​(1−yj​) 出处是[2] ②softmax函数的求导： ∂ E ∂ z i = a i − y i \frac{\partial E}{\partial z_i}=a_i-y_i ∂zi​∂E​=ai​−yi​ 出处是[1] 、------------------------------------------ 第四章的整个神经网络的结构是： 输入层：784个节点（无激活函数） 隐藏层：50个节点（激活函数:sigmoid） 输出层：10个节点（激活函数:softmax） 下面的维度检查中的100，是因为一个batch_size=100 、------------------------------------------ 代码变量与神经网络结构之间的具体对应关系： 输入x， 第一层输入a1,输出z1 第二层输入a2,输出y 、------------------------------------------ 理论与神经网络结构之间的具体对应关系是： 输入x， 第一层输入x1,输出y1 第二层输入x2,输出y2 、------------------------------------------ According to [2]: △ｗ = － ε ∂ E ∂ w =－\varepsilon\frac{\partial E}{\partial w} =－ε∂w∂E​ (8) = － ε ∂ E ∂ w j i =－\varepsilon\frac{\partial E}{\partial w_{ji}} =－ε∂wji​∂E​ (6) = － ε ∂ E ∂ x j ⋅ y i =－\varepsilon\frac{\partial E}{\partial x_j}·y_i =－ε∂xj​∂E​⋅yi​ ≈ － ε y − t b a t c h _ n u m ⋅ z 1. T \approx －\varepsilon \frac{y-t}{batch\_num}·z1.T ≈－εbatch_numy−t​⋅z1.T(代码中的变量) = － ε ⋅ g r a d s [ ′ W 2 ′ ] =－\varepsilon·grads[&amp;#x27;W2&amp;#x27;] =－ε⋅grads[′W2′](代码中的变量) 变量名称 对应的理论名称 变量维度 a 1 a1 a1 x 1 x_1 x1​ (100,50) z 1 z1 z1 y 1 y_1 y1​ (100,50) a 2 a2 a2 x 2 x_2 x2​ (100,10) y y y y 2 y_2 y2​ (100,10) d a 1 da1 da1 ∂ E ∂ x 2 ⋅ w 21 \frac{\partial E}{\partial x_2}·w_{21} ∂x2​∂E​⋅w21​ (100,50) d z 1 dz1 dz1 ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1} ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​ = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] \frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)] ∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)] (100,50) d y = y − t b a t c h _ n u m dy=\frac{y-t}{batch\_num} dy=batch_numy−t​ ∂ E ∂ x 2 \frac{\partial E}{\partial x_2} ∂x2​∂E​(这里的 x 2 x_2 x2​是一个矢量,整体表示100条数据对各个输出节点的误差贡献) (100, 10) z 1. T z1.T z1.T y i y_i yi​ (50, 100) g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′] ∂ E ∂ x 2 \frac{\partial E}{\partial x_2} ∂x2​∂E​ (10,) g r a d s [ ′ W 2 ′ ] grads[&amp;#x27;W2&amp;#x27;] grads[′W2′] ∂ E ∂ w 21 \frac{\partial E}{\partial w_{21}} ∂w21​∂E​ (50,10) g r a d s [ ′ W 1 ′ ] grads[&amp;#x27;W1&amp;#x27;] grads[′W1′] ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 ⋅ ∂ x 1 ∂ w 10 = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] ⋅ x \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1}·\frac{\partial x_1}{\partial w_{10}}=\frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)]·x ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​⋅∂w10​∂x1​​=∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)]⋅x (784,50) g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′] ∂ E ∂ x 1 \frac{\partial E}{\partial x_1} ∂x1​∂E​ (50,) 关于上述表格中的 “ y − t ” “y-t” “y−t”的出处,可以参考[1]： 这里的 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]推导如下： ∂ E ∂ b 2 = ∂ E ∂ x 2 ∂ x 2 ∂ b 2 = ∂ E ∂ x 2 ∂ ( w 21 ⋅ y 1 + b 2 ) ∂ b 2 = ∂ E ∂ x 2 \frac{\partial E}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial x_2}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial(w_{21}·y_1+b2)}{\partial b_2}=\frac{\partial E}{\partial x_2} ∂b2​∂E​=∂x2​∂E​∂b2​∂x2​​=∂x2​∂E​∂b2​∂(w21​⋅y1​+b2)​=∂x2​∂E​ g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]推导推导同理。 -------------------------------------------- 为什么在计算 g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]和 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]时进行求和？ 与后面的batch_num进行配套使用，获取该轮batch训练得到的 b j bj bj的平均值作为最终的模型参数 -------------------------------------------- 关于这里batch_num出现在dy中不太好理解，其实我们可以看到batch_num最终进入了 g r a d s [ ′ b 2 ′ ] 中 ， 所 以 其 含 义 是 对 100 条 数 据 产 生 的 b j 的 和 取 了 一 个 平 均 ， 作 为 这 轮 b a t c h 训 练 后 的 得 到 的 偏 置 b j grads[&amp;#x27;b2&amp;#x27;]中，所以其含义是对100条数据产生的b_j的和取了一个平均， 作为这轮batch训练后的得到的偏置b_j grads[′b2′]中，所以其含义是对100条数据产生的bj​的和取了一个平均，作为这轮batch训练后的得到的偏置bj​ -------------------------------------------- 注意: softmax以及sigmoid的求导结果是不一样的. 参考： [1]softmax with cross-entropy loss求导(转载＋细节整理) [2]《learning representations by back-propagating errors》" />
<meta property="og:description" content="这一章的代码解读的难点是： 涉及到两个函数的求导问题。 ①sigmoid函数的求导: ∂ y j ∂ x j = y j ( 1 − y j ) \frac{\partial y_j}{\partial x_j}=y_j(1-y_j) ∂xj​∂yj​​=yj​(1−yj​) 出处是[2] ②softmax函数的求导： ∂ E ∂ z i = a i − y i \frac{\partial E}{\partial z_i}=a_i-y_i ∂zi​∂E​=ai​−yi​ 出处是[1] 、------------------------------------------ 第四章的整个神经网络的结构是： 输入层：784个节点（无激活函数） 隐藏层：50个节点（激活函数:sigmoid） 输出层：10个节点（激活函数:softmax） 下面的维度检查中的100，是因为一个batch_size=100 、------------------------------------------ 代码变量与神经网络结构之间的具体对应关系： 输入x， 第一层输入a1,输出z1 第二层输入a2,输出y 、------------------------------------------ 理论与神经网络结构之间的具体对应关系是： 输入x， 第一层输入x1,输出y1 第二层输入x2,输出y2 、------------------------------------------ According to [2]: △ｗ = － ε ∂ E ∂ w =－\varepsilon\frac{\partial E}{\partial w} =－ε∂w∂E​ (8) = － ε ∂ E ∂ w j i =－\varepsilon\frac{\partial E}{\partial w_{ji}} =－ε∂wji​∂E​ (6) = － ε ∂ E ∂ x j ⋅ y i =－\varepsilon\frac{\partial E}{\partial x_j}·y_i =－ε∂xj​∂E​⋅yi​ ≈ － ε y − t b a t c h _ n u m ⋅ z 1. T \approx －\varepsilon \frac{y-t}{batch\_num}·z1.T ≈－εbatch_numy−t​⋅z1.T(代码中的变量) = － ε ⋅ g r a d s [ ′ W 2 ′ ] =－\varepsilon·grads[&amp;#x27;W2&amp;#x27;] =－ε⋅grads[′W2′](代码中的变量) 变量名称 对应的理论名称 变量维度 a 1 a1 a1 x 1 x_1 x1​ (100,50) z 1 z1 z1 y 1 y_1 y1​ (100,50) a 2 a2 a2 x 2 x_2 x2​ (100,10) y y y y 2 y_2 y2​ (100,10) d a 1 da1 da1 ∂ E ∂ x 2 ⋅ w 21 \frac{\partial E}{\partial x_2}·w_{21} ∂x2​∂E​⋅w21​ (100,50) d z 1 dz1 dz1 ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1} ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​ = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] \frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)] ∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)] (100,50) d y = y − t b a t c h _ n u m dy=\frac{y-t}{batch\_num} dy=batch_numy−t​ ∂ E ∂ x 2 \frac{\partial E}{\partial x_2} ∂x2​∂E​(这里的 x 2 x_2 x2​是一个矢量,整体表示100条数据对各个输出节点的误差贡献) (100, 10) z 1. T z1.T z1.T y i y_i yi​ (50, 100) g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′] ∂ E ∂ x 2 \frac{\partial E}{\partial x_2} ∂x2​∂E​ (10,) g r a d s [ ′ W 2 ′ ] grads[&amp;#x27;W2&amp;#x27;] grads[′W2′] ∂ E ∂ w 21 \frac{\partial E}{\partial w_{21}} ∂w21​∂E​ (50,10) g r a d s [ ′ W 1 ′ ] grads[&amp;#x27;W1&amp;#x27;] grads[′W1′] ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 ⋅ ∂ x 1 ∂ w 10 = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] ⋅ x \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1}·\frac{\partial x_1}{\partial w_{10}}=\frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)]·x ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​⋅∂w10​∂x1​​=∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)]⋅x (784,50) g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′] ∂ E ∂ x 1 \frac{\partial E}{\partial x_1} ∂x1​∂E​ (50,) 关于上述表格中的 “ y − t ” “y-t” “y−t”的出处,可以参考[1]： 这里的 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]推导如下： ∂ E ∂ b 2 = ∂ E ∂ x 2 ∂ x 2 ∂ b 2 = ∂ E ∂ x 2 ∂ ( w 21 ⋅ y 1 + b 2 ) ∂ b 2 = ∂ E ∂ x 2 \frac{\partial E}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial x_2}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial(w_{21}·y_1+b2)}{\partial b_2}=\frac{\partial E}{\partial x_2} ∂b2​∂E​=∂x2​∂E​∂b2​∂x2​​=∂x2​∂E​∂b2​∂(w21​⋅y1​+b2)​=∂x2​∂E​ g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]推导推导同理。 -------------------------------------------- 为什么在计算 g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]和 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]时进行求和？ 与后面的batch_num进行配套使用，获取该轮batch训练得到的 b j bj bj的平均值作为最终的模型参数 -------------------------------------------- 关于这里batch_num出现在dy中不太好理解，其实我们可以看到batch_num最终进入了 g r a d s [ ′ b 2 ′ ] 中 ， 所 以 其 含 义 是 对 100 条 数 据 产 生 的 b j 的 和 取 了 一 个 平 均 ， 作 为 这 轮 b a t c h 训 练 后 的 得 到 的 偏 置 b j grads[&amp;#x27;b2&amp;#x27;]中，所以其含义是对100条数据产生的b_j的和取了一个平均， 作为这轮batch训练后的得到的偏置b_j grads[′b2′]中，所以其含义是对100条数据产生的bj​的和取了一个平均，作为这轮batch训练后的得到的偏置bj​ -------------------------------------------- 注意: softmax以及sigmoid的求导结果是不一样的. 参考： [1]softmax with cross-entropy loss求导(转载＋细节整理) [2]《learning representations by back-propagating errors》" />
<link rel="canonical" href="https://uzzz.org/2019/06/06/788541.html" />
<meta property="og:url" content="https://uzzz.org/2019/06/06/788541.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-06-06T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"这一章的代码解读的难点是： 涉及到两个函数的求导问题。 ①sigmoid函数的求导: ∂ y j ∂ x j = y j ( 1 − y j ) \\frac{\\partial y_j}{\\partial x_j}=y_j(1-y_j) ∂xj​∂yj​​=yj​(1−yj​) 出处是[2] ②softmax函数的求导： ∂ E ∂ z i = a i − y i \\frac{\\partial E}{\\partial z_i}=a_i-y_i ∂zi​∂E​=ai​−yi​ 出处是[1] 、------------------------------------------ 第四章的整个神经网络的结构是： 输入层：784个节点（无激活函数） 隐藏层：50个节点（激活函数:sigmoid） 输出层：10个节点（激活函数:softmax） 下面的维度检查中的100，是因为一个batch_size=100 、------------------------------------------ 代码变量与神经网络结构之间的具体对应关系： 输入x， 第一层输入a1,输出z1 第二层输入a2,输出y 、------------------------------------------ 理论与神经网络结构之间的具体对应关系是： 输入x， 第一层输入x1,输出y1 第二层输入x2,输出y2 、------------------------------------------ According to [2]: △ｗ = － ε ∂ E ∂ w =－\\varepsilon\\frac{\\partial E}{\\partial w} =－ε∂w∂E​ (8) = － ε ∂ E ∂ w j i =－\\varepsilon\\frac{\\partial E}{\\partial w_{ji}} =－ε∂wji​∂E​ (6) = － ε ∂ E ∂ x j ⋅ y i =－\\varepsilon\\frac{\\partial E}{\\partial x_j}·y_i =－ε∂xj​∂E​⋅yi​ ≈ － ε y − t b a t c h _ n u m ⋅ z 1. T \\approx －\\varepsilon \\frac{y-t}{batch\\_num}·z1.T ≈－εbatch_numy−t​⋅z1.T(代码中的变量) = － ε ⋅ g r a d s [ ′ W 2 ′ ] =－\\varepsilon·grads[&amp;#x27;W2&amp;#x27;] =－ε⋅grads[′W2′](代码中的变量) 变量名称 对应的理论名称 变量维度 a 1 a1 a1 x 1 x_1 x1​ (100,50) z 1 z1 z1 y 1 y_1 y1​ (100,50) a 2 a2 a2 x 2 x_2 x2​ (100,10) y y y y 2 y_2 y2​ (100,10) d a 1 da1 da1 ∂ E ∂ x 2 ⋅ w 21 \\frac{\\partial E}{\\partial x_2}·w_{21} ∂x2​∂E​⋅w21​ (100,50) d z 1 dz1 dz1 ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 \\frac{\\partial E}{\\partial x_2}·\\frac{\\partial x_2}{\\partial y_1}·\\frac{\\partial y_1}{\\partial x_1} ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​ = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] \\frac{\\partial E}{\\partial x_2}·w_{21}·[y_1·(1-y_1)] ∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)] (100,50) d y = y − t b a t c h _ n u m dy=\\frac{y-t}{batch\\_num} dy=batch_numy−t​ ∂ E ∂ x 2 \\frac{\\partial E}{\\partial x_2} ∂x2​∂E​(这里的 x 2 x_2 x2​是一个矢量,整体表示100条数据对各个输出节点的误差贡献) (100, 10) z 1. T z1.T z1.T y i y_i yi​ (50, 100) g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′] ∂ E ∂ x 2 \\frac{\\partial E}{\\partial x_2} ∂x2​∂E​ (10,) g r a d s [ ′ W 2 ′ ] grads[&amp;#x27;W2&amp;#x27;] grads[′W2′] ∂ E ∂ w 21 \\frac{\\partial E}{\\partial w_{21}} ∂w21​∂E​ (50,10) g r a d s [ ′ W 1 ′ ] grads[&amp;#x27;W1&amp;#x27;] grads[′W1′] ∂ E ∂ x 2 ⋅ ∂ x 2 ∂ y 1 ⋅ ∂ y 1 ∂ x 1 ⋅ ∂ x 1 ∂ w 10 = ∂ E ∂ x 2 ⋅ w 21 ⋅ [ y 1 ⋅ ( 1 − y 1 ) ] ⋅ x \\frac{\\partial E}{\\partial x_2}·\\frac{\\partial x_2}{\\partial y_1}·\\frac{\\partial y_1}{\\partial x_1}·\\frac{\\partial x_1}{\\partial w_{10}}=\\frac{\\partial E}{\\partial x_2}·w_{21}·[y_1·(1-y_1)]·x ∂x2​∂E​⋅∂y1​∂x2​​⋅∂x1​∂y1​​⋅∂w10​∂x1​​=∂x2​∂E​⋅w21​⋅[y1​⋅(1−y1​)]⋅x (784,50) g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′] ∂ E ∂ x 1 \\frac{\\partial E}{\\partial x_1} ∂x1​∂E​ (50,) 关于上述表格中的 “ y − t ” “y-t” “y−t”的出处,可以参考[1]： 这里的 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]推导如下： ∂ E ∂ b 2 = ∂ E ∂ x 2 ∂ x 2 ∂ b 2 = ∂ E ∂ x 2 ∂ ( w 21 ⋅ y 1 + b 2 ) ∂ b 2 = ∂ E ∂ x 2 \\frac{\\partial E}{\\partial b_2}=\\frac{\\partial E}{\\partial x_2}\\frac{\\partial x_2}{\\partial b_2}=\\frac{\\partial E}{\\partial x_2}\\frac{\\partial(w_{21}·y_1+b2)}{\\partial b_2}=\\frac{\\partial E}{\\partial x_2} ∂b2​∂E​=∂x2​∂E​∂b2​∂x2​​=∂x2​∂E​∂b2​∂(w21​⋅y1​+b2)​=∂x2​∂E​ g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]推导推导同理。 -------------------------------------------- 为什么在计算 g r a d s [ ′ b 1 ′ ] grads[&amp;#x27;b1&amp;#x27;] grads[′b1′]和 g r a d s [ ′ b 2 ′ ] grads[&amp;#x27;b2&amp;#x27;] grads[′b2′]时进行求和？ 与后面的batch_num进行配套使用，获取该轮batch训练得到的 b j bj bj的平均值作为最终的模型参数 -------------------------------------------- 关于这里batch_num出现在dy中不太好理解，其实我们可以看到batch_num最终进入了 g r a d s [ ′ b 2 ′ ] 中 ， 所 以 其 含 义 是 对 100 条 数 据 产 生 的 b j 的 和 取 了 一 个 平 均 ， 作 为 这 轮 b a t c h 训 练 后 的 得 到 的 偏 置 b j grads[&amp;#x27;b2&amp;#x27;]中，所以其含义是对100条数据产生的b_j的和取了一个平均， 作为这轮batch训练后的得到的偏置b_j grads[′b2′]中，所以其含义是对100条数据产生的bj​的和取了一个平均，作为这轮batch训练后的得到的偏置bj​ -------------------------------------------- 注意: softmax以及sigmoid的求导结果是不一样的. 参考： [1]softmax with cross-entropy loss求导(转载＋细节整理) [2]《learning representations by back-propagating errors》","@type":"BlogPosting","url":"https://uzzz.org/2019/06/06/788541.html","headline":"第四章代码原理详细解析","dateModified":"2019-06-06T00:00:00+08:00","datePublished":"2019-06-06T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://uzzz.org/2019/06/06/788541.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>第四章代码原理详细解析</h1>
        
        
        <ul style="display: block;">
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
 	    <li><a href="/donate/" style="line-height: unset;" target="_blank"><strong>Donate</strong></a></li>
        </ul>
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
<!-- match content ads -->
	        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<ins class="adsbygoogle"
			     style="display:block"
			     data-ad-format="autorelaxed"
			     data-ad-client="ca-pub-8889449066804352"
			     data-ad-slot="1928667997"></ins>
			<script>
			     (adsbygoogle = window.adsbygoogle || []).push({});
			</script>	



        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-dracula"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> 
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path> 
  </svg> 
  <p>这一章的代码解读的难点是：<br> 涉及到两个函数的求导问题。</p> 
  <p>①sigmoid函数的求导:<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
       <math>
        <semantics>
         <mrow>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              y
             </mi>
             <mi>
              j
             </mi>
            </msub>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              x
             </mi>
             <mi>
              j
             </mi>
            </msub>
           </mrow>
          </mfrac>
          <mo>
           =
          </mo>
          <msub>
           <mi>
            y
           </mi>
           <mi>
            j
           </mi>
          </msub>
          <mo>
           (
          </mo>
          <mn>
           1
          </mn>
          <mo>
           −
          </mo>
          <msub>
           <mi>
            y
           </mi>
           <mi>
            j
           </mi>
          </msub>
          <mo>
           )
          </mo>
         </mrow>
         <annotation encoding="application/x-tex">
          \frac{\partial y_j}{\partial x_j}=y_j(1-y_j)
         </annotation>
        </semantics>
       </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.34355em; vertical-align: -0.972108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.972108em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span><br> 出处是[2]</p> 
  <p>②softmax函数的求导：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
       <math>
        <semantics>
         <mrow>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mi>
             E
            </mi>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              z
             </mi>
             <mi>
              i
             </mi>
            </msub>
           </mrow>
          </mfrac>
          <mo>
           =
          </mo>
          <msub>
           <mi>
            a
           </mi>
           <mi>
            i
           </mi>
          </msub>
          <mo>
           −
          </mo>
          <msub>
           <mi>
            y
           </mi>
           <mi>
            i
           </mi>
          </msub>
         </mrow>
         <annotation encoding="application/x-tex">
          \frac{\partial E}{\partial z_i}=a_i-y_i
         </annotation>
        </semantics>
       </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.20744em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.73333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span><br> 出处是[1]</p> 
  <p>、------------------------------------------<br> 第四章的整个神经网络的结构是：<br> 输入层：784个节点（无激活函数）<br> 隐藏层：50个节点（激活函数:sigmoid）<br> 输出层：10个节点（激活函数:softmax）<br> 下面的维度检查中的100，是因为一个batch_size=100<br> 、------------------------------------------<br> 代码变量与神经网络结构之间的具体对应关系：<br> 输入x，<br> 第一层输入a1,输出z1<br> 第二层输入a2,输出y<br> 、------------------------------------------<br> 理论与神经网络结构之间的具体对应关系是：<br> 输入x，<br> 第一层输入x1,输出y1<br> 第二层输入x2,输出y2</p> 
  <p>、------------------------------------------<br> According to [2]:<br> △ｗ<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo>
          =
         </mo>
         <mi mathvariant="normal">
          －
         </mi>
         <mi>
          ε
         </mi>
         <mfrac>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <mi>
            E
           </mi>
          </mrow>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <mi>
            w
           </mi>
          </mrow>
         </mfrac>
        </mrow>
        <annotation encoding="application/x-tex">
         =－\varepsilon\frac{\partial E}{\partial w}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.22511em; vertical-align: -0.345em;"></span><span class="mord cjk_fallback">－</span><span class="mord mathit">ε</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.02691em;">w</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> (8)</p> 
  <p><span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo>
          =
         </mo>
         <mi mathvariant="normal">
          －
         </mi>
         <mi>
          ε
         </mi>
         <mfrac>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <mi>
            E
           </mi>
          </mrow>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <msub>
            <mi>
             w
            </mi>
            <mrow>
             <mi>
              j
             </mi>
             <mi>
              i
             </mi>
            </mrow>
           </msub>
          </mrow>
         </mfrac>
        </mrow>
        <annotation encoding="application/x-tex">
         =－\varepsilon\frac{\partial E}{\partial w_{ji}}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.42243em; vertical-align: -0.54232em;"></span><span class="mord cjk_fallback">－</span><span class="mord mathit">ε</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328086em;"><span class="" style="top: -2.357em; margin-left: -0.02691em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span><span class="mord mathit mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.281886em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.54232em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> (6)</p> 
  <p><span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo>
          =
         </mo>
         <mi mathvariant="normal">
          －
         </mi>
         <mi>
          ε
         </mi>
         <mfrac>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <mi>
            E
           </mi>
          </mrow>
          <mrow>
           <mi mathvariant="normal">
            ∂
           </mi>
           <msub>
            <mi>
             x
            </mi>
            <mi>
             j
            </mi>
           </msub>
          </mrow>
         </mfrac>
         <mo separator="true">
          ⋅
         </mo>
         <msub>
          <mi>
           y
          </mi>
          <mi>
           i
          </mi>
         </msub>
        </mrow>
        <annotation encoding="application/x-tex">
         =－\varepsilon\frac{\partial E}{\partial x_j}·y_i
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.42243em; vertical-align: -0.54232em;"></span><span class="mord cjk_fallback">－</span><span class="mord mathit">ε</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328086em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.281886em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.54232em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span><br> <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo>
          ≈
         </mo>
         <mi mathvariant="normal">
          －
         </mi>
         <mi>
          ε
         </mi>
         <mfrac>
          <mrow>
           <mi>
            y
           </mi>
           <mo>
            −
           </mo>
           <mi>
            t
           </mi>
          </mrow>
          <mrow>
           <mi>
            b
           </mi>
           <mi>
            a
           </mi>
           <mi>
            t
           </mi>
           <mi>
            c
           </mi>
           <mi>
            h
           </mi>
           <mi mathvariant="normal">
            _
           </mi>
           <mi>
            n
           </mi>
           <mi>
            u
           </mi>
           <mi>
            m
           </mi>
          </mrow>
         </mfrac>
         <mo separator="true">
          ⋅
         </mo>
         <mi>
          z
         </mi>
         <mn>
          1.
         </mn>
         <mi>
          T
         </mi>
        </mrow>
        <annotation encoding="application/x-tex">
         \approx －\varepsilon \frac{y-t}{batch\_num}·z1.T
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.48312em; vertical-align: 0em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.43866em; vertical-align: -0.562em;"></span><span class="mord cjk_fallback">－</span><span class="mord mathit">ε</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.876664em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">b</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">t</span><span class="mord mathit mtight">c</span><span class="mord mathit mtight">h</span><span class="mord mtight" style="margin-right: 0.02778em;">_</span><span class="mord mathit mtight">n</span><span class="mord mathit mtight">u</span><span class="mord mathit mtight">m</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.44611em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="mbin mtight">−</span><span class="mord mathit mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.562em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit" style="margin-right: 0.04398em;">z</span><span class="mord">1</span><span class="mord">.</span><span class="mord mathit" style="margin-right: 0.13889em;">T</span></span></span></span></span>(代码中的变量)<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo>
          =
         </mo>
         <mi mathvariant="normal">
          －
         </mi>
         <mi>
          ε
         </mi>
         <mo separator="true">
          ⋅
         </mo>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          W
         </mi>
         <msup>
          <mn>
           2
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         =－\varepsilon·grads[&amp;#x27;W2&amp;#x27;]
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord cjk_fallback">－</span><span class="mord mathit">ε</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>(代码中的变量)</p> 
  <table> 
   <thead> 
    <tr> 
     <th align="left">变量名称</th> 
     <th align="right">对应的理论名称</th> 
     <th align="right">变量维度</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             a
            </mi>
            <mn>
             1
            </mn>
           </mrow>
           <annotation encoding="application/x-tex">
            a1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord mathit">a</span><span class="mord">1</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              1
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            x_1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(100,50)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             z
            </mi>
            <mn>
             1
            </mn>
           </mrow>
           <annotation encoding="application/x-tex">
            z1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.04398em;">z</span><span class="mord">1</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            y_1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(100,50)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             a
            </mi>
            <mn>
             2
            </mn>
           </mrow>
           <annotation encoding="application/x-tex">
            a2
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord mathit">a</span><span class="mord">2</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            x_2
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(100,10)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             y
            </mi>
           </mrow>
           <annotation encoding="application/x-tex">
            y
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">y</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            y_2
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(100,10)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             a
            </mi>
            <mn>
             1
            </mn>
           </mrow>
           <annotation encoding="application/x-tex">
            da1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathit">d</span><span class="mord mathit">a</span><span class="mord">1</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <msub>
             <mi>
              w
             </mi>
             <mn>
              21
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}·w_{21}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(100,50)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             z
            </mi>
            <mn>
             1
            </mn>
           </mrow>
           <annotation encoding="application/x-tex">
            dz1
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right: 0.04398em;">z</span><span class="mord">1</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                y
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                y
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.41332em; vertical-align: -0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.896208em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.03588em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.4101em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.481108em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.932216em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.44611em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.03588em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> =<span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <msub>
             <mi>
              w
             </mi>
             <mn>
              21
             </mn>
            </msub>
            <mo separator="true">
             ⋅
            </mo>
            <mo>
             [
            </mo>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
            <mo separator="true">
             ⋅
            </mo>
            <mo>
             (
            </mo>
            <mn>
             1
            </mn>
            <mo>
             −
            </mo>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
            <mo>
             )
            </mo>
            <mo>
             ]
            </mo>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)]
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></span></td> 
     <td align="right">(100,50)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             y
            </mi>
            <mo>
             =
            </mo>
            <mfrac>
             <mrow>
              <mi>
               y
              </mi>
              <mo>
               −
              </mo>
              <mi>
               t
              </mi>
             </mrow>
             <mrow>
              <mi>
               b
              </mi>
              <mi>
               a
              </mi>
              <mi>
               t
              </mi>
              <mi>
               c
              </mi>
              <mi>
               h
              </mi>
              <mi mathvariant="normal">
               _
              </mi>
              <mi>
               n
              </mi>
              <mi>
               u
              </mi>
              <mi>
               m
              </mi>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            dy=\frac{y-t}{batch\_num}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.43866em; vertical-align: -0.562em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.876664em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">b</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">t</span><span class="mord mathit mtight">c</span><span class="mord mathit mtight">h</span><span class="mord mtight" style="margin-right: 0.02778em;">_</span><span class="mord mathit mtight">n</span><span class="mord mathit mtight">u</span><span class="mord mathit mtight">m</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.44611em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="mbin mtight">−</span><span class="mord mathit mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.562em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>(这里的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            x_2
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>是一个矢量,整体表示100条数据对各个输出节点的误差贡献)</td> 
     <td align="right">(100, 10)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             z
            </mi>
            <mn>
             1.
            </mn>
            <mi>
             T
            </mi>
           </mrow>
           <annotation encoding="application/x-tex">
            z1.T
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.04398em;">z</span><span class="mord">1</span><span class="mord">.</span><span class="mord mathit" style="margin-right: 0.13889em;">T</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <msub>
             <mi>
              y
             </mi>
             <mi>
              i
             </mi>
            </msub>
           </mrow>
           <annotation encoding="application/x-tex">
            y_i
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></td> 
     <td align="right">(50, 100)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             g
            </mi>
            <mi>
             r
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
            <mi>
             s
            </mi>
            <msup>
             <mo>
              [
             </mo>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mi>
             b
            </mi>
            <msup>
             <mn>
              2
             </mn>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mo>
             ]
            </mo>
           </mrow>
           <annotation encoding="application/x-tex">
            grads[&amp;#x27;b2&amp;#x27;]
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></td> 
     <td align="right">(10,)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             g
            </mi>
            <mi>
             r
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
            <mi>
             s
            </mi>
            <msup>
             <mo>
              [
             </mo>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mi>
             W
            </mi>
            <msup>
             <mn>
              2
             </mn>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mo>
             ]
            </mo>
           </mrow>
           <annotation encoding="application/x-tex">
            grads[&amp;#x27;W2&amp;#x27;]
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                w
               </mi>
               <mn>
                21
               </mn>
              </msub>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial w_{21}}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.02691em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></td> 
     <td align="right">(50,10)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             g
            </mi>
            <mi>
             r
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
            <mi>
             s
            </mi>
            <msup>
             <mo>
              [
             </mo>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mi>
             W
            </mi>
            <msup>
             <mn>
              1
             </mn>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mo>
             ]
            </mo>
           </mrow>
           <annotation encoding="application/x-tex">
            grads[&amp;#x27;W1&amp;#x27;]
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                y
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                y
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                w
               </mi>
               <mn>
                10
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo>
             =
            </mo>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                2
               </mn>
              </msub>
             </mrow>
            </mfrac>
            <mo separator="true">
             ⋅
            </mo>
            <msub>
             <mi>
              w
             </mi>
             <mn>
              21
             </mn>
            </msub>
            <mo separator="true">
             ⋅
            </mo>
            <mo>
             [
            </mo>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
            <mo separator="true">
             ⋅
            </mo>
            <mo>
             (
            </mo>
            <mn>
             1
            </mn>
            <mo>
             −
            </mo>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
            <mo>
             )
            </mo>
            <mo>
             ]
            </mo>
            <mo separator="true">
             ⋅
            </mo>
            <mi>
             x
            </mi>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_2}·\frac{\partial x_2}{\partial y_1}·\frac{\partial y_1}{\partial x_1}·\frac{\partial x_1}{\partial w_{10}}=\frac{\partial E}{\partial x_2}·w_{21}·[y_1·(1-y_1)]·x
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.41332em; vertical-align: -0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.896208em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.03588em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.4101em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.481108em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.932216em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.44611em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.03588em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.896208em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: -0.02691em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.4101em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">x</span></span></span></span></span></td> 
     <td align="right">(784,50)</td> 
    </tr> 
    <tr> 
     <td align="left"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mi>
             g
            </mi>
            <mi>
             r
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
            <mi>
             s
            </mi>
            <msup>
             <mo>
              [
             </mo>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mi>
             b
            </mi>
            <msup>
             <mn>
              1
             </mn>
             <mo mathvariant="normal">
              ′
             </mo>
            </msup>
            <mo>
             ]
            </mo>
           </mrow>
           <annotation encoding="application/x-tex">
            grads[&amp;#x27;b1&amp;#x27;]
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></td> 
     <td align="right"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
         <math>
          <semantics>
           <mrow>
            <mfrac>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <mi>
               E
              </mi>
             </mrow>
             <mrow>
              <mi mathvariant="normal">
               ∂
              </mi>
              <msub>
               <mi>
                x
               </mi>
               <mn>
                1
               </mn>
              </msub>
             </mrow>
            </mfrac>
           </mrow>
           <annotation encoding="application/x-tex">
            \frac{\partial E}{\partial x_1}
           </annotation>
          </semantics>
         </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.32521em; vertical-align: -0.4451em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.880108em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mtight"><span class="mord mathit mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317314em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right: 0.05556em;">∂</span><span class="mord mathit mtight" style="margin-right: 0.05764em;">E</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.4451em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></td> 
     <td align="right">(50,)</td> 
    </tr> 
   </tbody> 
  </table>
  <p>关于上述表格中的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi mathvariant="normal">
          “
         </mi>
         <mi>
          y
         </mi>
         <mo>
          −
         </mo>
         <mi>
          t
         </mi>
         <mi mathvariant="normal">
          ”
         </mi>
        </mrow>
        <annotation encoding="application/x-tex">
         “y-t”
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord">“</span><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathit">t</span><span class="mord">”</span></span></span></span></span>的出处,可以参考[1]：</p> 
  <p>这里的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          b
         </mi>
         <msup>
          <mn>
           2
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         grads[&amp;#x27;b2&amp;#x27;]
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>推导如下：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
       <math>
        <semantics>
         <mrow>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mi>
             E
            </mi>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              b
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
          <mo>
           =
          </mo>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mi>
             E
            </mi>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              b
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
          <mo>
           =
          </mo>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mi>
             E
            </mi>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mo>
             (
            </mo>
            <msub>
             <mi>
              w
             </mi>
             <mn>
              21
             </mn>
            </msub>
            <mo separator="true">
             ⋅
            </mo>
            <msub>
             <mi>
              y
             </mi>
             <mn>
              1
             </mn>
            </msub>
            <mo>
             +
            </mo>
            <mi>
             b
            </mi>
            <mn>
             2
            </mn>
            <mo>
             )
            </mo>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              b
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
          <mo>
           =
          </mo>
          <mfrac>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <mi>
             E
            </mi>
           </mrow>
           <mrow>
            <mi mathvariant="normal">
             ∂
            </mi>
            <msub>
             <mi>
              x
             </mi>
             <mn>
              2
             </mn>
            </msub>
           </mrow>
          </mfrac>
         </mrow>
         <annotation encoding="application/x-tex">
          \frac{\partial E}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial x_2}{\partial b_2}=\frac{\partial E}{\partial x_2}\frac{\partial(w_{21}·y_1+b2)}{\partial b_2}=\frac{\partial E}{\partial x_2}
         </annotation>
        </semantics>
       </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.20744em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.20744em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.263em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathit">b</span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.20744em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.37144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord"><span class="mord mathit">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord" style="margin-right: 0.05556em;">∂</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p> 
  <p><span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          b
         </mi>
         <msup>
          <mn>
           1
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         grads[&amp;#x27;b1&amp;#x27;]
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>推导推导同理。<br> --------------------------------------------</p> 
  <p>为什么在计算<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          b
         </mi>
         <msup>
          <mn>
           1
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         grads[&amp;#x27;b1&amp;#x27;]
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          b
         </mi>
         <msup>
          <mn>
           2
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         grads[&amp;#x27;b2&amp;#x27;]
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.00189em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>时进行求和？<br> 与后面的batch_num进行配套使用，获取该轮batch训练得到的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          b
         </mi>
         <mi>
          j
         </mi>
        </mrow>
        <annotation encoding="application/x-tex">
         bj
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathit">b</span><span class="mord mathit" style="margin-right: 0.05724em;">j</span></span></span></span></span>的平均值作为最终的模型参数<br> --------------------------------------------</p> 
  <p>关于这里batch_num出现在dy中不太好理解，其实我们可以看到batch_num最终进入了<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          r
         </mi>
         <mi>
          a
         </mi>
         <mi>
          d
         </mi>
         <mi>
          s
         </mi>
         <msup>
          <mo>
           [
          </mo>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mi>
          b
         </mi>
         <msup>
          <mn>
           2
          </mn>
          <mo mathvariant="normal">
           ′
          </mo>
         </msup>
         <mo>
          ]
         </mo>
         <mi mathvariant="normal">
          中
         </mi>
         <mi mathvariant="normal">
          ，
         </mi>
         <mi mathvariant="normal">
          所
         </mi>
         <mi mathvariant="normal">
          以
         </mi>
         <mi mathvariant="normal">
          其
         </mi>
         <mi mathvariant="normal">
          含
         </mi>
         <mi mathvariant="normal">
          义
         </mi>
         <mi mathvariant="normal">
          是
         </mi>
         <mi mathvariant="normal">
          对
         </mi>
         <mn>
          100
         </mn>
         <mi mathvariant="normal">
          条
         </mi>
         <mi mathvariant="normal">
          数
         </mi>
         <mi mathvariant="normal">
          据
         </mi>
         <mi mathvariant="normal">
          产
         </mi>
         <mi mathvariant="normal">
          生
         </mi>
         <mi mathvariant="normal">
          的
         </mi>
         <msub>
          <mi>
           b
          </mi>
          <mi>
           j
          </mi>
         </msub>
         <mi mathvariant="normal">
          的
         </mi>
         <mi mathvariant="normal">
          和
         </mi>
         <mi mathvariant="normal">
          取
         </mi>
         <mi mathvariant="normal">
          了
         </mi>
         <mi mathvariant="normal">
          一
         </mi>
         <mi mathvariant="normal">
          个
         </mi>
         <mi mathvariant="normal">
          平
         </mi>
         <mi mathvariant="normal">
          均
         </mi>
         <mi mathvariant="normal">
          ，
         </mi>
         <mi mathvariant="normal">
          作
         </mi>
         <mi mathvariant="normal">
          为
         </mi>
         <mi mathvariant="normal">
          这
         </mi>
         <mi mathvariant="normal">
          轮
         </mi>
         <mi>
          b
         </mi>
         <mi>
          a
         </mi>
         <mi>
          t
         </mi>
         <mi>
          c
         </mi>
         <mi>
          h
         </mi>
         <mi mathvariant="normal">
          训
         </mi>
         <mi mathvariant="normal">
          练
         </mi>
         <mi mathvariant="normal">
          后
         </mi>
         <mi mathvariant="normal">
          的
         </mi>
         <mi mathvariant="normal">
          得
         </mi>
         <mi mathvariant="normal">
          到
         </mi>
         <mi mathvariant="normal">
          的
         </mi>
         <mi mathvariant="normal">
          偏
         </mi>
         <mi mathvariant="normal">
          置
         </mi>
         <msub>
          <mi>
           b
          </mi>
          <mi>
           j
          </mi>
         </msub>
        </mrow>
        <annotation encoding="application/x-tex">
         grads[&amp;#x27;b2&amp;#x27;]中，所以其含义是对100条数据产生的b_j的和取了一个平均， 作为这轮batch训练后的得到的偏置b_j
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.038em; vertical-align: -0.286108em;"></span><span class="mord mathit" style="margin-right: 0.03588em;">g</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathit">s</span><span class="mopen"><span class="mopen">[</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathit">b</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">所</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">其</span><span class="mord cjk_fallback">含</span><span class="mord cjk_fallback">义</span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">对</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord cjk_fallback">条</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span><span class="mord cjk_fallback">产</span><span class="mord cjk_fallback">生</span><span class="mord cjk_fallback">的</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">和</span><span class="mord cjk_fallback">取</span><span class="mord cjk_fallback">了</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">平</span><span class="mord cjk_fallback">均</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">作</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">这</span><span class="mord cjk_fallback">轮</span><span class="mord mathit">b</span><span class="mord mathit">a</span><span class="mord mathit">t</span><span class="mord mathit">c</span><span class="mord mathit">h</span><span class="mord cjk_fallback">训</span><span class="mord cjk_fallback">练</span><span class="mord cjk_fallback">后</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">得</span><span class="mord cjk_fallback">到</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">偏</span><span class="mord cjk_fallback">置</span><span class="mord"><span class="mord mathit">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></p> 
  <p>--------------------------------------------</p> 
  <p>注意:<br> softmax以及sigmoid的求导结果是不一样的.</p> 
  <p>参考：<br> [1]<a href="https://blog.csdn.net/appleyuchi/article/details/90907585" rel="nofollow">softmax with cross-entropy loss求导(转载＋细节整理)</a><br> [2]<a href="https://www.iro.umontreal.ca/~vincentp/ift3395/lectures/backprop_old.pdf" rel="nofollow">《learning representations by back-propagating errors》</a></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d293c49e1e4bfe8f276695a5aa953300";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
