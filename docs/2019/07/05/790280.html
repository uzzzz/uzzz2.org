<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Flume个人心得笔记之Sink安装 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Flume个人心得笔记之Sink安装" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 目录 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 一.Logger Sink 一、概述 二、可配置项说明 三、示例 二.File_roll Sink 一、概述 二、可配置选项说明 三、示例 1.复制文本 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 三.HDFS Sink 一、概述 二、可配置选项说明 三、示例 1.备份一份文件 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 四.Avro Sink 一、概述 二、可配置选项说明 三、多级流动 1.概述 2.实现步骤 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 6.查看数据 一.Logger Sink 一、概述 记录指定级别（比如INFO，DEBUG，ERROR等）的日志，通常用于调试 要求，在 --conf（-c )参数指定的目录下有log4j的配置文件 根据设计，logger sink将body内容限制为16字节，从而避免屏幕充斥着过多的内容。如果想要查看调试的完整内容，那么你应该使用其他的sink，也许可以使用file_roll sink，它会将日志写到本地文件系统中 二、可配置项说明 配置项 说明 channel 绑定通道 type logger 三、示例 默认配置，就不演示了&nbsp;&nbsp; https://blog.csdn.net/LiuY521/article/details/94721238 &nbsp; 二.File_roll Sink 一、概述 在本地系统中存储事件 每隔指定时长生成文件保存这段时间内收集到的日志信息 二、可配置选项说明 配置项 说明 channel 绑定通道 type file_roll sink.directory 文件被存储的目录 sink.rollInterval 30&nbsp; 记录日志到文件里，每隔30秒生成一个新日志文件。如果设置为0，则禁止滚动，从而导致所有数据被写入到一个文件中。 三、示例 1.复制文本 &nbsp;mv basic2.conf filerollsink.txt 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 &nbsp; 三.HDFS Sink 一、概述 此Sink将事件写入到Hadoop分布式文件系统HDFS中 目前它支持创建文本文件和序列化文件，并且对这两种格式都支持压缩 这些文件可以分卷，按照指定的时间或数据量或事件的数量为基础 它还通过类似时间戳或机器属性对数据进行 buckets/partitions 操作 HDFS的目录路径可以包含将要由HDFS替换格式的转移序列用以生成存储事件的目录/文件名 使用这个Sink要求haddop必须已经安装好，以便Flume可以通过hadoop提供的jar包与HDFS进行通信 二、可配置选项说明 配置项 说明 channel 绑定的通道 type hdfs hdfs.path HDFS 目录路径 （hdfs://namenode/flume/webdata/) hdfs.inUseSuffix .tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flume正在处理的文件所加的后缀 hdfs.rollInterval 文件生成的间隔事件，默认是30，单位是秒&nbsp; &nbsp; hdfs.rollSize 生成的文件大小，默认是1024个字节 ，0表示不开启此项 hdfs.rollCount 每写几条数据就生成一个新文件，默认数量为10 每写几条数据就生成一个新文件， hdfs.fileType SequenceFile/DataStream/CompressedStream hdfs.retryInterval 80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time in seconds between consecutive attempts to close a file. Each close call costs multiple RPC round-trips to the Namenode, so setting this too low can cause a lot of load on the name node. If set to 0 or less, the sink will not attempt to close the file if the first attempt fails, and may leave the file open or with a ”.tmp” extension. 三、示例 1.备份一份文件 vim HDFS.conf 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 报错&nbsp; 格式不支持 配置写错了 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 找到以下的jar包，放到flume的lib目录下即可。 commons-configuration-1.6.jar hadoop-auth-2.5.2.jar hadoop-common-2.5.2.jar hadoop-hdfs-2.5.2.jar hadoop-mapreduce-client-core-2.5.2.jar 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 执行： scp common/*&nbsp; common/lib/* &nbsp;&nbsp; hdfs/* &nbsp;&nbsp; hdfs/lib/*&nbsp; mapreduce/* &nbsp; mapreduce/lib/* &nbsp;&nbsp; tools/lib/* 10.42.60.249:/home/software/flume/lib/ 四.Avro Sink 一、概述 将源数据进行利用avro进行序列化之后写到指定的节点上 是实现多级流动、扇出流(1到多) 扇入流(多到1) 的基础 二、可配置选项说明 配置项 说明 channel 绑定的通道 type &nbsp;avro hostname 要发送的主机 port 要发往的端口号 三、多级流动 1.概述 让01机的flume通过netcat source源接收数据，然后通过avro sink 发给02机 02机的flume利用avro source源收数据，然后通过avro sink 传给03机 03机通过avro source源收数据，通过logger sink 输出到控制台上 2.实现步骤 准备三个节点，并安装好flume（关闭每台机器的防火墙） 配置每台flume的配置文件 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 vim shanru.conf 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 ../bin/flume-ng agent -n a1 -c ../conf -f 要启动的文件 -Dflume.root.logger=INFO,console 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 vim shanchu.conf 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 出现叹号，提示有数据传输 6.查看数据 &nbsp; &nbsp;" />
<meta property="og:description" content="&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 目录 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 一.Logger Sink 一、概述 二、可配置项说明 三、示例 二.File_roll Sink 一、概述 二、可配置选项说明 三、示例 1.复制文本 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 三.HDFS Sink 一、概述 二、可配置选项说明 三、示例 1.备份一份文件 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 四.Avro Sink 一、概述 二、可配置选项说明 三、多级流动 1.概述 2.实现步骤 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 6.查看数据 一.Logger Sink 一、概述 记录指定级别（比如INFO，DEBUG，ERROR等）的日志，通常用于调试 要求，在 --conf（-c )参数指定的目录下有log4j的配置文件 根据设计，logger sink将body内容限制为16字节，从而避免屏幕充斥着过多的内容。如果想要查看调试的完整内容，那么你应该使用其他的sink，也许可以使用file_roll sink，它会将日志写到本地文件系统中 二、可配置项说明 配置项 说明 channel 绑定通道 type logger 三、示例 默认配置，就不演示了&nbsp;&nbsp; https://blog.csdn.net/LiuY521/article/details/94721238 &nbsp; 二.File_roll Sink 一、概述 在本地系统中存储事件 每隔指定时长生成文件保存这段时间内收集到的日志信息 二、可配置选项说明 配置项 说明 channel 绑定通道 type file_roll sink.directory 文件被存储的目录 sink.rollInterval 30&nbsp; 记录日志到文件里，每隔30秒生成一个新日志文件。如果设置为0，则禁止滚动，从而导致所有数据被写入到一个文件中。 三、示例 1.复制文本 &nbsp;mv basic2.conf filerollsink.txt 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 &nbsp; 三.HDFS Sink 一、概述 此Sink将事件写入到Hadoop分布式文件系统HDFS中 目前它支持创建文本文件和序列化文件，并且对这两种格式都支持压缩 这些文件可以分卷，按照指定的时间或数据量或事件的数量为基础 它还通过类似时间戳或机器属性对数据进行 buckets/partitions 操作 HDFS的目录路径可以包含将要由HDFS替换格式的转移序列用以生成存储事件的目录/文件名 使用这个Sink要求haddop必须已经安装好，以便Flume可以通过hadoop提供的jar包与HDFS进行通信 二、可配置选项说明 配置项 说明 channel 绑定的通道 type hdfs hdfs.path HDFS 目录路径 （hdfs://namenode/flume/webdata/) hdfs.inUseSuffix .tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flume正在处理的文件所加的后缀 hdfs.rollInterval 文件生成的间隔事件，默认是30，单位是秒&nbsp; &nbsp; hdfs.rollSize 生成的文件大小，默认是1024个字节 ，0表示不开启此项 hdfs.rollCount 每写几条数据就生成一个新文件，默认数量为10 每写几条数据就生成一个新文件， hdfs.fileType SequenceFile/DataStream/CompressedStream hdfs.retryInterval 80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time in seconds between consecutive attempts to close a file. Each close call costs multiple RPC round-trips to the Namenode, so setting this too low can cause a lot of load on the name node. If set to 0 or less, the sink will not attempt to close the file if the first attempt fails, and may leave the file open or with a ”.tmp” extension. 三、示例 1.备份一份文件 vim HDFS.conf 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 报错&nbsp; 格式不支持 配置写错了 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 找到以下的jar包，放到flume的lib目录下即可。 commons-configuration-1.6.jar hadoop-auth-2.5.2.jar hadoop-common-2.5.2.jar hadoop-hdfs-2.5.2.jar hadoop-mapreduce-client-core-2.5.2.jar 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 执行： scp common/*&nbsp; common/lib/* &nbsp;&nbsp; hdfs/* &nbsp;&nbsp; hdfs/lib/*&nbsp; mapreduce/* &nbsp; mapreduce/lib/* &nbsp;&nbsp; tools/lib/* 10.42.60.249:/home/software/flume/lib/ 四.Avro Sink 一、概述 将源数据进行利用avro进行序列化之后写到指定的节点上 是实现多级流动、扇出流(1到多) 扇入流(多到1) 的基础 二、可配置选项说明 配置项 说明 channel 绑定的通道 type &nbsp;avro hostname 要发送的主机 port 要发往的端口号 三、多级流动 1.概述 让01机的flume通过netcat source源接收数据，然后通过avro sink 发给02机 02机的flume利用avro source源收数据，然后通过avro sink 传给03机 03机通过avro source源收数据，通过logger sink 输出到控制台上 2.实现步骤 准备三个节点，并安装好flume（关闭每台机器的防火墙） 配置每台flume的配置文件 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 vim shanru.conf 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 ../bin/flume-ng agent -n a1 -c ../conf -f 要启动的文件 -Dflume.root.logger=INFO,console 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 vim shanchu.conf 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 出现叹号，提示有数据传输 6.查看数据 &nbsp; &nbsp;" />
<link rel="canonical" href="https://uzzz.org/2019/07/05/790280.html" />
<meta property="og:url" content="https://uzzz.org/2019/07/05/790280.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-05T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 目录 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装 一.Logger Sink 一、概述 二、可配置项说明 三、示例 二.File_roll Sink 一、概述 二、可配置选项说明 三、示例 1.复制文本 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 三.HDFS Sink 一、概述 二、可配置选项说明 三、示例 1.备份一份文件 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 四.Avro Sink 一、概述 二、可配置选项说明 三、多级流动 1.概述 2.实现步骤 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 6.查看数据 一.Logger Sink 一、概述 记录指定级别（比如INFO，DEBUG，ERROR等）的日志，通常用于调试 要求，在 --conf（-c )参数指定的目录下有log4j的配置文件 根据设计，logger sink将body内容限制为16字节，从而避免屏幕充斥着过多的内容。如果想要查看调试的完整内容，那么你应该使用其他的sink，也许可以使用file_roll sink，它会将日志写到本地文件系统中 二、可配置项说明 配置项 说明 channel 绑定通道 type logger 三、示例 默认配置，就不演示了&nbsp;&nbsp; https://blog.csdn.net/LiuY521/article/details/94721238 &nbsp; 二.File_roll Sink 一、概述 在本地系统中存储事件 每隔指定时长生成文件保存这段时间内收集到的日志信息 二、可配置选项说明 配置项 说明 channel 绑定通道 type file_roll sink.directory 文件被存储的目录 sink.rollInterval 30&nbsp; 记录日志到文件里，每隔30秒生成一个新日志文件。如果设置为0，则禁止滚动，从而导致所有数据被写入到一个文件中。 三、示例 1.复制文本 &nbsp;mv basic2.conf filerollsink.txt 2.编辑配置 3.启动指令&nbsp; 启动不了，杀死对应进程重新启动 4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退 5.查询数据 &nbsp; 三.HDFS Sink 一、概述 此Sink将事件写入到Hadoop分布式文件系统HDFS中 目前它支持创建文本文件和序列化文件，并且对这两种格式都支持压缩 这些文件可以分卷，按照指定的时间或数据量或事件的数量为基础 它还通过类似时间戳或机器属性对数据进行 buckets/partitions 操作 HDFS的目录路径可以包含将要由HDFS替换格式的转移序列用以生成存储事件的目录/文件名 使用这个Sink要求haddop必须已经安装好，以便Flume可以通过hadoop提供的jar包与HDFS进行通信 二、可配置选项说明 配置项 说明 channel 绑定的通道 type hdfs hdfs.path HDFS 目录路径 （hdfs://namenode/flume/webdata/) hdfs.inUseSuffix .tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flume正在处理的文件所加的后缀 hdfs.rollInterval 文件生成的间隔事件，默认是30，单位是秒&nbsp; &nbsp; hdfs.rollSize 生成的文件大小，默认是1024个字节 ，0表示不开启此项 hdfs.rollCount 每写几条数据就生成一个新文件，默认数量为10 每写几条数据就生成一个新文件， hdfs.fileType SequenceFile/DataStream/CompressedStream hdfs.retryInterval 80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time in seconds between consecutive attempts to close a file. Each close call costs multiple RPC round-trips to the Namenode, so setting this too low can cause a lot of load on the name node. If set to 0 or less, the sink will not attempt to close the file if the first attempt fails, and may leave the file open or with a ”.tmp” extension. 三、示例 1.备份一份文件 vim HDFS.conf 2.编辑配置 3.启动 4.确保HDFS启动 5.传输数据 报错&nbsp; 格式不支持 配置写错了 6.查询 四、存在问题 1.报错是因为flume缺少相关hadoop的依赖jar包， 找到以下的jar包，放到flume的lib目录下即可。 commons-configuration-1.6.jar hadoop-auth-2.5.2.jar hadoop-common-2.5.2.jar hadoop-hdfs-2.5.2.jar hadoop-mapreduce-client-core-2.5.2.jar 2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下： 执行： scp common/*&nbsp; common/lib/* &nbsp;&nbsp; hdfs/* &nbsp;&nbsp; hdfs/lib/*&nbsp; mapreduce/* &nbsp; mapreduce/lib/* &nbsp;&nbsp; tools/lib/* 10.42.60.249:/home/software/flume/lib/ 四.Avro Sink 一、概述 将源数据进行利用avro进行序列化之后写到指定的节点上 是实现多级流动、扇出流(1到多) 扇入流(多到1) 的基础 二、可配置选项说明 配置项 说明 channel 绑定的通道 type &nbsp;avro hostname 要发送的主机 port 要发往的端口号 三、多级流动 1.概述 让01机的flume通过netcat source源接收数据，然后通过avro sink 发给02机 02机的flume利用avro source源收数据，然后通过avro sink 传给03机 03机通过avro source源收数据，通过logger sink 输出到控制台上 2.实现步骤 准备三个节点，并安装好flume（关闭每台机器的防火墙） 配置每台flume的配置文件 3.第一个云主机配置 4.第二个云主机配置 5.第三个云主机配置 6.启动第三个节点 往后向前启动 7.输入数据 8.接收数据 四、扇入流 1.编辑文件 vim shanru.conf 2.第一个和第二个配置相同 3.第三个节点 4.启动 从最后一个启动 ../bin/flume-ng agent -n a1 -c ../conf -f 要启动的文件 -Dflume.root.logger=INFO,console 5.发送数据 6.接收数据 五、扇出流 1.编辑文件 vim shanchu.conf 2.第一个节点配置 3.第二，第三节点配置一样 4.启动 5. 2和3节点会接收数据 出现叹号，提示有数据传输 6.查看数据 &nbsp; &nbsp;","@type":"BlogPosting","url":"https://uzzz.org/2019/07/05/790280.html","headline":"Flume个人心得笔记之Sink安装","dateModified":"2019-07-05T00:00:00+08:00","datePublished":"2019-07-05T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://uzzz.org/2019/07/05/790280.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Flume个人心得笔记之Sink安装</h1>
        
        
        <ul style="display: block;">
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
 	    <li><a href="/donate/" style="line-height: unset;" target="_blank"><strong>Donate</strong></a></li>
        </ul>
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
<!-- match content ads -->
	        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<ins class="adsbygoogle"
			     style="display:block"
			     data-ad-format="autorelaxed"
			     data-ad-client="ca-pub-8889449066804352"
			     data-ad-slot="1928667997"></ins>
			<script>
			     (adsbygoogle = window.adsbygoogle || []).push({});
			</script>	



        <div id="article_content" class="article_content clearfix" data-track-view="{&quot;mod&quot;:&quot;popu_307&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/LiuY521/article/details/94760477,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_307&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/LiuY521/article/details/94760477&quot;}"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-cd6c485e8b.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-cd6c485e8b.css"> 
 <div class="htmledit_views" id="content_views"> 
  <h1 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0Flume%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0%E4%B9%8BSink%E5%AE%89%E8%A3%85">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装</h1> 
  <p id="main-toc"><strong>目录</strong></p> 
  <p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0Flume%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0%E4%B9%8BSink%E5%AE%89%E8%A3%85-toc" style="margin-left:0px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0Flume%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0%E4%B9%8BSink%E5%AE%89%E8%A3%85" rel="nofollow">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flume个人心得笔记之Sink安装</a></p> 
  <p id="%E4%B8%80.Logger%20Sink-toc" style="margin-left:0px;"><a href="#%E4%B8%80.Logger%20Sink" rel="nofollow">一.Logger Sink</a></p> 
  <p id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow">一、概述</a></p> 
  <p id="%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%A1%B9%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%A1%B9%E8%AF%B4%E6%98%8E" rel="nofollow">二、可配置项说明</a></p> 
  <p id="%E4%B8%89%E3%80%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E7%A4%BA%E4%BE%8B" rel="nofollow">三、示例</a></p> 
  <p id="%E4%BA%8C.File_roll%20Sink-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.File_roll%20Sink" rel="nofollow">二.File_roll Sink</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow">一、概述</a></p> 
  <p id="%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E" rel="nofollow">二、可配置选项说明</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E7%A4%BA%E4%BE%8B" rel="nofollow">三、示例</a></p> 
  <p id="1.%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC-toc" style="margin-left:80px;"><a href="#1.%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC" rel="nofollow">1.复制文本</a></p> 
  <p id="2.%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE" rel="nofollow">2.编辑配置</a></p> 
  <p id="3.%E5%90%AF%E5%8A%A8%E6%8C%87%E4%BB%A4%C2%A0%20%E5%90%AF%E5%8A%A8%E4%B8%8D%E4%BA%86%EF%BC%8C%E6%9D%80%E6%AD%BB%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#3.%E5%90%AF%E5%8A%A8%E6%8C%87%E4%BB%A4%C2%A0%20%E5%90%AF%E5%8A%A8%E4%B8%8D%E4%BA%86%EF%BC%8C%E6%9D%80%E6%AD%BB%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8" rel="nofollow">3.启动指令&nbsp; 启动不了，杀死对应进程重新启动</a></p> 
  <p id="4.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6%C2%A0%20%E5%A6%82%E6%9E%9C%E8%AF%AF%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8C%89%E7%85%A7Ctrl%20%2BBackspace%20%E5%9B%9E%E9%80%80-toc" style="margin-left:80px;"><a href="#4.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6%C2%A0%20%E5%A6%82%E6%9E%9C%E8%AF%AF%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8C%89%E7%85%A7Ctrl%20%2BBackspace%20%E5%9B%9E%E9%80%80" rel="nofollow">4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退</a></p> 
  <p id="5.%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#5.%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE" rel="nofollow">5.查询数据</a></p> 
  <p id="%E4%B8%89.HDFS%20Sink-toc" style="margin-left:0px;"><a href="#%E4%B8%89.HDFS%20Sink" rel="nofollow">三.HDFS Sink</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow">一、概述</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E" rel="nofollow">二、可配置选项说明</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E7%A4%BA%E4%BE%8B" rel="nofollow">三、示例</a></p> 
  <p id="1.%E5%A4%87%E4%BB%BD%E4%B8%80%E4%BB%BD%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#1.%E5%A4%87%E4%BB%BD%E4%B8%80%E4%BB%BD%E6%96%87%E4%BB%B6" rel="nofollow">1.备份一份文件</a></p> 
  <p style="margin-left:80px;"><a href="#2.%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE" rel="nofollow">2.编辑配置</a></p> 
  <p id="3.%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#3.%E5%90%AF%E5%8A%A8" rel="nofollow">3.启动</a></p> 
  <p id="4.%E7%A1%AE%E4%BF%9DHDFS%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#4.%E7%A1%AE%E4%BF%9DHDFS%E5%90%AF%E5%8A%A8" rel="nofollow">4.确保HDFS启动</a></p> 
  <p id="5.%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#5.%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE" rel="nofollow">5.传输数据</a></p> 
  <p id="6.%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#6.%E6%9F%A5%E8%AF%A2" rel="nofollow">6.查询</a></p> 
  <p id="%E5%9B%9B%E3%80%81%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98" rel="nofollow">四、存在问题</a></p> 
  <p id="1.%E6%8A%A5%E9%94%99%E6%98%AF%E5%9B%A0%E4%B8%BAflume%E7%BC%BA%E5%B0%91%E7%9B%B8%E5%85%B3hadoop%E7%9A%84%E4%BE%9D%E8%B5%96jar%E5%8C%85%EF%BC%8C-toc" style="margin-left:80px;"><a href="#1.%E6%8A%A5%E9%94%99%E6%98%AF%E5%9B%A0%E4%B8%BAflume%E7%BC%BA%E5%B0%91%E7%9B%B8%E5%85%B3hadoop%E7%9A%84%E4%BE%9D%E8%B5%96jar%E5%8C%85%EF%BC%8C" rel="nofollow">1.报错是因为flume缺少相关hadoop的依赖jar包，</a></p> 
  <p id="2.%E4%BD%86%E6%98%AF%E4%B8%80%E4%B8%AA%E4%B8%80%E4%B8%AA%E6%89%BE%E7%89%B9%E5%88%AB%E9%BA%BB%E7%83%A6%EF%BC%8C%E6%89%80%E4%BB%A5%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E6%98%AF%E5%B0%86hadoop%E7%9A%84jar%E5%8C%85%E9%83%BD%E6%8B%B7%E8%B4%9D%E5%88%B0flume%E7%9A%84lib%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2.%E4%BD%86%E6%98%AF%E4%B8%80%E4%B8%AA%E4%B8%80%E4%B8%AA%E6%89%BE%E7%89%B9%E5%88%AB%E9%BA%BB%E7%83%A6%EF%BC%8C%E6%89%80%E4%BB%A5%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E6%98%AF%E5%B0%86hadoop%E7%9A%84jar%E5%8C%85%E9%83%BD%E6%8B%B7%E8%B4%9D%E5%88%B0flume%E7%9A%84lib%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%9A" rel="nofollow">2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下：</a></p> 
  <p id="%E5%9B%9B.Avro%20Sink-toc" style="margin-left:0px;"><a href="#%E5%9B%9B.Avro%20Sink" rel="nofollow">四.Avro Sink</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow">一、概述</a></p> 
  <p style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E" rel="nofollow">二、可配置选项说明</a></p> 
  <p id="%E4%B8%89%E3%80%81%E5%A4%9A%E7%BA%A7%E6%B5%81%E5%8A%A8-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E5%A4%9A%E7%BA%A7%E6%B5%81%E5%8A%A8" rel="nofollow">三、多级流动</a></p> 
  <p id="1.%E6%A6%82%E8%BF%B0-toc" style="margin-left:80px;"><a href="#1.%E6%A6%82%E8%BF%B0" rel="nofollow">1.概述</a></p> 
  <p id="2.%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-toc" style="margin-left:80px;"><a href="#2.%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4" rel="nofollow">2.实现步骤</a></p> 
  <p id="3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE" rel="nofollow">3.第一个云主机配置</a></p> 
  <p id="4.%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#4.%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE" rel="nofollow">4.第二个云主机配置</a></p> 
  <p id="5.%E7%AC%AC%E4%B8%89%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#5.%E7%AC%AC%E4%B8%89%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE" rel="nofollow">5.第三个云主机配置</a></p> 
  <p id="6.%E5%90%AF%E5%8A%A8%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9%20%E5%BE%80%E5%90%8E%E5%90%91%E5%89%8D%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#6.%E5%90%AF%E5%8A%A8%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9%20%E5%BE%80%E5%90%8E%E5%90%91%E5%89%8D%E5%90%AF%E5%8A%A8" rel="nofollow">6.启动第三个节点 往后向前启动</a></p> 
  <p id="7.%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#7.%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE" rel="nofollow">7.输入数据</a></p> 
  <p id="8.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#8.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE" rel="nofollow">8.接收数据</a></p> 
  <p id="%E5%9B%9B%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81" rel="nofollow">四、扇入流</a></p> 
  <p id="1.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#1.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6" rel="nofollow">1.编辑文件</a></p> 
  <p id="2.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%90%8C-toc" style="margin-left:80px;"><a href="#2.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%90%8C" rel="nofollow">2.第一个和第二个配置相同</a></p> 
  <p id="3.%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9-toc" style="margin-left:80px;"><a href="#3.%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9" rel="nofollow">3.第三个节点</a></p> 
  <p id="4.%E5%90%AF%E5%8A%A8%20%E4%BB%8E%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#4.%E5%90%AF%E5%8A%A8%20%E4%BB%8E%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%90%AF%E5%8A%A8" rel="nofollow">4.启动 从最后一个启动</a></p> 
  <p id="5.%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#5.%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE" rel="nofollow">5.发送数据</a></p> 
  <p id="6.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#6.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE" rel="nofollow">6.接收数据</a></p> 
  <p id="%E4%BA%94%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81" rel="nofollow">五、扇出流</a></p> 
  <p style="margin-left:80px;"><a href="#1.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6" rel="nofollow">1.编辑文件</a></p> 
  <p style="margin-left:80px;"><a href="#2.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%90%8C" rel="nofollow">2.第一个节点配置</a></p> 
  <p id="3.%E7%AC%AC%E4%BA%8C%EF%BC%8C%E7%AC%AC%E4%B8%89%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E4%B8%80%E6%A0%B7-toc" style="margin-left:80px;"><a href="#3.%E7%AC%AC%E4%BA%8C%EF%BC%8C%E7%AC%AC%E4%B8%89%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E4%B8%80%E6%A0%B7" rel="nofollow">3.第二，第三节点配置一样</a></p> 
  <p id="4.%E5%90%AF%E5%8A%A8-toc" style="margin-left:80px;"><a href="#4.%E5%90%AF%E5%8A%A8" rel="nofollow">4.启动</a></p> 
  <p id="5.%202%E5%92%8C3%E8%8A%82%E7%82%B9%E4%BC%9A%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#5.%202%E5%92%8C3%E8%8A%82%E7%82%B9%E4%BC%9A%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE" rel="nofollow">5. 2和3节点会接收数据</a></p> 
  <p id="6.%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#6.%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE" rel="nofollow">6.查看数据</a></p> 
  <hr>
  <h1 id="%E4%B8%80.Logger%20Sink" style="margin-left:0in;">一.Logger Sink</h1> 
  <h2 id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" style="margin-left:0in;"><span style="color:#1e4e79;">一、概述</span></h2> 
  <ol style="margin-left:.375in;">
   <li>记录指定级别（比如INFO，DEBUG，ERROR等）的日志，通常用于调试</li> 
   <li>要求，在 --conf（-c )参数指定的目录下有log4j的配置文件</li> 
   <li>根据设计，logger sink将body内容限制为16字节，从而避免屏幕充斥着过多的内容。如果想要查看调试的完整内容，那么你应该使用其他的sink，也许可以使用file_roll sink，它会将日志写到本地文件系统中</li> 
  </ol>
  <h2 id="%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%A1%B9%E8%AF%B4%E6%98%8E" style="margin-left:0in;"><span style="color:#1e4e79;">二、可配置项说明</span></h2> 
  <table cellspacing="0">
   <tbody>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.1229in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">配置项</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.484in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">说明</span></p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.1229in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">channel</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.484in;"> <p style="margin-left:0in;">绑定通道</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.1229in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">type</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.484in;"> <p style="margin-left:0in;">logger</p> </td> 
    </tr>
   </tbody>
  </table>
  <h2 id="%E4%B8%89%E3%80%81%E7%A4%BA%E4%BE%8B" style="margin-left:0in;"><span style="color:#1e4e79;">三、示例</span></h2> 
  <p><strong>默认配置，就不演示了&nbsp;&nbsp;</strong></p> 
  <p><strong><a href="https://blog.csdn.net/LiuY521/article/details/94721238" rel="nofollow">https://blog.csdn.net/LiuY521/article/details/94721238</a></strong></p> 
  <h1 style="margin-left:0in;">&nbsp;</h1> 
  <h1 id="%E4%BA%8C.File_roll%20Sink" style="margin-left:0in;">二.File_roll Sink</h1> 
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">一、概述</span></h2> 
  <ol style="margin-left:.375in;">
   <li>在本地系统中存储事件</li> 
   <li>每隔指定时长生成文件保存这段时间内收集到的日志信息</li> 
  </ol>
  <h2 id="%E4%BA%8C%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E" style="margin-left:0in;"><span style="color:#1e4e79;">二、可配置选项说明</span></h2> 
  <table cellspacing="0">
   <tbody>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.6722in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">配置项</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;"><span style="color:#ffffff;">说明</span></p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.6722in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">channel</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">绑定通道</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.6722in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">type</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">file_roll</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.6722in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">sink.directory</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">文件被存储的目录</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.6722in;"> <p style="margin-left:0in;">sink.rollInterval</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">30&nbsp; 记录日志到文件里，每隔30秒生成一个新日志文件。如果设置为0，则禁止滚动，从而导致所有数据被写入到一个文件中。</p> </td> 
    </tr>
   </tbody>
  </table>
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">三、示例</span></h2> 
  <h3 id="1.%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC"><span style="color:#1e4e79;">1.复制文本</span></h3> 
  <p><span style="color:#1e4e79;">&nbsp;mv basic2.conf filerollsink.txt</span></p> 
  <h3 id="2.%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE"><span style="color:#1e4e79;">2.编辑配置</span></h3> 
  <p><img alt="" class="has" height="321" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705202819375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="406"></p> 
  <h3 id="3.%E5%90%AF%E5%8A%A8%E6%8C%87%E4%BB%A4%C2%A0%20%E5%90%AF%E5%8A%A8%E4%B8%8D%E4%BA%86%EF%BC%8C%E6%9D%80%E6%AD%BB%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8">3.启动指令&nbsp; 启动不了，杀死对应进程重新启动</h3> 
  <p><img alt="" class="has" height="92" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705203408427.png" width="878"></p> 
  <h3 id="4.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6%C2%A0%20%E5%A6%82%E6%9E%9C%E8%AF%AF%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8C%89%E7%85%A7Ctrl%20%2BBackspace%20%E5%9B%9E%E9%80%80">4.编辑文件&nbsp; 如果误操作，可以按照Ctrl +Backspace 回退</h3> 
  <p><img alt="" class="has" height="97" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705203527155.png" width="342"></p> 
  <h3 id="5.%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE">5.查询数据</h3> 
  <p><img alt="" class="has" height="105" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705203705678.png" width="865"></p> 
  <p>&nbsp;</p> 
  <h1 id="%E4%B8%89.HDFS%20Sink" style="margin-left:0in;">三.HDFS Sink</h1> 
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">一、概述</span></h2> 
  <ol style="margin-left:.375in;">
   <li>此Sink将事件写入到Hadoop分布式文件系统HDFS中</li> 
   <li>目前它支持创建文本文件和序列化文件，并且对这两种格式都支持压缩</li> 
   <li>这些文件可以分卷，按照指定的时间或数据量或事件的数量为基础</li> 
   <li>它还通过类似时间戳或机器属性对数据进行 buckets/partitions 操作</li> 
   <li>HDFS的目录路径可以包含将要由HDFS替换格式的转移序列用以生成存储事件的目录/文件名</li> 
   <li>使用这个Sink要求haddop必须已经安装好，以便Flume可以通过hadoop提供的jar包与HDFS进行通信</li> 
  </ol>
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">二、可配置选项说明</span></h2> 
  <table cellspacing="0">
   <tbody>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">配置项</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;"><span style="color:#ffffff;">说明</span></p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">channel</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">绑定的通道</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">type</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">hdfs</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">hdfs.path</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">HDFS 目录路径 （hdfs://namenode/flume/webdata/)</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;">hdfs.inUseSuffix</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">.tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flume正在处理的文件所加的后缀</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;">hdfs.rollInterval</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">文件生成的间隔事件，默认是30，单位是秒&nbsp; &nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;">hdfs.rollSize</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">生成的文件大小，默认是1024个字节 ，0表示不开启此项</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;">hdfs.rollCount</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">每写几条数据就生成一个新文件，默认数量为10</p> <p style="margin-left:0in;">每写几条数据就生成一个新文件，</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">hdfs.fileType</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">SequenceFile/DataStream/CompressedStream</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:2.0479in;"> <p style="margin-left:0in;">hdfs.retryInterval</p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;"> <p style="margin-left:0in;">80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time in seconds between consecutive attempts to close a file. Each close call costs multiple RPC round-trips to the Namenode, so setting this too low can cause a lot of load on the name node. If set to 0 or less, the sink will not attempt to close the file if the first attempt fails, and may leave the file open or with a ”.tmp” extension.</p> </td> 
    </tr>
   </tbody>
  </table>
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">三、示例</span></h2> 
  <h3 id="1.%E5%A4%87%E4%BB%BD%E4%B8%80%E4%BB%BD%E6%96%87%E4%BB%B6">1.备份一份文件</h3> 
  <p><strong>vim HDFS.conf</strong></p> 
  <h3>2.编辑配置</h3> 
  <p><img alt="" class="has" height="521" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705204047709.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="385"></p> 
  <h3 id="3.%E5%90%AF%E5%8A%A8">3.启动</h3> 
  <p><img alt="" class="has" height="141" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705204223824.png" width="890"></p> 
  <h3 id="4.%E7%A1%AE%E4%BF%9DHDFS%E5%90%AF%E5%8A%A8">4.确保HDFS启动</h3> 
  <p><img alt="" class="has" height="146" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705204404258.png" width="240"></p> 
  <h3 id="5.%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE">5.传输数据</h3> 
  <p>报错&nbsp; 格式不支持</p> 
  <p><img alt="" class="has" height="111" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705204843560.png" width="705"></p> 
  <p>配置写错了</p> 
  <p><img alt="" class="has" height="101" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705204824338.png" width="359"></p> 
  <h3 id="6.%E6%9F%A5%E8%AF%A2">6.查询</h3> 
  <p><img alt="" class="has" height="236" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705205303895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="769"></p> 
  <h2 id="%E5%9B%9B%E3%80%81%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98" style="margin-left:0in;"><span style="color:#1e4e79;">四、存在问题</span></h2> 
  <h3 id="1.%E6%8A%A5%E9%94%99%E6%98%AF%E5%9B%A0%E4%B8%BAflume%E7%BC%BA%E5%B0%91%E7%9B%B8%E5%85%B3hadoop%E7%9A%84%E4%BE%9D%E8%B5%96jar%E5%8C%85%EF%BC%8C"><strong>1.报错是因为flume缺少相关hadoop的依赖jar包，</strong></h3> 
  <p><strong>找到以下的jar包，放到flume的lib目录下即可。</strong></p> 
  <ul>
   <li style="margin-left:0in;"><strong>commons-configuration-1.6.jar</strong></li> 
   <li style="margin-left:0in;"><strong>hadoop-auth-2.5.2.jar</strong></li> 
   <li style="margin-left:0in;"><strong>hadoop-common-2.5.2.jar</strong></li> 
   <li style="margin-left:0in;"><strong>hadoop-hdfs-2.5.2.jar</strong></li> 
   <li style="margin-left:0in;"><strong>hadoop-mapreduce-client-core-2.5.2.jar</strong></li> 
  </ul>
  <h3 id="2.%E4%BD%86%E6%98%AF%E4%B8%80%E4%B8%AA%E4%B8%80%E4%B8%AA%E6%89%BE%E7%89%B9%E5%88%AB%E9%BA%BB%E7%83%A6%EF%BC%8C%E6%89%80%E4%BB%A5%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E6%98%AF%E5%B0%86hadoop%E7%9A%84jar%E5%8C%85%E9%83%BD%E6%8B%B7%E8%B4%9D%E5%88%B0flume%E7%9A%84lib%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%9A" style="margin-left:0in;"><strong>2.但是一个一个找特别麻烦，所以解决办法是将hadoop的jar包都拷贝到flume的lib目录下：</strong></h3> 
  <ul>
   <li style="margin-left:0in;"><strong>执行：</strong></li> 
   <li style="margin-left:0in;"><strong>scp common/*&nbsp;</strong></li> 
   <li style="margin-left:0in;"><strong>common/lib/* &nbsp;&nbsp;</strong></li> 
   <li style="margin-left:0in;"><strong>hdfs/* &nbsp;&nbsp;</strong></li> 
   <li style="margin-left:0in;"><strong>hdfs/lib/*&nbsp; </strong></li> 
   <li style="margin-left:0in;"><strong>mapreduce/* &nbsp;</strong></li> 
   <li style="margin-left:0in;"><strong>mapreduce/lib/* &nbsp;&nbsp;</strong></li> 
   <li style="margin-left:0in;"><strong>tools/lib/* </strong></li> 
   <li style="margin-left:0in;"><strong>10.42.60.249:/home/software/flume/lib/</strong></li> 
  </ul>
  <h1 id="%E5%9B%9B.Avro%20Sink">四.Avro Sink</h1> 
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">一、概述</span></h2> 
  <ol style="margin-left:.375in;">
   <li>将源数据进行利用avro进行序列化之后写到指定的节点上</li> 
   <li>是实现多级流动、扇出流(1到多) 扇入流(多到1) 的基础</li> 
  </ol>
  <h2 style="margin-left:0in;"><span style="color:#1e4e79;">二、可配置选项说明</span></h2> 
  <table cellspacing="0">
   <tbody>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.4625in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">配置项</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:4.6368in;"> <p style="margin-left:0in;"><span style="color:#ffffff;">说明</span></p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.4625in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">channel</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:4.6368in;"> <p style="margin-left:0in;">绑定的通道</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.4625in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">type</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:4.6368in;"> <p style="margin-left:0in;">&nbsp;avro</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.4625in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">hostname</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:4.6368in;"> <p style="margin-left:0in;">要发送的主机</p> </td> 
    </tr>
    <tr>
     <td style="border-color:#a3a3a3;vertical-align:top;width:1.4625in;"> <p style="margin-left:0in;"><span style="color:#ff0000;">port</span></p> </td> 
     <td style="border-color:#a3a3a3;vertical-align:top;width:4.6368in;"> <p style="margin-left:0in;">要发往的端口号</p> </td> 
    </tr>
   </tbody>
  </table>
  <h2 id="%E4%B8%89%E3%80%81%E5%A4%9A%E7%BA%A7%E6%B5%81%E5%8A%A8" style="margin-left:0in;"><span style="color:#1e4e79;">三、多级流动</span></h2> 
  <h3 id="1.%E6%A6%82%E8%BF%B0" style="margin-left:0in;"><span style="color:#2e75b5;">1.概述</span></h3> 
  <ol style="margin-left:.375in;">
   <li>让01机的flume通过netcat source源接收数据，然后通过avro sink 发给02机</li> 
   <li>02机的flume利用avro source源收数据，然后通过avro sink 传给03机</li> 
   <li>03机通过avro source源收数据，通过logger sink 输出到控制台上</li> 
  </ol>
  <h3 id="2.%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4" style="margin-left:0in;"><span style="color:#1e4e79;">2.实现步骤</span></h3> 
  <ol style="margin-left:.375in;">
   <li>准备三个节点，并安装好flume（关闭每台机器的防火墙）</li> 
   <li>配置每台flume的配置文件</li> 
  </ol>
  <h3 id="3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE">3.第一个云主机配置</h3> 
  <p><img alt="" class="has" height="524" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019070520581331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="377"></p> 
  <h3 id="4.%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE">4.第二个云主机配置</h3> 
  <p><img alt="" class="has" height="264" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705210059693.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="388"></p> 
  <h3 id="5.%E7%AC%AC%E4%B8%89%E4%B8%AA%E4%BA%91%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE">5.第三个云主机配置</h3> 
  <p><img alt="" class="has" height="285" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705210223325.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="356"></p> 
  <h3 id="6.%E5%90%AF%E5%8A%A8%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9%20%E5%BE%80%E5%90%8E%E5%90%91%E5%89%8D%E5%90%AF%E5%8A%A8">6.启动第三个节点 往后向前启动</h3> 
  <p><img alt="" class="has" height="89" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705210317204.png" width="800"></p> 
  <h3 id="7.%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE">7.输入数据</h3> 
  <h3 id="%E2%80%8B"><img alt="" class="has" height="101" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705212045522.png" width="377"></h3> 
  <h3 id="8.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE">8.接收数据</h3> 
  <p><img alt="" class="has" height="79" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705212102121.png" width="887"></p> 
  <h2 id="%E5%9B%9B%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81" style="margin-left:0in;"><span style="color:#1e4e79;">四、扇入流</span></h2> 
  <h3 id="1.%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6" style="margin-left:0in;"><span style="color:#1e4e79;">1.编辑文件</span></h3> 
  <p style="margin-left:0in;"><span style="color:#1e4e79;">vim shanru.conf</span></p> 
  <h3 id="2.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%90%8C" style="margin-left:0in;"><span style="color:#1e4e79;">2.第一个和第二个配置相同</span></h3> 
  <p><img alt="" class="has" height="310" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705211450466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="339"></p> 
  <h3 id="3.%E7%AC%AC%E4%B8%89%E4%B8%AA%E8%8A%82%E7%82%B9">3.第三个节点</h3> 
  <p><img alt="" class="has" height="295" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705211747483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="338"></p> 
  <h3 id="4.%E5%90%AF%E5%8A%A8%20%E4%BB%8E%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%90%AF%E5%8A%A8">4.启动 从最后一个启动</h3> 
  <p><strong>../bin/flume-ng agent -n a1 -c ../conf -f <span style="color:#f33b45;">要启动的文件</span> -Dflume.root.logger=INFO,console</strong></p> 
  <p><img alt="" class="has" height="103" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705212117858.png" width="901"></p> 
  <h3 id="5.%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE">5.发送数据</h3> 
  <p><img alt="" class="has" height="101" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705212045522.png" width="377"></p> 
  <h3 id="6.%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE">6.接收数据</h3> 
  <p><img alt="" class="has" height="79" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190705212102121.png" width="887"></p> 
  <h2 id="%E4%BA%94%E3%80%81%E6%89%87%E5%87%BA%E6%B5%81"><span style="color:#1e4e79;">五、扇出流</span></h2> 
  <h3 style="margin-left:0in;"><span style="color:#1e4e79;">1.编辑文件</span></h3> 
  <p style="margin-left:0in;"><strong><span style="color:#1e4e79;">vim shanchu.conf</span></strong></p> 
  <h3 style="margin-left:0in;"><span style="color:#1e4e79;">2.第一个节点配置</span></h3> 
  <p><img alt="" class="has" height="428" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190706194203486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="359"></p> 
  <h3 id="3.%E7%AC%AC%E4%BA%8C%EF%BC%8C%E7%AC%AC%E4%B8%89%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E4%B8%80%E6%A0%B7"><span style="color:#1e4e79;">3.第二，第三节点配置一样</span></h3> 
  <p><img alt="" class="has" height="270" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190706194236903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="370"></p> 
  <h3 id="4.%E5%90%AF%E5%8A%A8"><span style="color:#1e4e79;">4.启动</span></h3> 
  <p><img alt="" class="has" height="54" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190706194359228.png" width="795"></p> 
  <h3 id="5.%202%E5%92%8C3%E8%8A%82%E7%82%B9%E4%BC%9A%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE"><span style="color:#1e4e79;">5. 2和3节点会接收数据</span></h3> 
  <p><img alt="" class="has" height="590" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190706194510553.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdVk1MjE=,size_16,color_FFFFFF,t_70" width="385"></p> 
  <p><strong>出现叹号，提示有数据传输</strong></p> 
  <h3 id="6.%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE">6.查看数据</h3> 
  <p><img alt="" class="has" height="93" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190706194551419.png" width="874"></p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
 </div> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d293c49e1e4bfe8f276695a5aa953300";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
