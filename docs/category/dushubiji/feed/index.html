<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>读书笔记 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/dushubiji/feed" rel="self" type="application/rss+xml" />
	<link>http://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Mon, 25 Mar 2019 12:12:19 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>读书笔记 &#8211; 有组织在!</title>
	<link>http://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>《暗时间》读书笔记（一）</title>
		<link>https://uzzz.org/article/1001.html</link>
				<pubDate>Mon, 25 Mar 2019 12:12:19 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[读书笔记]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/1001.html</guid>
				<description><![CDATA[《暗时间》读书笔记 高效做事 善于深入思考，调动整个记忆神经网络，充分利用琐碎时间对学习过的东西进行思考，不断深入的思考，能够对所学习的东西在脑海中产生深刻的印象，更深刻的理解，在思考过程中，大脑会将知识由被动学习转变为主动理解，从将其真正的转化为自己的知识。 锻炼专注意识，在做任何事之前，进入状态会花费一段时间，而这段时间可以通过大量的锻炼而缩短。 将时间大块划分，一段时间内专注做一件事，不要因为其他事中断思考 持续处于思考状态，专注力十分重要，不受外界干扰。 设计专属的进度条 明确自己所处的进度，不盲目做事，有明确的目标以及预期，准确估计时间上限。 敢于尝试，不要过早放弃，主动去面对，会发现，真得没有你想象的那么难，而且会带来成就感，学习到的东西对你来说印象很深刻。 不止步于兴趣层面，进行长时间的坚持，绝对会比别人去的更加深入的理解。 不要停留于选择上面而不去执行，那样只会让你停滞不前。仔细思考，作出自己认为正确的选择就马上去执行，不要浪费你的“CPU”时间。 善于反思，能让自己的“程序”修改自己的错误。 自学是最大的知识来源，主动摄入知识，大脑更容易接受。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<h1><a id="_0"></a>《暗时间》读书笔记</h1>
<h2><a id="_1"></a>高效做事</h2>
<h3><a id="_2"></a>善于深入思考，调动整个记忆神经网络，充分利用琐碎时间对学习过的东西进行思考，不断深入的思考，能够对所学习的东西在脑海中产生深刻的印象，更深刻的理解，在思考过程中，大脑会将知识由被动学习转变为主动理解，从将其真正的转化为自己的知识。</h3>
<h3><a id="_3"></a>锻炼专注意识，在做任何事之前，进入状态会花费一段时间，而这段时间可以通过大量的锻炼而缩短。</h3>
<h3><a id="_4"></a>将时间大块划分，一段时间内专注做一件事，不要因为其他事中断思考</h3>
<h3><a id="_5"></a>持续处于思考状态，专注力十分重要，不受外界干扰。</h3>
<h1><a id="_6"></a>设计专属的进度条</h1>
<h3><a id="_7"></a>明确自己所处的进度，不盲目做事，有明确的目标以及预期，准确估计时间上限。</h3>
<h3><a id="_8"></a>敢于尝试，不要过早放弃，主动去面对，会发现，真得没有你想象的那么难，而且会带来成就感，学习到的东西对你来说印象很深刻。</h3>
<h3><a id="_9"></a>不止步于兴趣层面，进行长时间的坚持，绝对会比别人去的更加深入的理解。</h3>
<h3><a id="CPU_10"></a>不要停留于选择上面而不去执行，那样只会让你停滞不前。仔细思考，作出自己认为正确的选择就马上去执行，不要浪费你的“CPU”时间。</h3>
<h3><a id="_11"></a>善于反思，能让自己的“程序”修改自己的错误。</h3>
<h3><a id="_12"></a>自学是最大的知识来源，主动摄入知识，大脑更容易接受。</h3>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Android Deep Link</title>
		<link>https://uzzz.org/article/1597.html</link>
				<pubDate>Sun, 17 Dec 2017 13:22:03 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[android]]></category>
		<category><![CDATA[读书笔记]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/1597.html</guid>
				<description><![CDATA[Android Deep Link 官网参考文档 使用场景 用户在网页点击了一个链接以后，直接引导用户在本地应用中查看对应的内容。 原理 当我们点击或者自动化的网络请求会生成一个web URI intent，Android系统按照一定顺序去处理这个请求。 处理顺序为：1.打开所有可以处理本URL应用中用户默认选择的；2.打开唯一能处理这个URL的应用；3.将所有可以处理这个URL的应用展示在Dialog中让用户选择 基本步骤 在manifest文件中定义IntentFilter 建立对应处理的Activity (对于Android App Link而言)将本地内容与URL地址通过服务器上的Digital Asset Links文件关联起来 辅助工具 Android Studio的App Link Assistant使用说明：官方使用指南 分类 Deep Link,Android App Link Deep Link 配置 在Manifest中增加intent filter &#60;action&#62;: ACTION_VIEW &#60;category&#62;: 包含BROWSABLE,DEFAULT.BROWSABLE(必须包含，才可以处理来至l浏览器的Intent Filter) &#60;data&#62;: 指定可以响应的URI信息，至少包含scheme标签，可以使用path,pathPattern或者pathPrefix去处理相似的URI // 可以响应example://gizmos 和 http://www.example.com/gizmos的Activity &#60;activity android:name="com.example.android.GizmosActivity" android:label="@string/title_gizmos" &#62; &#60;intent-filter android:label="@string/filter_view_http_gizmos"&#62; &#60;action android:name="android.intent.action.VIEW" /&#62; &#60;category android:name="android.intent.category.DEFAULT" /&#62; &#60;category android:name="android.intent.category.BROWSABLE" /&#62; &#60;!-- Accepts URIs that begin with "http://www.example.com/gizmos” --&#62; &#60;data android:scheme="http" android:host="www.example.com" android:pathPrefix="/gizmos" /&#62; &#60;!-- note that the leading "/" is required for pathPrefix--&#62; &#60;/intent-filter&#62; &#60;intent-filter android:label="@string/filter_view_example_gizmos"&#62; &#60;action android:name="android.intent.action.VIEW" /&#62; &#60;category android:name="android.intent.category.DEFAULT" /&#62; &#60;category android:name="android.intent.category.BROWSABLE" /&#62; &#60;!-- Accepts URIs that begin with "example://gizmos” --&#62; &#60;data android:scheme="example" android:host="gizmos" /&#62; &#60;/intent-filter&#62; &#60;/activity&#62; 注意点 同一个Intent Filter中的&#60;data&#62;会进行合并组合 &#60;intent-filter&#62; ... &#60;data android:scheme="https" android:host="www.example.com" /&#62; &#60;data android:scheme="app" android:host="open.my.app" /&#62; &#60;/intent-filter&#62; // 会生成app://www.example.com 和 https://open.my.app 从Intent获取数据 一旦系统通过Intent Filter打开你的界面,可以从Intent中获取数据 @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); Intent intent = getIntent(); String action = intent.getAction(); Uri data = intent.getData(); } mainfest文件里定义了定义了应用与网页的关系和如何处理这些链接 测试配置 $ adb shell am start -W -a android.intent.action.VIEW -d &#60;URI&#62; &#60;PACKAGE&#62; Android App Link 原因：将自己的应用作为URI的默认处理应用，从而减少弹出选择处理对应应用的对话框 本质：一种特殊的Deep Link 查看本机已经支持Android App Link的应用 adb shell dumpsys package domain-preferred-apps 或 adb]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<h1 id="android-deep-link">Android Deep Link</h1>
<p><a href="https://developer.android.com/training/app-links/deep-linking.html" rel="nofollow noopener noreferrer" target="_blank" data-token="577a5a854275b19010dac43688c7260c">官网参考文档</a></p>
<h2 id="使用场景">使用场景</h2>
<p>用户在网页点击了一个链接以后，直接引导用户在本地应用中查看对应的内容。</p>
<h2 id="原理">原理</h2>
<p>当我们点击或者自动化的网络请求会生成一个web URI intent，Android系统按照一定顺序去处理这个请求。 <br /> 处理顺序为：1.打开所有可以处理本URL应用中用户默认选择的；2.打开唯一能处理这个URL的应用；3.将所有可以处理这个URL的应用展示在Dialog中让用户选择</p>
<h2 id="基本步骤">基本步骤</h2>
<ol>
<li>在manifest文件中定义IntentFilter</li>
<li>建立对应处理的Activity</li>
<li>(对于Android App Link而言)将本地内容与URL地址通过服务器上的Digital Asset Links文件关联起来</li>
</ol>
<h2 id="辅助工具">辅助工具</h2>
<p>Android Studio的App Link Assistant使用说明：<a href="https://developer.android.com/studio/write/app-link-indexing.html#intent" rel="nofollow noopener noreferrer" target="_blank" data-token="5ae40f6271fd3125f0e6a219d1dd01af">官方使用指南</a></p>
<h2 id="分类">分类</h2>
<p><strong>Deep Link</strong>,<strong>Android App Link</strong></p>
<h2 id="deep-link">Deep Link</h2>
<h3 id="配置">配置</h3>
<ol>
<li>在Manifest中增加intent filter <br /> 
<ul>
<li><code>&lt;action&gt;</code>: ACTION_VIEW</li>
<li><code>&lt;category&gt;</code>: 包含BROWSABLE,DEFAULT.BROWSABLE(必须包含，才可以处理来至l浏览器的Intent Filter)</li>
<li><code>&lt;data&gt;</code>: 指定可以响应的URI信息，至少包含scheme标签，可以使用path,pathPattern或者pathPrefix去处理相似的URI</li>
</ul>
</li>
</ol>
<pre class="prettyprint"><code class=" hljs xml">    // 可以响应example://gizmos 和 http://www.example.com/gizmos的Activity
    <span class="hljs-tag">&lt;<span class="hljs-title">activity </span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.example.android.GizmosActivity"</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/title_gizmos"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/filter_view_http_gizmos"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- Accepts URIs that begin with "http://www.example.com/gizmos” --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"http"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> <span class="hljs-attribute">android:pathPrefix</span>=<span class="hljs-value">"/gizmos"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- note that the leading "/" is required for pathPrefix--&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/filter_view_example_gizmos"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- Accepts URIs that begin with "example://gizmos” --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"example"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"gizmos"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<p><em>注意点</em> <br /> 同一个Intent Filter中的<code>&lt;data&gt;</code>会进行合并组合</p>
<pre class="prettyprint"><code class=" hljs r">&lt;intent-filter&gt;
  <span class="hljs-keyword">...</span>
  &lt;data android:scheme=<span class="hljs-string">"https"</span> android:host=<span class="hljs-string">"www.example.com"</span> /&gt;
  &lt;data android:scheme=<span class="hljs-string">"app"</span> android:host=<span class="hljs-string">"open.my.app"</span> /&gt;
&lt;/intent-filter&gt;
// 会生成app://www.example.com 和 https://open.my.app</code></pre>
<h3 id="从intent获取数据">从Intent获取数据</h3>
<p>一旦系统通过Intent Filter打开你的界面,可以从Intent中获取数据</p>
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-annotation">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Intent intent = getIntent();
    String action = intent.getAction();
    Uri data = intent.getData();
}</code></pre>
<p>mainfest文件里定义了定义了应用与网页的关系和如何处理这些链接</p>
<h3 id="测试配置">测试配置</h3>
<pre class="prettyprint"><code class=" hljs haml">$ adb shell am start
        -<span class="ruby"><span class="hljs-constant">W</span> -a android.intent.action.<span class="hljs-constant">VIEW</span> </span>        -<span class="ruby">d &lt;<span class="hljs-constant">URI</span>&gt; &lt;<span class="hljs-constant">PACKAGE</span>&gt;</span></code></pre>
<h2 id="android-app-link">Android App Link</h2>
<ul>
<li>原因：将自己的应用作为URI的默认处理应用，从而减少弹出选择处理对应应用的对话框</li>
<li>本质：一种特殊的Deep Link</li>
<li>查看本机已经支持Android App Link的应用</li>
</ul>
<pre class="prettyprint"><code class=" hljs lua">adb shell dumpsys <span class="hljs-built_in">package</span> domain-preferred-apps
或
adb shell dumpsys <span class="hljs-built_in">package</span> d</code></pre>
<ul>
<li>安装应用后系统至少需要20s去自动认证</li>
</ul>
<h3 id="认证链接verify-android-app-link">认证链接(verify android app link)</h3>
<p>第一步：在mainfest中定义可以处理的URI <br /> 第二步：认证URL与app,让系统认证你拥有这个url,系统自动的将URL定位至你的应用</p>
<h4 id="认证步骤">认证步骤</h4>
<h4 id="app端开启认证能力">App端开启认证能力</h4>
<p>在任一IntentFilter中添加android:autoVerify=”true”,6.0及以上系统自动认证所有符合如下条件IntentFilter中的URL，步骤如下 <br /> 1. 查找所有有</p>
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-label">Action:</span> android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.action</span><span class="hljs-preprocessor">.VIEW</span>
<span class="hljs-label">Categories:</span> android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.category</span><span class="hljs-preprocessor">.BROWSABLE</span>
Data scheme: http <span class="hljs-keyword">or</span> https，host为URL域名</code></pre>
<p>标签的IntentFilter <br /> 2. 对在1过程中找到的所有URL,Android会向对应的网址<a href="https://hostname/.well-known/assetlinks.json" rel="nofollow noopener noreferrer" target="_blank" data-token="8d62097cdb74a044a085dc91108b20ff">https://hostname/.well-known/assetlinks.json</a>中的Digital Asset Links file认证。 <br /> 3. 只有当找到所有在AndroidMainfest中的网址时都被认证时，才能作为对应URL唯一响应App</p>
<h4 id="服务端发布认证文件">服务端发布认证文件</h4>
<ul>
<li>发布的地址：<a href="https://domain.name/.well-known/assetlinks.json" rel="nofollow noopener noreferrer" target="_blank" data-token="0ac84cafb0c996a466357a7cee1d1874">https://domain.name/.well-known/assetlinks.json</a></li>
<li>需要标明文件类型：content-type application/json</li>
<li>需要https获取</li>
<li>可以直接获取，不能有任何的重定位(比如301或者302)而且可以被robots抓取</li>
<li>如果你的应用支持多个网址，在每个对应网址下都要放置对应文件</li>
<li>网址要公众网，避免不能被正确获取</li>
</ul>
<pre class="prettyprint"><code class=" hljs json">[{
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>}]</code></pre>
<p>package_name:build.gradle file文件中的application id <br /> sha256_cert_fingerprints:keystore的密匙，可以使用keytool -list -v -keystore my-release-key.keystore获取</p>
<h3 id="android-app-link组合情况说明">Android App Link组合情况说明</h3>
<ul>
<li>一个Actvity对应多个URL</li>
</ul>
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"http"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<ul>
<li>复杂的子域名</li>
</ul>
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"mobile.example.com"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>
// 特例对于*.example.com的服务器端文件需要放置在example.com中
<span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"*.example.com"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<ul>
<li>一个RUL对应多个App <br /> 在服务器文件配置</li>
</ul>
<pre class="prettyprint"><code class=" hljs json">[{
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example.puppies.app"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>},
  {
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example.monkeys.app"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>}]</code></pre>
<ul>
<li>一个App对应多个域名 <br /> 在各个域名添加.well-known/assetlinks.json文件</li>
</ul>
<h3 id="测试android-app-link是否配置成功">测试Android App Link是否配置成功</h3>
<h4 id="检测应用端是否配置正确">检测应用端是否配置正确</h4>
<pre class="prettyprint"><code class=" hljs avrasm">adb shell am start -a android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.action</span><span class="hljs-preprocessor">.VIEW</span> 
    -c android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.category</span><span class="hljs-preprocessor">.BROWSABLE</span> 
    -d <span class="hljs-string">"http://domain.name:optional_port"</span></code></pre>
<h4 id="检测服务器文件是否配置成功">检测服务器文件是否配置成功</h4>
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-label">https:</span>//digitalassetlinks<span class="hljs-preprocessor">.googleapis</span><span class="hljs-preprocessor">.com</span>/v1/statements:list?
   source<span class="hljs-preprocessor">.web</span><span class="hljs-preprocessor">.site</span>=https://domain<span class="hljs-preprocessor">.name</span>:optional_port&amp;
   relation=delegate_permission/common<span class="hljs-preprocessor">.handle</span>_all_urls</code></pre>
<h2 id="deeplink与android-app-link区别">DeepLink与Android App Link区别</h2>
<ul>
<li>deeplink 是一个intent filter让用户直接进入应用中的某个页面。在有多个可以处理的应用时会弹出一个对话框让你选择对应的处理应用</li>
<li>Android App Link是一个经过认证的基于你的url的特殊deeplink,可以立即调起你的应用，而不必弹出对话框选择 <br /> <img src="https://github.com/jiaozidev/images/blob/master/difference%20bewteen%20Deep%20Link%20and%20Android%20App%20Link.png" alt="" title=""></li>
</ul>
<h2 id="建议">建议</h2>
<ul>
<li>跳转界面的设置：android:noHistory=”true”</li>
</ul>
<h2 id="注意点">注意点</h2>
<ul>
<li><code>&lt;data&gt;</code>标签的匹配模式需要注意</li>
</ul>
<h2 id="微信等问题记录">微信等问题记录</h2>
<ul>
<li>qq浏览器，uc浏览器拦截http与https协议的web URI intent,chrome正常</li>
<li>微信内置浏览器拦截web URI intent,可以借助应用宝的微下载实现基本跳转，微下载扩展功能的使用条件 <br /> <img src="https://github.com/jiaozidev/images/blob/master/%E5%BA%94%E7%94%A8%E5%AE%9D%E5%BE%AE%E4%B8%8B%E8%BD%BDapplink%E7%94%B3%E8%AF%B7%E6%9D%A1%E4%BB%B6.png" alt="扩展条件" title=""> </li>
</ul></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Android Deep Link</title>
		<link>https://uzzz.org/article/1665.html</link>
				<pubDate>Sun, 17 Dec 2017 13:22:03 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[android]]></category>
		<category><![CDATA[读书笔记]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/1665.html</guid>
				<description><![CDATA[Android Deep Link 官网参考文档 使用场景 用户在网页点击了一个链接以后，直接引导用户在本地应用中查看对应的内容。 原理 当我们点击或者自动化的网络请求会生成一个web URI intent，Android系统按照一定顺序去处理这个请求。 处理顺序为：1.打开所有可以处理本URL应用中用户默认选择的；2.打开唯一能处理这个URL的应用；3.将所有可以处理这个URL的应用展示在Dialog中让用户选择 基本步骤 在manifest文件中定义IntentFilter 建立对应处理的Activity (对于Android App Link而言)将本地内容与URL地址通过服务器上的Digital Asset Links文件关联起来 辅助工具 Android Studio的App Link Assistant使用说明：官方使用指南 分类 Deep Link,Android App Link Deep Link 配置 在Manifest中增加intent filter &#60;action&#62;: ACTION_VIEW &#60;category&#62;: 包含BROWSABLE,DEFAULT.BROWSABLE(必须包含，才可以处理来至l浏览器的Intent Filter) &#60;data&#62;: 指定可以响应的URI信息，至少包含scheme标签，可以使用path,pathPattern或者pathPrefix去处理相似的URI // 可以响应example://gizmos 和 http://www.example.com/gizmos的Activity &#60;activity android:name="com.example.android.GizmosActivity" android:label="@string/title_gizmos" &#62; &#60;intent-filter android:label="@string/filter_view_http_gizmos"&#62; &#60;action android:name="android.intent.action.VIEW" /&#62; &#60;category android:name="android.intent.category.DEFAULT" /&#62; &#60;category android:name="android.intent.category.BROWSABLE" /&#62; &#60;!-- Accepts URIs that begin with "http://www.example.com/gizmos” --&#62; &#60;data android:scheme="http" android:host="www.example.com" android:pathPrefix="/gizmos" /&#62; &#60;!-- note that the leading "/" is required for pathPrefix--&#62; &#60;/intent-filter&#62; &#60;intent-filter android:label="@string/filter_view_example_gizmos"&#62; &#60;action android:name="android.intent.action.VIEW" /&#62; &#60;category android:name="android.intent.category.DEFAULT" /&#62; &#60;category android:name="android.intent.category.BROWSABLE" /&#62; &#60;!-- Accepts URIs that begin with "example://gizmos” --&#62; &#60;data android:scheme="example" android:host="gizmos" /&#62; &#60;/intent-filter&#62; &#60;/activity&#62; 注意点 同一个Intent Filter中的&#60;data&#62;会进行合并组合 &#60;intent-filter&#62; ... &#60;data android:scheme="https" android:host="www.example.com" /&#62; &#60;data android:scheme="app" android:host="open.my.app" /&#62; &#60;/intent-filter&#62; // 会生成app://www.example.com 和 https://open.my.app 从Intent获取数据 一旦系统通过Intent Filter打开你的界面,可以从Intent中获取数据 @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); Intent intent = getIntent(); String action = intent.getAction(); Uri data = intent.getData(); } mainfest文件里定义了定义了应用与网页的关系和如何处理这些链接 测试配置 $ adb shell am start -W -a android.intent.action.VIEW -d &#60;URI&#62; &#60;PACKAGE&#62; Android App Link 原因：将自己的应用作为URI的默认处理应用，从而减少弹出选择处理对应应用的对话框 本质：一种特殊的Deep Link 查看本机已经支持Android App Link的应用 adb shell dumpsys package domain-preferred-apps 或 adb]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<h1 id="android-deep-link">Android Deep Link</h1>
<p><a href="https://developer.android.com/training/app-links/deep-linking.html" rel="nofollow noopener noreferrer" target="_blank" data-token="577a5a854275b19010dac43688c7260c">官网参考文档</a></p>
<h2 id="使用场景">使用场景</h2>
<p>用户在网页点击了一个链接以后，直接引导用户在本地应用中查看对应的内容。</p>
<h2 id="原理">原理</h2>
<p>当我们点击或者自动化的网络请求会生成一个web URI intent，Android系统按照一定顺序去处理这个请求。 <br /> 处理顺序为：1.打开所有可以处理本URL应用中用户默认选择的；2.打开唯一能处理这个URL的应用；3.将所有可以处理这个URL的应用展示在Dialog中让用户选择</p>
<h2 id="基本步骤">基本步骤</h2>
<ol>
<li>在manifest文件中定义IntentFilter</li>
<li>建立对应处理的Activity</li>
<li>(对于Android App Link而言)将本地内容与URL地址通过服务器上的Digital Asset Links文件关联起来</li>
</ol>
<h2 id="辅助工具">辅助工具</h2>
<p>Android Studio的App Link Assistant使用说明：<a href="https://developer.android.com/studio/write/app-link-indexing.html#intent" rel="nofollow noopener noreferrer" target="_blank" data-token="5ae40f6271fd3125f0e6a219d1dd01af">官方使用指南</a></p>
<h2 id="分类">分类</h2>
<p><strong>Deep Link</strong>,<strong>Android App Link</strong></p>
<h2 id="deep-link">Deep Link</h2>
<h3 id="配置">配置</h3>
<ol>
<li>在Manifest中增加intent filter <br /> 
<ul>
<li><code>&lt;action&gt;</code>: ACTION_VIEW</li>
<li><code>&lt;category&gt;</code>: 包含BROWSABLE,DEFAULT.BROWSABLE(必须包含，才可以处理来至l浏览器的Intent Filter)</li>
<li><code>&lt;data&gt;</code>: 指定可以响应的URI信息，至少包含scheme标签，可以使用path,pathPattern或者pathPrefix去处理相似的URI</li>
</ul>
</li>
</ol>
<pre class="prettyprint"><code class=" hljs xml">    // 可以响应example://gizmos 和 http://www.example.com/gizmos的Activity
    <span class="hljs-tag">&lt;<span class="hljs-title">activity </span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.example.android.GizmosActivity"</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/title_gizmos"</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/filter_view_http_gizmos"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- Accepts URIs that begin with "http://www.example.com/gizmos” --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"http"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> <span class="hljs-attribute">android:pathPrefix</span>=<span class="hljs-value">"/gizmos"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- note that the leading "/" is required for pathPrefix--&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"@string/filter_view_example_gizmos"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
            <span class="hljs-comment">&lt;!-- Accepts URIs that begin with "example://gizmos” --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"example"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"gizmos"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<p><em>注意点</em> <br /> 同一个Intent Filter中的<code>&lt;data&gt;</code>会进行合并组合</p>
<pre class="prettyprint"><code class=" hljs r">&lt;intent-filter&gt;
  <span class="hljs-keyword">...</span>
  &lt;data android:scheme=<span class="hljs-string">"https"</span> android:host=<span class="hljs-string">"www.example.com"</span> /&gt;
  &lt;data android:scheme=<span class="hljs-string">"app"</span> android:host=<span class="hljs-string">"open.my.app"</span> /&gt;
&lt;/intent-filter&gt;
// 会生成app://www.example.com 和 https://open.my.app</code></pre>
<h3 id="从intent获取数据">从Intent获取数据</h3>
<p>一旦系统通过Intent Filter打开你的界面,可以从Intent中获取数据</p>
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-annotation">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Intent intent = getIntent();
    String action = intent.getAction();
    Uri data = intent.getData();
}</code></pre>
<p>mainfest文件里定义了定义了应用与网页的关系和如何处理这些链接</p>
<h3 id="测试配置">测试配置</h3>
<pre class="prettyprint"><code class=" hljs haml">$ adb shell am start
        -<span class="ruby"><span class="hljs-constant">W</span> -a android.intent.action.<span class="hljs-constant">VIEW</span> </span>        -<span class="ruby">d &lt;<span class="hljs-constant">URI</span>&gt; &lt;<span class="hljs-constant">PACKAGE</span>&gt;</span></code></pre>
<h2 id="android-app-link">Android App Link</h2>
<ul>
<li>原因：将自己的应用作为URI的默认处理应用，从而减少弹出选择处理对应应用的对话框</li>
<li>本质：一种特殊的Deep Link</li>
<li>查看本机已经支持Android App Link的应用</li>
</ul>
<pre class="prettyprint"><code class=" hljs lua">adb shell dumpsys <span class="hljs-built_in">package</span> domain-preferred-apps
或
adb shell dumpsys <span class="hljs-built_in">package</span> d</code></pre>
<ul>
<li>安装应用后系统至少需要20s去自动认证</li>
</ul>
<h3 id="认证链接verify-android-app-link">认证链接(verify android app link)</h3>
<p>第一步：在mainfest中定义可以处理的URI <br /> 第二步：认证URL与app,让系统认证你拥有这个url,系统自动的将URL定位至你的应用</p>
<h4 id="认证步骤">认证步骤</h4>
<h4 id="app端开启认证能力">App端开启认证能力</h4>
<p>在任一IntentFilter中添加android:autoVerify=”true”,6.0及以上系统自动认证所有符合如下条件IntentFilter中的URL，步骤如下 <br /> 1. 查找所有有</p>
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-label">Action:</span> android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.action</span><span class="hljs-preprocessor">.VIEW</span>
<span class="hljs-label">Categories:</span> android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.category</span><span class="hljs-preprocessor">.BROWSABLE</span>
Data scheme: http <span class="hljs-keyword">or</span> https，host为URL域名</code></pre>
<p>标签的IntentFilter <br /> 2. 对在1过程中找到的所有URL,Android会向对应的网址<a href="https://hostname/.well-known/assetlinks.json" rel="nofollow noopener noreferrer" target="_blank" data-token="8d62097cdb74a044a085dc91108b20ff">https://hostname/.well-known/assetlinks.json</a>中的Digital Asset Links file认证。 <br /> 3. 只有当找到所有在AndroidMainfest中的网址时都被认证时，才能作为对应URL唯一响应App</p>
<h4 id="服务端发布认证文件">服务端发布认证文件</h4>
<ul>
<li>发布的地址：<a href="https://domain.name/.well-known/assetlinks.json" rel="nofollow noopener noreferrer" target="_blank" data-token="0ac84cafb0c996a466357a7cee1d1874">https://domain.name/.well-known/assetlinks.json</a></li>
<li>需要标明文件类型：content-type application/json</li>
<li>需要https获取</li>
<li>可以直接获取，不能有任何的重定位(比如301或者302)而且可以被robots抓取</li>
<li>如果你的应用支持多个网址，在每个对应网址下都要放置对应文件</li>
<li>网址要公众网，避免不能被正确获取</li>
</ul>
<pre class="prettyprint"><code class=" hljs json">[{
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>}]</code></pre>
<p>package_name:build.gradle file文件中的application id <br /> sha256_cert_fingerprints:keystore的密匙，可以使用keytool -list -v -keystore my-release-key.keystore获取</p>
<h3 id="android-app-link组合情况说明">Android App Link组合情况说明</h3>
<ul>
<li>一个Actvity对应多个URL</li>
</ul>
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"http"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<ul>
<li>复杂的子域名</li>
</ul>
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"www.example.com"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"mobile.example.com"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>
// 特例对于*.example.com的服务器端文件需要放置在example.com中
<span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">”MainActivity”</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span> <span class="hljs-attribute">android:autoVerify</span>=<span class="hljs-value">"true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"*.example.com"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span></code></pre>
<ul>
<li>一个RUL对应多个App <br /> 在服务器文件配置</li>
</ul>
<pre class="prettyprint"><code class=" hljs json">[{
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example.puppies.app"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>},
  {
  "<span class="hljs-attribute">relation</span>": <span class="hljs-value">[<span class="hljs-string">"delegate_permission/common.handle_all_urls"</span>]</span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value">{ "<span class="hljs-attribute">namespace</span>": <span class="hljs-value"><span class="hljs-string">"android_app"</span></span>, "<span class="hljs-attribute">package_name</span>": <span class="hljs-value"><span class="hljs-string">"com.example.monkeys.app"</span></span>, "<span class="hljs-attribute">sha256_cert_fingerprints</span>": <span class="hljs-value">[<span class="hljs-string">"14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"</span>] </span>} </span>}]</code></pre>
<ul>
<li>一个App对应多个域名 <br /> 在各个域名添加.well-known/assetlinks.json文件</li>
</ul>
<h3 id="测试android-app-link是否配置成功">测试Android App Link是否配置成功</h3>
<h4 id="检测应用端是否配置正确">检测应用端是否配置正确</h4>
<pre class="prettyprint"><code class=" hljs avrasm">adb shell am start -a android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.action</span><span class="hljs-preprocessor">.VIEW</span> 
    -c android<span class="hljs-preprocessor">.intent</span><span class="hljs-preprocessor">.category</span><span class="hljs-preprocessor">.BROWSABLE</span> 
    -d <span class="hljs-string">"http://domain.name:optional_port"</span></code></pre>
<h4 id="检测服务器文件是否配置成功">检测服务器文件是否配置成功</h4>
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-label">https:</span>//digitalassetlinks<span class="hljs-preprocessor">.googleapis</span><span class="hljs-preprocessor">.com</span>/v1/statements:list?
   source<span class="hljs-preprocessor">.web</span><span class="hljs-preprocessor">.site</span>=https://domain<span class="hljs-preprocessor">.name</span>:optional_port&amp;
   relation=delegate_permission/common<span class="hljs-preprocessor">.handle</span>_all_urls</code></pre>
<h2 id="deeplink与android-app-link区别">DeepLink与Android App Link区别</h2>
<ul>
<li>deeplink 是一个intent filter让用户直接进入应用中的某个页面。在有多个可以处理的应用时会弹出一个对话框让你选择对应的处理应用</li>
<li>Android App Link是一个经过认证的基于你的url的特殊deeplink,可以立即调起你的应用，而不必弹出对话框选择 <br /> <img src="https://github.com/jiaozidev/images/blob/master/difference%20bewteen%20Deep%20Link%20and%20Android%20App%20Link.png" alt="" title=""></li>
</ul>
<h2 id="建议">建议</h2>
<ul>
<li>跳转界面的设置：android:noHistory=”true”</li>
</ul>
<h2 id="注意点">注意点</h2>
<ul>
<li><code>&lt;data&gt;</code>标签的匹配模式需要注意</li>
</ul>
<h2 id="微信等问题记录">微信等问题记录</h2>
<ul>
<li>qq浏览器，uc浏览器拦截http与https协议的web URI intent,chrome正常</li>
<li>微信内置浏览器拦截web URI intent,可以借助应用宝的微下载实现基本跳转，微下载扩展功能的使用条件 <br /> <img src="https://github.com/jiaozidev/images/blob/master/%E5%BA%94%E7%94%A8%E5%AE%9D%E5%BE%AE%E4%B8%8B%E8%BD%BDapplink%E7%94%B3%E8%AF%B7%E6%9D%A1%E4%BB%B6.png" alt="扩展条件" title=""> </li>
</ul></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>使用Nutch爬取暗网（.onion）</title>
		<link>https://uzzz.org/article/790.html</link>
				<pubDate>Fri, 11 Aug 2017 02:12:23 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[读书笔记]]></category>
		<category><![CDATA[页面更新识别]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/790.html</guid>
				<description><![CDATA[&#160; &#160; 抱着学习的态度，简单翻译了一个正在使用的教程，水平有限，如有错误多多包涵，自己也是刚接触到这个东西很多都不是很明白，需要解下来具体实践一下才能清楚，在这里简单贴一下译文，希望能帮助需要的人： 使用Nutch爬取暗网（.onion） 目录： 1.使用Nutch爬取隐藏服务（.onion） 1.重要提示 2.介绍 3.快速入门 4.安装Tor 1.Debian 或者 Ubuntu 2.Mac OSX 3.从git克隆源码 5.Tor日志 6.Socks代理异常 1.Polipo配置 1.在Debian或Ubuntu上 2.在Mac OSX上 2.代理 1.在Debian或Ubuntu上 2.在Mac OSX上 7.Nutch爬虫配置 8.结论 重要提示： 教程的目的是解释如何爬取隐藏服务而非怎么去使用隐藏服务来爬取。这是在读取和使用TOr网络的时候都应该考虑到的。通过Tor网络来爬取正常的网站无疑会加重Tor的网络负载。但是在Tor中你可以突破网络的封锁，访问到你想访问的网站，但是如果你执意想使用Tor和Nutch来爬取常规网站的话，你肯定走错地方了。 介绍： Tor是一个虚拟的网络通道，能够保证用户的隐私安全，也能够为软件开发者使用内置的隐私特性创造新的的沟通工具。Tor提供了广泛的应用基础，允许组织机构和个人共享他们的信息而不用考虑隐私的问题。这个教程提供了一个端到端的实例进入到Tor网络使用Nutch爬虫来爬去“.onion”网页 快速入门： 这个教程在Debian和Ubuntu已经完成测试，也可以在Mac OSX上运行。 Tor安装： 从这里下载安装配置代理相关即可，详情百度 https://www.torproject.org/ Debian or Ubuntu： 可以参考这里安装：https://www.torproject.org/docs/debian 也可以使用命令：apt-get install tor Mac OSX： 使用命令： brew install tor，之后使用tor可看到下面提示： lmcgibbn@LMC-032857 /usr/local/tor(master) $ tor Sep 23 17:09:47.448 [notice] Tor v0.2.4.23 (git-598c61362f1b3d3e) running on Darwin with Libevent 2.0.21-stable and OpenSSL 1.0.1i. Sep 23 17:09:47.448 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning Sep 23 17:09:47.449 [notice] Configuration file "/usr/local/etc/tor/torrc" not present, using reasonable defaults. Sep 23 17:09:47.452 [notice] Opening Socks listener on 127.0.0.1:9050 Sep 23 17:09:47.000 [notice] Parsing GEOIP IPv4 file /usr/local/Cellar/tor/0.2.4.23_1/share/tor/geoip. Sep 23 17:09:47.000 [notice] Parsing GEOIP IPv6 file /usr/local/Cellar/tor/0.2.4.23_1/share/tor/geoip6. Sep 23 17:09:48.000 [notice] Bootstrapped 5%: Connecting to directory server. Sep 23 17:09:48.000 [notice] Bootstrapped 10%: Finishing handshake with directory server. Sep 23 17:09:49.000 [notice] Bootstrapped 15%: Establishing an encrypted directory connection. Sep 23 17:09:49.000 [notice] Bootstrapped 20%: Asking for networkstatus consensus. Sep 23 17:09:49.000 [notice] Bootstrapped 25%: Loading networkstatus]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>&nbsp; &nbsp; 抱着学习的态度，简单翻译了一个正在使用的教程，水平有限，如有错误多多包涵，自己也是刚接触到这个东西很多都不是很明白，需要解下来具体实践一下才能清楚，在这里简单贴一下译文，希望能帮助需要的人：</p>
<p></p>
</p>
<pre><code class="language-html">使用Nutch爬取暗网（.onion）
目录：
1.使用Nutch爬取隐藏服务（.onion）
    1.重要提示
	2.介绍
	3.快速入门
	4.安装Tor
	    1.Debian 或者 Ubuntu
		2.Mac OSX
		3.从git克隆源码
	5.Tor日志
	6.Socks代理异常
	    1.Polipo配置
		    1.在Debian或Ubuntu上
			2.在Mac OSX上
		2.代理
		    1.在Debian或Ubuntu上
			2.在Mac OSX上
	7.Nutch爬虫配置
	8.结论
	
	
重要提示：
教程的目的是解释如何爬取隐藏服务而非怎么去使用隐藏服务来爬取。这是在读取和使用TOr网络的时候都应该考虑到的。通过Tor网络来爬取正常的网站无疑会加重Tor的网络负载。但是在Tor中你可以突破网络的封锁，访问到你想访问的网站，但是如果你执意想使用Tor和Nutch来爬取常规网站的话，你肯定走错地方了。
介绍：
Tor是一个虚拟的网络通道，能够保证用户的隐私安全，也能够为软件开发者使用内置的隐私特性创造新的的沟通工具。Tor提供了广泛的应用基础，允许组织机构和个人共享他们的信息而不用考虑隐私的问题。这个教程提供了一个端到端的实例进入到Tor网络使用Nutch爬虫来爬去“.onion”网页
快速入门：
这个教程在Debian和Ubuntu已经完成测试，也可以在Mac OSX上运行。
Tor安装：
从这里下载安装配置代理相关即可，详情百度
https://www.torproject.org/
Debian or Ubuntu：
可以参考这里安装：https://www.torproject.org/docs/debian
也可以使用命令：apt-get install tor 
Mac OSX：
使用命令： brew install tor，之后使用tor可看到下面提示：
lmcgibbn@LMC-032857 /usr/local/tor(master) $ tor
Sep 23 17:09:47.448 [notice] Tor v0.2.4.23 (git-598c61362f1b3d3e) running on Darwin with Libevent 2.0.21-stable and OpenSSL 1.0.1i.
Sep 23 17:09:47.448 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning
Sep 23 17:09:47.449 [notice] Configuration file "/usr/local/etc/tor/torrc" not present, using reasonable defaults.
Sep 23 17:09:47.452 [notice] Opening Socks listener on 127.0.0.1:9050
Sep 23 17:09:47.000 [notice] Parsing GEOIP IPv4 file /usr/local/Cellar/tor/0.2.4.23_1/share/tor/geoip.
Sep 23 17:09:47.000 [notice] Parsing GEOIP IPv6 file /usr/local/Cellar/tor/0.2.4.23_1/share/tor/geoip6.
Sep 23 17:09:48.000 [notice] Bootstrapped 5%: Connecting to directory server.
Sep 23 17:09:48.000 [notice] Bootstrapped 10%: Finishing handshake with directory server.
Sep 23 17:09:49.000 [notice] Bootstrapped 15%: Establishing an encrypted directory connection.
Sep 23 17:09:49.000 [notice] Bootstrapped 20%: Asking for networkstatus consensus.
Sep 23 17:09:49.000 [notice] Bootstrapped 25%: Loading networkstatus consensus.

Sep 23 17:10:12.000 [notice] We now have enough directory information to build circuits.
Sep 23 17:10:12.000 [notice] Bootstrapped 80%: Connecting to the Tor network.
Sep 23 17:10:12.000 [notice] Bootstrapped 90%: Establishing a Tor circuit.
Sep 23 17:10:12.000 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Sep 23 17:10:12.000 [notice] Bootstrapped 100%: Done.
从Git克隆源码：
git clone https://git.torproject.org/git/tor
cd tor
./autogen.sh &amp;&amp; ./configure --disable-asciidoc &amp;&amp; make
src/or/tor
之后可以看到有一个socks代理在localhost：9050端口已经启动
Tor日志：
可以配置Tor的日志文件：
进入：/etc/tor/torrc
修改如下
SafeLogging 0
LogTimeGranularity 1 
socks代理异常：
如果使用Nutch你的爬虫不能够和socks代理进行交互的话，你需要使用http代理然后配置你代理文件使用socks代理，为了能够实现这个功能我们可以选用下述一个代理：
Polipo：
Polipo是一个小型的代理服务器软件, 被设计为一个人或者几个人使用的代理服务器软件，可以作为http代理使用，而且有缓存功能。也可以作为将SOCKS代理转为http代理的工具。默认使用 8123 作为http代理端口。
首页地址：http://www.pps.univ-paris-diderot.fr/~jch/software/polipo/
源码下载地址：http://www.pps.univ-paris-diderot.fr/~jch/software/files/polipo/
在Debian或Ubuntu上：
使用命令：apt-get install polipo
在Mac OSX上：
使用命令：brew install polipo
接下来使用该链接来配置你的Polipo：http://www.pps.univ-paris-diderot.fr/~jch/software/polipo/tor.html
代理Privoxy：
Privoxy是一个具有过滤功能的非缓存的网络代理能够提高隐私性，修改页面数据、HTTP报文头、控制访问、移除地址和其他网络垃圾。Privoxy配置很灵活可以被用户个性化的配置使用。
在Debian或Ubuntu上：
使用命令：apt-get install privoxy
在Mac OSX上：
使用命令：brew install privoxy
配置Privoxy可参考：
http://www.privoxy.org/faq/misc.html#TOR
Nutch爬虫配置：
配置Nutch只追寻域名以“.onion”结束的网址，这个可以通过简单的url过滤的方式实现，可以参考具体的实现教程：https://wiki.apache.org/nutch/NutchTutorial
结论：
该教程演示了如何使用Tor和Nutch来获取暗网的数据。</code></pre>
</p></div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
