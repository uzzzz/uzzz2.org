<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>环境部署 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/huanjingbushu/feed" rel="self" type="application/rss+xml" />
	<link>http://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Sat, 25 Aug 2018 15:50:18 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>环境部署 &#8211; 有组织在!</title>
	<link>http://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Tor的使用和配置</title>
		<link>https://uzzz.org/article/1077.html</link>
				<pubDate>Sat, 25 Aug 2018 15:50:18 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[环境部署]]></category>
		<category><![CDATA[Toc]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/1077.html</guid>
				<description><![CDATA[文章目录 1、Tor是什么？ 2、安装Tor 3、配置Tor 4、Chrome中`SwitchySharp`的配置 5、Python来测试ip 1、Tor是什么？ Tor（The Onion Router，洋葱路由器）是实现匿名通信的自由软件。Tor是第二代洋葱路由的一种实现，用户通过Tor可以在因特网上进行匿名交流。 而对于爬虫爱好者来说，Tor会隐藏你的真实ip地址，导致被爬网站的网管无法封掉你的ip（当然是在对方觉得精确定位你的ip无价值的情况下）安全是相对的，匿名也是相对的。 2、安装Tor tor分为浏览器版本和命令行版本。前者针对普通用户来使用，使用的是【改造办的火狐浏览器】，下载后就可以使用。 而命令行版的就是在电脑或者服务器的开一个服务，监听默认的9050端口。 1.图形界面版下载地址 2.命令行版brew install tor 3、配置Tor 在下面路径/usr/local/etc/tor找到文件torrc.sample，拷贝一份命名为torrc。 常用配置的参数 参数 作用 Socks5Proxy 前置 Socks 代理端口 HTTPProxy 前置 HTTP 代理端口 HTTPSProxy 前置 HTTPS 代理端口 SocksProt 外部程序访问 Tor 的端口 MaxCircuitDirtiness 自动切换 ip 的时间间隔 我的配置 CookieAuthentication 1 # shadowsocks 客户端提供的 HTTP 代理地址为 127.0.0.1:1087 #HTTPProxy 127.0.0.1:1087 #HTTPSProxy 127.0.0.1:1087 Socks5Proxy 127.0.0.1:1086 # 外部程序Tor 的端口 SocksPort 9050 MaxCircuitDirtiness 10 seconds 直接在命令面板执行tor命令输出。注意：不配置shadowsocks的代理地址不会连接成功。 ➜ tor tor Aug 25 23:41:30.380 [notice] Tor 0.3.3.9 (git-45028085ea188baf) running on Darwin with Libevent 2.1.8-stable, OpenSSL 1.0.2o, Zlib 1.2.11, Liblzma N/A, and Libzstd N/A. Aug 25 23:41:30.382 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning Aug 25 23:41:30.382 [notice] Read configuration file "/usr/local/etc/tor/torrc". Aug 25 23:41:30.390 [notice] Scheduler type KISTLite has been enabled. Aug 25 23:41:30.390 [notice] Opening Socks listener on 127.0.0.1:9050 Aug 25 23:41:30.000 [notice] Parsing GEOIP IPv4 file /usr/local/Cellar/tor/0.3.3.9/share/tor/geoip. Aug 25 23:41:30.000 [notice] Parsing GEOIP IPv6 file /usr/local/Cellar/tor/0.3.3.9/share/tor/geoip6. Aug 25 23:41:30.000 [notice] Bootstrapped 0%: Starting Aug 25 23:41:31.000 [notice] Starting with guard context "default" Aug 25 23:41:31.000 [notice] Bootstrapped 80%: Connecting]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<div class="toc">
<h3>文章目录</h3>
<ul>
<ul>
<li><a href="#1Tor_2" rel="nofollow" data-token="de8318e15462ed8976cafe824a4d7f9d">1、Tor是什么？</a></li>
<li><a href="#2Tor_6" rel="nofollow" data-token="6a5791bbf2db695d633647595c3f0acd">2、安装Tor</a></li>
<li><a href="#3Tor_12" rel="nofollow" data-token="6498addbc74aac5d18a767d5e69d684d">3、配置Tor</a></li>
<li><a href="#4ChromeSwitchySharp_59" rel="nofollow" data-token="64f8db99abef26da6ed8f52726f0ce50">4、Chrome中`SwitchySharp`的配置</a></li>
<li><a href="#5Pythonip_63" rel="nofollow" data-token="8893618e9f7fcf18cba131465fb9448f">5、Python来测试ip</a></li>
</ul>
</ul></div>
</p>
<h2><a id="1Tor_2"></a>1、Tor是什么？</h2>
<p>Tor（The Onion Router，洋葱路由器）是实现匿名通信的自由软件。Tor是第二代洋葱路由的一种实现，用户通过Tor可以在因特网上进行匿名交流。<br /> 而对于爬虫爱好者来说，Tor会隐藏你的真实ip地址，导致被爬网站的网管无法封掉你的ip（当然是在对方觉得精确定位你的ip无价值的情况下）安全是相对的，匿名也是相对的。</p>
<h2><a id="2Tor_6"></a>2、安装Tor</h2>
<p>tor分为浏览器版本和命令行版本。前者针对普通用户来使用，使用的是【改造办的火狐浏览器】，下载后就可以使用。<br /> 而命令行版的就是在电脑或者服务器的开一个服务，监听默认的9050端口。<br /> 1.图形界面版<a href="https://www.torproject.org/projects/torbrowser.html.en" rel="nofollow" data-token="5fe3b2a6cadfc744cf0f9c7aec40947b">下载地址</a><br /> 2.命令行版<code>brew install tor</code></p>
<h2><a id="3Tor_12"></a>3、配置Tor</h2>
<p>在下面路径<code>/usr/local/etc/tor</code>找到文件<code>torrc.sample</code>，拷贝一份命名为<code>torrc</code>。</p>
<p>常用配置的参数</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Socks5Proxy</td>
<td>前置 Socks 代理端口</td>
<td></td>
</tr>
<tr>
<td>HTTPProxy</td>
<td>前置 HTTP 代理端口</td>
<td></td>
</tr>
<tr>
<td>HTTPSProxy</td>
<td>前置 HTTPS 代理端口</td>
<td></td>
</tr>
<tr>
<td>SocksProt</td>
<td>外部程序访问 Tor 的端口</td>
<td></td>
</tr>
<tr>
<td>MaxCircuitDirtiness</td>
<td>自动切换 ip 的时间间隔</td>
<td></td>
</tr>
</tbody>
</table>
<p>我的配置</p>
<pre><code>CookieAuthentication 1

# shadowsocks 客户端提供的 HTTP 代理地址为 127.0.0.1:1087
#HTTPProxy 127.0.0.1:1087
#HTTPSProxy 127.0.0.1:1087
Socks5Proxy 127.0.0.1:1086
# 外部程序Tor 的端口
SocksPort 9050
MaxCircuitDirtiness 10 seconds
</code></pre>
<p>直接在命令面板执行<code>tor</code>命令输出。注意：不配置shadowsocks的代理地址不会连接成功。</p>
<pre><code>➜  tor tor
Aug 25 23:41:30.380 [notice] Tor 0.3.3.9 (git-45028085ea188baf) running on Darwin with Libevent 2.1.8-stable, OpenSSL 1.0.2o, Zlib 1.2.11, Liblzma N/A, and Libzstd N/A.
Aug 25 23:41:30.382 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning
Aug 25 23:41:30.382 [notice] Read configuration file "/usr/local/etc/tor/torrc".
Aug 25 23:41:30.390 [notice] Scheduler type KISTLite has been enabled.
Aug 25 23:41:30.390 [notice] Opening Socks listener on 127.0.0.1:9050
Aug 25 23:41:30.000 [notice] Parsing GEOIP IPv4 file /usr/local/Cellar/tor/0.3.3.9/share/tor/geoip.
Aug 25 23:41:30.000 [notice] Parsing GEOIP IPv6 file /usr/local/Cellar/tor/0.3.3.9/share/tor/geoip6.
Aug 25 23:41:30.000 [notice] Bootstrapped 0%: Starting
Aug 25 23:41:31.000 [notice] Starting with guard context "default"
Aug 25 23:41:31.000 [notice] Bootstrapped 80%: Connecting to the Tor network
Aug 25 23:41:32.000 [notice] Bootstrapped 85%: Finishing handshake with first hop
Aug 25 23:41:35.000 [notice] Bootstrapped 90%: Establishing a Tor circuit
Aug 25 23:41:37.000 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Aug 25 23:41:37.000 [notice] Bootstrapped 100%: Done
</code></pre>
<h2><a id="4ChromeSwitchySharp_59"></a>4、Chrome中<code>SwitchySharp</code>的配置</h2>
<p><img src="http://pd74vauin.bkt.clouddn.com/2018-08-25-15352118235154.jpg" alt=""><br /> 访问网址<code>https://check.torproject.org/</code>查看是否配置Tor成功。</p>
<h2><a id="5Pythonip_63"></a>5、Python来测试ip</h2>
<p>我的配置是10s切换依次IP。<br /> 首先下载模块<code>pip install PySocks</code></p>
<pre><code>import socks
import requests
import socket


socks.set_default_proxy(proxy_type=socks.SOCKS5, addr="127.0.0.1", port=9050)
socket.socket = socks.socksocket
resp = requests.get('http://api.ipify.org/').text
print(resp)
</code></pre>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
