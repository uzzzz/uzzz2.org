<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>网络 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/wangluo/feed" rel="self" type="application/rss+xml" />
	<link>https://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Wed, 24 Jul 2019 09:20:50 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>网络 &#8211; 有组织在!</title>
	<link>https://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>kali 之Tor浏览器安装</title>
		<link>https://uzzz.org/article/1249.html</link>
				<pubDate>Wed, 24 Jul 2019 09:20:50 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[darknet]]></category>
		<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1249.html</guid>
				<description><![CDATA[1.安装Tor apt-get install tor 2.去tor官网下载一个适合你的系统的Tor。这里kali安装使用Linux。（需要代理连接） https://www.torproject.org/projects/torbrowser.html.en 3.下载之后直接双击解压出来。 4.点击开始，出现错误。 注：kali 为了安全考虑。会禁止使用r]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>1.安装Tor</p>
<pre>
apt-get install tor</pre>
<p>2.去tor官网下载一个适合你的系统的Tor。这里kali安装使用Linux。（需要代理连接）</p>
<pre>
https://www.torproject.org/projects/torbrowser.html.en</pre>
<p><img alt="" class="has" height="371" src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTE5ODQ1MC8yMDE5MDEvMTE5ODQ1MC0yMDE5MDExNDE0MjA1MDc0Mi0xNTg2NzI5MjgucG5n" width="722"></p>
<p>3.下载之后直接双击解压出来。</p>
<p>4.点击开始，出现错误。</p>
<p><img alt="" class="has" height="300" src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTE5ODQ1MC8yMDE5MDEvMTE5ODQ1MC0yMDE5MDExNDE0MjIxMjEzMi0xNzg4MDc0OTcucG5n" width="426"></p>
<p>注：kali 为了安全考虑。会禁止使用root用户去执行。</p>
<p>解决方案：<br /> 找到解压目录，然后找到 start-tor-browser文件，打开。找到下图位置。然后把0修改1</p>
<p><img alt="" class="has" height="433" src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTE5ODQ1MC8yMDE5MDEvMTE5ODQ1MC0yMDE5MDExNDE0MjU0MjIzOS0xMDczMzY2MjI4LnBuZw" width="667"></p>
<pre>
这里id=0 为root 账号， 然后修改成任意数字不为0即可。</pre>
<p>5.然后双击即可访问。(若还出现错误，看一下目录权限。)</p>
<p><img alt="" class="has" height="511" src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTE5ODQ1MC8yMDE5MDEvMTE5ODQ1MC0yMDE5MDExNDE0MjkzMzQ0MS0xNjIzMzI4Mi5wbmc" width="591"></p>
<p>&nbsp;</p>
<p>安安静静变优秀。 &#8211;极梦C</p>
<p>from：<a href="https://www.cnblogs.com/pangya/p/10266590.html" rel="nofollow" data-token="ce13344c10b9e62be396f0835ea3f12e">https://www.cnblogs.com/pangya/p/10266590.html</a></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>kali使用tor网络进行socks5代理记录</title>
		<link>https://uzzz.org/article/1103.html</link>
				<pubDate>Wed, 26 Jun 2019 08:15:13 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[darknet]]></category>
		<category><![CDATA[系统安全]]></category>
		<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1103.html</guid>
				<description><![CDATA[Linux kali 4.19.0-kali5-amd64 #1 SMP Debian 4.19.37-2kali1 (2019-05-15) x86_64 GNU/Linux &#160; 试过下载linux版本的tor压缩包，但是安装不了 最后 apt-get install tor root@kali:~# apt-get install tor 正在]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>Linux kali 4.19.0-kali5-amd64 #1 SMP Debian 4.19.37-2kali1 (2019-05-15) x86_64 GNU/Linux<br /> &nbsp;</p>
<p>试过下载linux版本的tor压缩包，但是安装不了</p>
<p>最后</p>
<p>apt-get install tor</p>
<pre class="has">
<code>root@kali:~# apt-get install tor
正在读取软件包列表... 完成
正在分析软件包的依赖关系树       
正在读取状态信息... 完成       
将会同时安装下列软件：
  tor-geoipdb torsocks
建议安装：
  mixmaster torbrowser-launcher tor-arm apparmor-utils obfs4proxy
下列【新】软件包将被安装：
  tor tor-geoipdb torsocks
...

正在设置 torsocks (2.3.0-2) ...
正在设置 tor-geoipdb (0.3.5.8-1) ...
正在处理用于 man-db (2.8.5-2) 的触发器 ...
正在处理用于 systemd (241-3) 的触发器 ...
Scanning processes...                                                           
Scanning linux images...                                                        

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.
</code></pre>
<p>然后用代理启动：Shadowsocks-Qt5连接配置好1080socks5端口，</p>
<p>修改proxychains代理端口：</p>
<p>vim /etc/proxychains.conf</p>
<p>修改：socks5 127.0.0.1 1080</p>
<p>&nbsp;</p>
<p>proxychains tor</p>
<pre class="has">
<code>root@kali:~# proxychains tor
ProxyChains-3.1 (http://proxychains.sf.net)
Jun 26 03:09:30.473 [notice] Tor 0.3.5.8 running on Linux with Libevent 2.1.8-stable, OpenSSL 1.1.1b, Zlib 1.2.11, Liblzma 5.2.4, and Libzstd 1.3.8.
Jun 26 03:09:30.473 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning
Jun 26 03:09:30.473 [notice] Read configuration file "/etc/tor/torrc".
Jun 26 03:09:30.477 [notice] Opening Socks listener on 127.0.0.1:9050
Jun 26 03:09:30.477 [notice] Opened Socks listener on 127.0.0.1:9050
Jun 26 03:09:30.000 [notice] Parsing GEOIP IPv4 file /usr/share/tor/geoip.
Jun 26 03:09:30.000 [notice] Parsing GEOIP IPv6 file /usr/share/tor/geoip6.
Jun 26 03:09:30.000 [warn] You are running Tor as root. You don't need to, and you probably shouldn't.
Jun 26 03:09:30.000 [notice] Bootstrapped 0%: Starting
Jun 26 03:09:30.000 [notice] Starting with guard context "default"
Jun 26 03:09:31.000 [notice] Bootstrapped 5%: Connecting to directory server
|S-chain|-&lt;&gt;-127.0.0.1:10800-&lt;&gt;&lt;&gt;-62.210.92.11:9101-&lt;&gt;&lt;&gt;-OK
Jun 26 03:09:31.000 [notice] Bootstrapped 10%: Finishing handshake with directory server
|S-chain|-&lt;&gt;-127.0.0.1:10800-&lt;&gt;&lt;&gt;-204.8.156.142:443-&lt;&gt;&lt;&gt;-OK
...</code></pre>
<p>启动tor，tor会使用9050端口</p>
<p>netstat -an|grep 9050</p>
<p>&nbsp;</p>
<p>proxychains配置：</p>
<p>各配置项用法如下：</p>
<p>dynamic_chain：该配置项能够通过ProxyList中的每个代理运行流量，如果其中一个代理关闭或者没有响应，它能够自动选择ProxyList中的下一个代理；</p>
<p>#strict_chain：改配置为ProxyChains的默认配置，不同于dynamic_chain，也能够通过ProxyList中的每个代理运行流量，但是如果ProxyList中的代理出现故障，不会自动切换到下一个。</p>
<p>#random_chain：该配置项会从ProxyList中随机选择代理IP来运行流量，如果ProxyList中有多个代理IP，在使用proxychains的时候会使用不同的代理访问目标主机，从而使主机端探测流量更加困难。</p>
<p>&nbsp;</p>
<p>再修改proxychains代理端口：</p>
<p>vim /etc/proxychains.conf</p>
<p>修改：</p>
<p>socks5 127.0.0.1 9050</p>
<p>socks5 127.0.0.1 1080</p>
<p>然后：</p>
<p>proxychains firefox<br /> proxychains curl cip.cc</p>
<p>&nbsp;</p>
<p>firefox也可以在设置代理配置里面把127.0.0.1 9050配置上去使用</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>洋葱浏览器下载</title>
		<link>https://uzzz.org/article/848.html</link>
				<pubDate>Fri, 31 May 2019 03:53:30 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[互联网]]></category>
		<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/848.html</guid>
				<description><![CDATA[洋葱浏览器作用：1 访问暗网的入口工具 2 翻墙 链接: https://pan.baidu.com/s/100fNbVg7cXTgVhPasvweXg 提取码: namm （win64本简体中文版） 安装： ps：如果connect无法链接，建议更换网络接入口（如果是移动换联通，电信试试）]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>洋葱浏览器作用：1 访问暗网的入口工具<br /> 2 翻墙</p>
<p>链接: <a href="https://pan.baidu.com/s/100fNbVg7cXTgVhPasvweXg" rel="nofollow" data-token="b2d7336aae4f518a62ccf1f743b002c5">https://pan.baidu.com/s/100fNbVg7cXTgVhPasvweXg</a> 提取码: namm<br /> （win64本简体中文版）<br /> 安装：<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190531114552489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTM5MDg5NDQ=,size_16,color_FFFFFF,t_70" alt="1"><br /> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190531114624162.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTM5MDg5NDQ=,size_16,color_FFFFFF,t_70" alt="2"></p>
<p>ps：如果connect无法链接，建议更换网络接入口（如果是移动换联通，电信试试）</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>Win/Mac系统下，软件使用tor的多层socks5代理网络</title>
		<link>https://uzzz.org/article/1174.html</link>
				<pubDate>Wed, 29 May 2019 05:44:56 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[Deep Learning]]></category>
		<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1174.html</guid>
				<description><![CDATA[不论win还是MAC，首先要打开tor洋葱头浏览器， 至于怎么安装运行起tor我就不多说了，使用代理或者vpn都可以。 tor启动后，默认配置了另一个9150端口的Socks5服务，其他软件接入这个端口就可以使用tor的网络： win系统下，使用SocksCap64，先把tor的代理添加进去： 然后把要使用tor代理的程序拉进SocksCap64工具里： 点]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>不论win还是MAC，首先要打开tor洋葱头浏览器，<br /> 至于怎么安装运行起tor我就不多说了，使用代理或者vpn都可以。<br /> tor启动后，默认配置了另一个9150端口的Socks5服务，其他软件接入这个端口就可以使用tor的网络：<br /><img alt="" class="has" height="485" src="https://www.t00ls.net/attachments/contributeupload/19051104060c9104e199ff9396.png" width="738"></p>
<p>win系统下，使用SocksCap64，先把tor的代理添加进去：<br /><img alt="" class="has" height="171" src="https://www.t00ls.net/attachments/contributeupload/1905110408ac8dcc15d8338ec3.jpg" width="558"></p>
<p>然后把要使用tor代理的程序拉进SocksCap64工具里：<br /><img alt="" class="has" height="300" src="https://www.t00ls.net/attachments/contributeupload/19051104071aee594197951a45.png" width="704"></p>
<p>点击SocksCap64工具里的程序图标启动程序，这样程序就会自动使用tor的代理网络，<br /> tor断线的时候，程序会断线，<br /> tor不须用特殊设置，软件运行中IP会不定时每隔几分钟自动更换。</p>
<p>MAC系统下，使用Proxifier，可能很多人都用过。<br /> 也是先把tor的代理添加进去：<br /><img alt="" class="has" height="487" src="https://www.t00ls.net/attachments/contributeupload/190511041736e8ddd67ac721ae.png" width="466"></p>
<p><img alt="" class="has" height="379" src="https://www.t00ls.net/attachments/contributeupload/1905110417d8a764574e1d5f00.png" width="549"></p>
<p>添加代理规则：<br /><img alt="" class="has" height="456" src="https://www.t00ls.net/attachments/contributeupload/1905110417f71794c39347a10c.png" width="839"></p>
<p> 测试效果：<br /><img alt="" class="has" height="677" src="https://www.t00ls.net/attachments/contributeupload/190511041721babc75c00f965d.png" width="1003"></p>
<p><img alt="" class="has" height="180" src="https://www.t00ls.net/attachments/contributeupload/190511041780f439035d030b35.png" width="380"></p>
<p><img alt="" class="has" height="807" src="https://www.t00ls.net/attachments/contributeupload/19051104179ca923c8add9db71.png" width="788"><br /> &nbsp;</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>在IOT时代如何防御黑客和暗网</title>
		<link>https://uzzz.org/article/830.html</link>
				<pubDate>Sat, 18 May 2019 02:42:48 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[网络]]></category>
		<category><![CDATA[网络安全]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/830.html</guid>
				<description><![CDATA[&#160; &#160; &#160; &#160;在21世纪的前20年中，物联网快速发展，给人们的生活带来了质的飞跃；网络对于国内民众来说，已经是生活中必不可少的一部分；人们无论走到哪里都会离不开一部智能手机+Wifi网络信号；无论走到哪里，只要有网络信号，你就可以随意刷个人朋友圈、狂购物网店、玩抖音/快手。 &#160; &#160; &#160; &]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>&nbsp; &nbsp; &nbsp; &nbsp;在21世纪的前20年中，物联网快速发展，给人们的生活带来了质的飞跃；网络对于国内民众来说，已经是生活中必不可少的一部分；人们无论走到哪里都会离不开一部智能手机+Wifi网络信号；无论走到哪里，只要有网络信号，你就可以随意刷个人朋友圈、狂购物网店、玩抖音/快手。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;在物联网极大地丰富着你的生活的同时，它也在不断收取你的个人信息；在你不断地点击一个个网页的过程中，在你不断地为满足服务需求不得已许可某些权限的那一刻，在你开心地上传个人娱乐游玩的图片&amp;视频的时候，物联网正在悄悄地暴漏着你的一切，让你完全裸露在大数据的搜索中，你不再具有自己的隐私空间，你逐渐被玻璃透明化。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 任何都是具有两面性的，物联网在极大丰富你的生活的同时，也在不断挑战你的隐私底线；因此，我们在享受物联网带来的欢乐的时候，同时也要加强自我的网路安全意识，学会在网络中保护自己的隐私安全；为了让大家了解正确的网络安全知识，并加以学习利用，特在此与大家分享一份&#8211;安全客的网络安全期刊《暗网下的信息泄露》&amp;《常用软件的后门风险控制》&amp;《人是安全的尺度》&amp;《重新定义智能时代的IoT安全》。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;由于，这期期刊内容较多(每本都是200多页)，只能给出首页，供大家试读，欲阅读全部内容请看附件链接。</p>
<p><img alt="" class="has" height="1200" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190518101632868.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTIxMzY0OA==,size_16,color_FFFFFF,t_70" width="1200"><img alt="" class="has" height="848" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190518101631939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTIxMzY0OA==,size_16,color_FFFFFF,t_70" width="599"><img alt="" class="has" height="1200" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190518101632104.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTIxMzY0OA==,size_16,color_FFFFFF,t_70" width="1200"><img alt="" class="has" height="1200" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190518101631823.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTIxMzY0OA==,size_16,color_FFFFFF,t_70" width="1000"></p>
<p><strong>注：扫码关注公众号内回复“IoT安全”，即可获得期刊下载链接。</strong></p>
<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img alt="" class="has" height="430" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190429110341167.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTIxMzY0OA==,size_16,color_FFFFFF,t_70" width="430"></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>tor配置</title>
		<link>https://uzzz.org/article/1146.html</link>
				<pubDate>Sun, 30 Dec 2018 15:27:43 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[darknet]]></category>
		<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1146.html</guid>
				<description><![CDATA[运行tor browser 配置：首先我们知道国内是无法直连的，所以我们要选择configure来配置代理。然后在你的网络提供商是否对Tor网络进行了封锁或审查这里选yes。选了yes就要配置网桥，这里我们可以使用他提供的一些集成网桥，但是速度比较慢，自己去试试速度然后选个合适的。 但是我们想要更快更稳定的话，我们可以访问访问 https://bridges]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-tomorrow-night">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>运行tor browser<br /> 配置：首先我们知道国内是无法直连的，所以我们要选择configure来配置代理。然后在你的网络提供商是否对Tor网络进行了封锁或审查这里选yes。选了yes就要配置网桥，这里我们可以使用他提供的一些集成网桥，但是速度比较慢，自己去试试速度然后选个合适的。<br /> 但是我们想要更快更稳定的话，我们可以访问访问 <a href="https://bridges.torproject.org/bridges?transport=obfs4" rel="nofollow" data-token="3996aa72c4bb88eca6c132069eeb29d2">https://bridges.torproject.org/bridges?transport=obfs4</a> 获取obfs4网桥 。然后在 <a href="https://link.jianshu.com/?t=https://atlas.torproject.org/#search/" rel="nofollow" data-token="c7d08eac767d8433fc69565852d8ef3e">https://link.jianshu.com/?t=https://atlas.torproject.org/#search/</a> 网址后面加入刚才获取网桥中间的四十位字母数字来测试连接速度。速度足够快的我们保留下来几条，选自定义网桥，然后逐条填在里面。<br /> 其实这里配置已经可以使用了，但是在下一步如果我们有vpn的话，就直接选择使用本地代理，然后如果使用的是ss的话，那就直接选sock5协议，地址填127.0.0.1，端口填1080即可。在这里为什么我们还要选择vpn呢？<br /> 因为GFW的原因，很多的网桥都失效了，我们很难找到能用的网桥，就算找到了，速度也非常慢，所以如果有vpn的话，我们就可以直接绕过ISP对Tor的审查，并且速度也会非常快。接着我们选择connect，稍微等几十秒配置成功，就可以使用了。</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
		<item>
		<title>真正的匿名者，TOR 的原理</title>
		<link>https://uzzz.org/article/1165.html</link>
				<pubDate>Sat, 29 Dec 2018 13:23:40 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1165.html</guid>
				<description><![CDATA[真正的匿名者，TOR 的原理（1 ） &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#8212;-到底什么才是匿名？ 　　先说一下我为什么又开了一个系列：美国司法局（背后八成是NSA ）对TOR下手了「0 」。TOR 有难，我怎能袖手旁]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>真正的匿名者，TOR 的原理（1 ）</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#8212;-到底什么才是匿名？</p>
<p> 　　先说一下我为什么又开了一个系列：美国司法局（背后八成是NSA ）对TOR下手了「0 」。TOR 有难，我怎能袖手旁观？是有坏人在使用TOR ，但TOR 所保护的，更多是好人！像天朝这种a发条微博就&#8221; 分裂国家&#8221; ，转个贴就被&#8221; 寻衅滋事&#8221; 的狗屁国家，TOR 绝对是每个有志于改变这糟糕的现状的翻墙党的必备装备！在这一系列里，我就仔细聊聊究竟TOR 是如何保护着匿名和隐私保护这两大基本人权的吧（包括TOR Browser 的特别之处）。<br /> 　　我一直是大名鼎鼎的TOR 「1 」（The Onion Router，洋葱路由）的用户之一，也写了一堆关于TOR 的科普「2 」，但一直都没有具体的分析过TOR 的原理，只是一直在说只有TOR 和I2P 「3 」才是真正的匿名软件。鉴于I2P 的用户体验实在是很糟糕（那速度简直不是人能忍受的），TOR 可以说是安全发言的唯一选择了。<br /> 　　我知道，很多翻墙党都只注重一个速度，其他几乎不考虑。我也可以理解，像youtube 上的高清视频这种流媒体对于网络带宽的要求是很高的，而TOR 根本就满足不了这种要求（这是由TOR 的原理所决定的）。但除此之外，TOR 完全能够满足诸位的日常需要。对于前置代理+TOR的情况，速度主要由前置代理决定，前置代理本身连接速度不慢的话，TOR 速度也不会慢！<br /> 　　特别是对于一些和我一样喜欢黑共匪政府的同道们来说，如果你只考虑一个速度，那么，你想死的有多快？</p>
<p> 　　关于高清视频，也有解决方案：要么装上两个浏览器，一个走TOR 环路，一个随便找个速度快的一重代理，发言时用走TOR 环路的浏览器，看视频时用另一个浏览器，说实在的这一点也不麻烦啊；要么借助privoxy 的帮助，对于不同网站设置不同代理，具体看这里「4 」，也可以解决问题。　　我想这下应该没有理由拒绝TOR 了！　　在分析TOR 原理之前，先搞清楚一个概念：匿名。<br /> 　　究竟怎样才叫匿名呢？<br /> 　　有人说，我注册账号时取了假名字，其他人不知道这个账号是我的，我也没有透露任何能关联到我的真实身份的信息，我是匿名的。<br /> 　　错！这可不叫匿名，这叫做假名，对于假名用户，技术上很容易就能进行追踪。不过假名其实是匿名的基础，假名是匿名的社会工程学部分「5 」，还有技术部分呢！</p>
<p> 　　有人说，我挂着代理，隐藏了自己的真实IP，这就是匿名。</p>
<p> 　　错！绝大部分翻墙党都是挂着一重代理来这的，有一些甚至只是改了hosts就来了，完全没有匿名性。一重代理只能说是一定程度上提升了匿名性而已。</p>
<p> 　　那么怎样才叫（技术上的）匿名呢？</p>
<p> 　　先构建一个模型（大部分翻墙党都符合这个模型）：来到这里要从本地PC开始，经过交换机（平时很多人说的&#8221; 家庭路由器&#8221; 真正的名字叫交换机，真正的路由器不是个人能买得起的（PS：共匪权贵除外）），网关（如果是局域网），N 个路由器，GFW ，代理服务器，然后又是N 个路由器，最终到达google服务器。如果是改hosts 来的，那么就没有代理服务器这一步了。</p>
<p> 　　这其中只要数据是被强加密的，那些交换机路由器网关以及GFW 就都不是问题。当然，在代理服务器之前的交换机网关路由器以及GFW 是知道你的真实IP的（交换机还知道你的真实MAC 地址呢），但在强加密的情况下，他们不知道你干了些什么（&#8221; 不知道你具体干了什么&#8221; 不等于&#8221; 不知道你在翻墙&#8221; ，ISP 和GFW想要知道你在翻墙不是一件难事「6 」）；</p>
<p> 　　代理服务器负责处理数据包，对于诸位而言，他是服务器；对于google服务器而言，他是客户端。又当服务器又当客户端，这就是代理服务器的特别之处。代理服务器之后的路由器以及最终的google服务器看到的都是代理服务器的IP了，用户的真实IP就被隐藏起来了，所以说&#8221; 有一定的匿名性。&#8221;但问题在于代理服务器知道你的真实IP和你干了些什么（HTTP），所以一旦代理服务器出事，后果不堪设想，而一个合格的匿名系统绝对不能完全依赖于某一环节的安全性，不然这一环节出问题就意味着匿名的失效，没有人敢用这么脆<br /> 弱的系统保护自己的！而且说实在的流量分析也不是什么新的领域，还有随着云计算的发展而越来<br /> 越有效的数据挖掘（关联分析），一重代理完全无法应对这两者（事实上单纯的TOR 也无法应对数据挖掘，所以才有了TOR browser ，而且仅仅使用TOR 是无法规避很多风险的，这点TOR 官网上也有说明「7 」）。<br /> 　　说到这里，有人又会这么想了：一重代理做不到匿名，那么自己想办法组合二重代理甚至更多重代理不是可以解决问题了吗？要知道TOR 不就是个三重代理吗？「8 」喂喂，事情没有这么简单好吧？首先，自己想办法组合的多重代理未必真的是多重代理：这话听起来很奇怪，但是请想象一下，假设代理服务器P1和P2组合成了代理链条，然后P1知道了你的真实IP和你干了什么（HTTP）或者你去了哪里（HTTPS ），P2也有可能知道你的真实IP的（这取决于代理服务器的设置，有些代理服务器在和其他代理服务器通信时是不会装成客户端的），那么实际上不是还是一重代理吗？<br /> 　　其次，就算P2不知道你的真实IP，它还是会知道你干了什么的，假设有个攻击者控制了P2，那么他就会进行逆向追踪以找出你的真实身份，然后就不用我说了：脆弱的P1保护不了你的！如果是P1被黑了那么情况就更糟糕了！</p>
<p> 　　那么我们就应该可以想到一些关键点了：</p>
<p> 　　首先，对于一个匿名系统，它的各个环节除了必要的信息之外，其他什么都不该知道，这样当某一环节被攻破时，用户匿名失效的可能性最小；&nbsp;<br /> 　　其次，应该让用户通信时跨越适当数量的跳板（hop ，或者叫中继节点），而且最好是不同国家的hop ，这样流量分析就难以进行，逆向追踪的难度也大大增加了，这些hop 也只是知道他们正常工作必须知道的信息而已，除此之外什么也不知道！例如有三个hop ：h1，h2，h3. 用户首先连到h1，然后h1连接到h2， h2连接到h3，h3最终连接到目标网站服务器上。在这一过程中，h1知道用户的真实IP，h2知道它从h1接收用户数据以及要把数据送到h3，h3知道用户想干什么（HTTP）或者用户要去哪里（HTTPS ），除此之外这些hop 不应该知道其他任何有关用户的信息，这样的话即使三个hop 中有一个是攻击者的蜜罐，用户身份也不会暴露（不过如果三个hop 都是蜜罐，用户的身份还是会暴露的，但当三个hop分别位于三个不同的国家时，这种可能性很小）还有就是&#8221; 藏叶于林&#8221; 了，如果前面提到的三个hop 是某人专用的，那么一旦某个hop 被攻破（尤其是h1或h3），那么那人被逆向追踪的可能性非常大；但如果有很多人同时使用那三个hop ，那么老大哥想要找出其中某个具体用户就很困难了。同样道理，每次连接建立时都应该随机选择hop ，这样老大哥都不知道该如何进行有效的监视（TOR 的策略是每10分钟就重新随机选择三个hop 「9 」，每次启动TOR 时也是随机选择hop 的）<br /> 　　最后就是中间人攻击的问题了。为了防止老大哥进行中间人攻击破坏用户匿名，TOR 有着自己的一套基于数字证书的身份认证机制「10」，每个hop 都有一个自签发的数字证书，TOR 客户端在连接建立时会进行严格的身份认证。</p>
<p> 　　补充说明：这套证书系统是TOR 独有的，跟操作系统和浏览器的证书系统完全没有关联，所以GFW 即使利用流氓证书CNNIC ROOT进行中间人攻击也无法影响到TOR ，但TOR 出口节点到目标网站服务器这段路还是需要防备中间人攻击的，所以请大家还是把这些天朝证书轰走吧「11」</p>
<p> 　　大家应该能看出来了：TOR 对抗的是某一国家的老大哥而不是全球性的老大哥（幸好现在也根本没有全球性的老大哥，不过说实在的NSA 有这个趋势），而且TOR 用户越多，TOR 的匿名程度就越高。</p>
<p> 　　相对于TOR 之前的匿名系统，TOR 有三点最为特别：<br /> 1 ，一个TOR 环路可以被很多人同时使用，说的具体一点，hop 与hop 之间的每个TLS 连接都包括了很多不同用户的TCP 数据流；<br /> 2 ，TOR 客户端随机选择了入口节点，入口节点随机选择了中间节点，中间节点又随机选择了出口节点。对，是由精心设计过的算法保证随机选择的，没有规律可循（不过后来发现这算法造成了很搞笑的情景：某一条环路上的三个hop 有很多用户，都塞车了，但另一条环路上的三个hop 用户数少得可怜，所以后来又基于hop 的用户数对算法进行了改进「12」）3 ，TOR 拥有独立于操作系统和浏览器的严格的基于数字证书的身份认证机制。这一点很重要，如果TOR 的身份认证机制和特定的操作系统或浏览器有了关联，那就意味着用户将不得不为了使用TOR 而更换浏览器或操作系统。</p>
<p> 　　TOR 是面向普通人的低延迟匿名系统，这就对TOR 提出了便携性和易用性的额外要求，TOR 必须在保证高匿名的基础上做到用户友好和适合交互应用。再加上前面所说的一大堆匿名系统的要求和TOR 的特性，不难得出这样的结论：TOR绝对不仅仅是个三重代理！</p>
<p> 　　那么这个可爱的洋葱头究竟有着什么样的结构呢？</p>
<p> 　　真正的匿名者，TOR 的原理（2 ）</p>
<p> 　　————The Green Onions，Go！</p>
<p> 　　话说上次「1 」咱们聊了聊到底什么才是匿名以及匿名系统需要做到什么，这回就一起来看看这个可爱的洋葱头究竟是怎样保护　　我们的吧！　　TOR 是The Onion Router的缩写，直译就是洋葱路由。那为什么会叫「洋葱路由」呢？&nbsp;<br /> 　　TOR 官网「2 」上简单介绍了TOR 的原理：TOR 是一个三重代理，TOR 客户端先与目录服务器通信获得全球活动中继节点信息，然后再随机选择三个节点组成circuit （电路），用户流量跳跃这三个节点（hop）之后最终到达目标网站服务器，每隔10 分钟左右就会再重新选择三个节点以规避流量分析和蜜罐节点。<br /> 　　看到这里，有些人就会开始这么说了：「看起来除了每隔10分钟左右变换节点之外，其他与任意三个代理组成的三重代理也没什么区别啊。」<br /> 　　真的是这样的吗？<br /> 　　TOR 的具体工作机制可远远没有官网上介绍的简单：当用户启动TOR 后，TOR客户端就会在本机PC上运行一个onion proxy 「3 」，同时开始监听本机的9150端口（Tor Browser 里的Tor 监听端口），所有经过这一端口的流量都会在经过onion proxy 的处理之后进入TOR 电路中。关于端口有必要做一下说明：对于服务器，只要服务器开机，端口就一直存在；但对于本机，只有相应的应用程序试图与远程服务器通过特定端口通信时，端口才会出现，一旦通信结束端口就会立即消失。也就是说，这个9150端口只有在某一应用程序（例如被设置过的浏览器，例如Tor ）试图通过它与远程主机通信时才会出现，并不是个物理存在。<br /> 　　不过这会儿还不能传输用户数据呢，在本机上运行onion proxy 只是第一步而已，然后当然是与存有全球中继节点信息的目录服务器取得联系了。一开始这一步是明文HTTP通信，有着增加流量指纹的风险，后来Tor 开发者进行了改进，让Tor 客户端第一步先与入口节点通信（当然第一次连接是做不到的，以后的连接都可以这么做了）再与目录服务器通信更新节点信息，全过程都是TLS 「4 」的，这样做不仅保证了安全，还避免了单独与目录服务器建立一次性的TLS 连接，提高了效率（因为建立TLS 连接是很消耗资源的，生成随机参数进行密钥交换强加密传输数据都是要进行大量运算的，如果只是为了短暂的一次性连接，那么就有些太浪费了）：当完成更新中继节点信息之后，客户端不必切断连接，而是可以直接把原来的TLS 连接「拔出来」再继续组成电路（意思是原来的TLS 连接的参数还可以继续使用，而不用又重新计算生成）「3 」得到中继节点信息之后，电路构造过程就正式开始了！<br /> 对了，诸位猜一下，Tor 电路会是怎样的呢？会怎样进行构造呢？<br /> 　　「既然是个三重代理……要么是这样一个过程：onion proxy 先将数据加密传送到入口节点，然后入口节点又加密传送到中间节点，中间节点又加密传输到出口节点，在HTTP的情况下这三个节点都能看到明文（一般的代理就是这样的）？」我说，你不觉得这样非常不安全吗？要是其中有哪一个节点被攻破或者是蜜罐，那么你可就呵呵了！还有就是如果不进行特别设置的话，后面两个代理也是知道用户数据流的真实来源的（真实IP），也就是说安全性还是相当于一重代理！那么，Tor 究竟是怎么做的呢？<br /> 　「哪个节点都不可信，像洋葱一样」这就是Tor 环路的核心思想所在：和普通的TCP 流不同（Tor 工作在TCP 流之上），Tor 协议把通信数据打包为了一个个特殊的cell：一开始建立Tor 电路时，本机上的onion proxy 向入口节点发送create cell 进行TLS　　handshake ，这一过程的身份认证过程是基于数字证书的：Tor 有着自己的一套数字证书系统，每一个洋葱路由（就是节点）都有一个用于签发证书的身份密钥和用于解密用户的电路建立请求以及协商出一个用于后续通信的（使用时间）短暂的密钥。当节点之间进行通信时，这个特制的TLS 协议还会建立短期连接密钥，而且这一密钥会周期性的独立发生变化以最大限度降低密钥泄露带来的风险<br /> 　　那么接下来又会发生什么呢？ Tor 电路默认由客户端和三个节点组成，那么我们就来看看在这种情况下Tor电路究竟是怎样建立的吧：</p>
<p> 　　首先是客户端（onion proxy ）发送create cell 与入口节点完成handshake，然后客户端向入口节点发送TLS加密数据relaycell……「里面是用户数据吧！发送到入口节点之后，入口节点就进行解密，然后再重新打包并与中间节点建立连接……」「当然不是了！这样的话，入口节点什么都知道了，哪里还有安全性呢？Tor是这么做的：客户端最先发过去的relay cell 1是入口节点与中间节点建立TLS 连接时所需要的参数，接着发过去的relaycell 2是中间节点与出口节点建立TLS 连接时所需要的参数，接下来是只有目标网站和对应端口信息的relay cell 3，在返回表明已成功建立环路的relay cell 4之后才会真正开始发送包含用户信息的relay cell 5.这一过程中relay cell 1被一重加密，到了入口节点之后就被解密，再用来与中间节点完成握手；relay cell 2被两重加密，到了入口节点时第一重加密解除，到了中间节点时第二重加密解除，中间节点可以看到明文，用来与出口节点完成握手； relay cell 3被三重加密，只有出口节点能看到明文，被用来与目标网站建立连接。同样relay cell 5也是三重加密的，只有出口节点能看到明文（HTTP）。「就像洋葱一样」，对，用户数据就像洋葱一样，被层层包裹着，只有到了终点包裹才会解开。在这一过程中，只有入口节点知道用户的真实IP地址，出口节点知道用户的目的地和传输内容（HTTP），Tor 电路的cell里没有其他任何关于用户真实身份的信息（这里不考虑cookie和flash 插件等应用层协议和程序带来的隐私<br /> 问题（这些也不是Tor 本身能够左右的，Tor 使用的是在传输层之上应用层之下的SOCKS 代理，无法操纵修改上层协议，但这也使得Tor 能成为很多软件的代理，不被应用层协议　　们所左右），只针对于传输过程而言）「似乎有哪里不对呢：如果说这几重加密都是预设的参数，那么一是做不到完全随机了（一定要人为去划分入口节点中间节点出口节点才能做到事先内置相应的解密密钥），二是一旦密钥泄露后果就会相当严重的。但如果不是预设参数而是每次连接时都随机协商，那么又该怎么做呢？」「你说得没错，Tor 电路中的节点们并没有预设参数，而是采取了「半握手」的方法：在diffie-hellman算法「5 」的帮助之下，onion proxy 和中间节点通过入口节点的中介交换了参数，然后就能各自算出私钥用于后续通信而不用担心有人监听，入口节点虽然知道这两个参数，但也根本没办法算出私钥来，这是diffie-hellman算法设计时所保证的」。同理也可以与出口节点安全通信，客户端最里面一层的加密只有出口节点能够解开，入口节点和中间节点都看不到只有出口节点才能看到的内容。<br /> 　　那么，Tor 在建立电路时又是怎么选择节点的呢？<br /> 　　借助算法随机选择，没错，但「一次性随机选择三个节点」？错了！<br /> 　　Tor 客户端先随机选择一个入口节点，然后入口节点再随机选择一个中间节点，中间节点又随机选择一个出口节点，这样来最大限度实现随机建立电路。而且Tor 还有一个更特别的地方：很多用户的流量可以被整合到一个TLS 连接里同时传输！看起来就像一个用户一样！「3 」这样一来，匿名程度更高了，但很多时候又会带来一件麻烦事：很多用户的来自同一个IP的大量流量都同时指向同一个网站（例如google），看上去非常像是DoS （拒绝服务）攻击，此时就会触发网站的防御机制，网站会要求用户输入验证码，非常烦人。</p>
<p> 　　「可爱的洋葱头很努力啊。」现在谁还会说Tor 只是一个三重代理呢？</p>
<p> 　　真正的匿名者，TOR 的原理（3 ）</p>
<p> 　　——deep web的秘密！</p>
<p> 　　话说咱们英勇的Tor 团队设计Tor 出来可不单单是为了帮PC用户们保持匿名的：听说过deep web「1 」吗？只有使用Tor 来到这里的人才能看到deep web的真面目，这里面有军火商，有毒品交易，有盗版书籍和游戏，还有其他在国际互联网上找不到的惊喜等着你！所有的普通网站，访问者都知道网站的真实IP地址，但deep web却不是这样！</p>
<p> 　　为什么只有通过Tor 才能来到deep web？为什么deep web的服务器真实IP无法被访问者得知呢？</p>
<p> 　　咱们还是先从用户访问网站的一般流程看起吧：首先，用户在浏览器地址栏中输入URL ，然后回车；紧接着域名解析「2 」就开始了，浏览器通过查询从DNS服务器得知目标网站的真实IP地址，然后开始发起连接……</p>
<p> 　　打住！既然deep web的服务器的真实IP地址是被隐藏的，那么有一点马上就可以被确认了：这个世界上所有的DNS 服务器都不知道deep web服务器（又名hiddenservice ）对应域名的真实IP！因为只要有一台DNS 服务器存储了真实IP，那么hidden service就暴露啦！（小声：所以诸位也就不要想着从国际互联网直接访问hidden service啦）　　&#8221; 如果是这样，那么用户又该怎样和hidden service建立连接呢？对了，说起来deep web中网站的域名都蛮奇怪的，例如说这个<a href="http://www.viidii.info/?http://allyour4nert7pkh______onion/wiki/index______php&amp;z" rel="nofollow" data-token="95c504cead8bc3ebd6f31d54051da2ef">http://allyour4nert7pkh.onion/wiki/index.php</a>？ title=Main_Page ；我知道。onion 是顶级域名，代表着这网站在deep web中，无法从明网中直接访问；但前面那一大堆又是什么？&#8221;　　这要从hidden service的建立开始说了。在deep web里有一个类似于DNS 服务器的存在：数据库。客户端要想访问deep web中的网站，首先要与数据库建立连接从而取得相关信息，那么又是什么样的信息呢？&nbsp;<br /> 　　要想在deep web里建立自己的网站，首先要随机选择几个&#8221; 介绍点&#8221; （introductionpoint ），与之建立电路（也就是说在hidden service和介绍点之间有三个中继节点作为跳板），介绍点不知道hidden service的真实IP；然后hidden service组合起一个描述符，里面包括了公钥和各个介绍点的摘要，然后用私钥签名，最后把描述符上传到前面提到的数据库里（准确叫法是分布式散列表）。这样网站就建立好了！对了，这个网站的域名就是：一个从公钥派生出的16位字符。onion（所以deep web里的网站的网址看起来才那么奇怪）。网址和描述符是一一对应的。</p>
<p> 　　接下来，我们好奇的客户端就上场了：客户端从某个渠道得知了某个hiddenservice 的网址，想要去看一下。那么他该怎么做呢？&nbsp;<br /> 　　首先，他得开启Tor ，还要设置好浏览器代理，接着输入网址，回车。<br /> 　　然后，他通过Tor 电路与数据库建立连接（这里要注意一下，因为始终都不会访问明网，所以第三个跳板节点在这里就是数据库了，接下来建立连接时第三个跳板节点会变成相应的节点），开始查询（对比是否存在和目标网站网址对应的描述符），同时随机选择一个节点作为&#8221; 会合点&#8221; （rendezvous point）。<br /> 　　OK，查到了！那么，接下来就产生一个随机的一次性rendezvous cookie 作为一次性的secret吧！然后用刚刚得知的公钥加密cookie和会合点IP，再把密文发送给介绍点！　　&#8221; 喂喂，那个会合点是干嘛用的？&#8221;&#8221;不要急吗，等会儿就讲到了！&#8221;<br /> 　　介绍点接到数据之后，就传回给hidden service（当然始终是通过Tor 电路间接传递的）。hidden service用私钥解密一看：哎，有用户来了啊，赶快招待！然后就急忙与会合点建立连接（当然也是经过三次跳板中转的完整Tor 电路），同时把之前的cookie（也就是一次性secret）发送回去。<br /> 　　客户端接到数据，解密一看：哈哈，就是之前的那个cookie，这就意味着我和hidden service之间已经成功建立连接了！那么，现在正式开始通信！　　最终在客户端和hidden service之间有六个中继节点：客户端入口节点，客户端中间节点，会合点（原先出口节点的位置）　　，hidden service出口节点，hidden service中间节点，hidden service入口节点。　　从头到尾客户端和hidden service的通信都是被TLS 强加密的（尽管浏览器不这么认为，在访问deep web网站的时候浏览器显示客户端和网站之间的连接是未加密的，但实际上刚好相反），Tor 电路本身的证书认证机制「3 」也防止了中间人攻击「4 」。这样说来，hidden service本身再去搞一个证书支持TLS 连接（让浏览器认为建立了加密连接）其实没有意义了。</p>
<p>　　&#8221; 那么就此为止了吗？&#8221;&#8221;当然没有，要知道NSA 和FBI 还有GCHQ们看Tor 不爽早就不是一天两天了，下次一起看看英勇的Tor 团队们是怎样对付各种攻击的吧！对了，顺便贴一下流程图，来源是「5 」，原图是英文，不过翻墙党看懂应该没有问题：）&#8221;</p>
<p><img alt="" class="has" src="https://uzshare.com/_p?https://img-blog.csdn.net/20170420171256419?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVfbGlmZQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>TOR的原理————Tor的运行</title>
		<link>https://uzzz.org/article/1130.html</link>
				<pubDate>Sat, 29 Dec 2018 13:23:15 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1130.html</guid>
				<description><![CDATA[TOR是TheOnionRouter的缩写，直译就是洋葱路由。 &#160; &#160; &#160; &#160;TOR官网上简单介绍了TOR的原理：TOR是一个三重代理，TOR客户端先与目录服务器通信获得全球活动中继节点信息，然后再随机选择三个节点组成 circuit（电路），用户流量跳跃这三个节点（hop）之后最终到达目标网站服务器，每隔10分钟左右]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>TOR是TheOnionRouter的缩写，直译就是洋葱路由。<br /> &nbsp; &nbsp; &nbsp; &nbsp;TOR官网上简单介绍了TOR的原理：TOR是一个三重代理，TOR客户端先与目录服务器通信获得全球活动中继节点信息，然后再随机选择三个节点组成 circuit（电路），用户流量跳跃这三个节点（hop）之后最终到达目标网站服务器，每隔10分钟左右就会再重新选择三个节点以规避流量分析和蜜罐节 点。<br /> 看到这里，有些人就会开始这么说了：看起来除了每隔10分钟左右变换节点之外，其他与任意三个代理组成的三重代理也没什么区别啊。<br /> &nbsp; &nbsp; &nbsp; &nbsp;<strong>真的是这样的吗？</strong><br /> &nbsp; &nbsp; &nbsp; &nbsp;TOR的具体工作机制可远远没有官网上介绍的简单：当用户启动TOR后，TOR客户端就会在本机PC上运行一个onionproxy，同时开始监听本机 的9150端口（TorBrowser里的Tor监听端口），所有经过这一端口的流量都会在经过onionproxy的处理之后进入TOR电路中。关于端 口有必要做一下说明：对于服务器，只要服务器开机，端口就一直存在；但对于本机，只有相应的应用程序试图与远程服务器通过特定端口通信时，端口才会出现， 一旦通信结束端口就会立即消失。也就是说，这个9150端口只有在某一应用程序（例如被设置过的浏览器，例如Tor）试图通过它与远程主机通信时才会出 现，并不是个物理存在。<br /> &nbsp; &nbsp; &nbsp; &nbsp;不过这会儿还不能传输用户数据呢，在本机上运行onionproxy只是第一步而已，然后当然是与存有全球中继节点信息的目录服务器取得联系了。一开始 这一步是明文HTTP通信，有着增加流量指纹的风险，后来Tor开发者进行了改进，让Tor客户端第一步先与入口节点通信（当然第一次连接是做不到的，以 后的连接都可以这么做了）再与目录服务器通信更新节点信息，全过程都是TLS的，这样做不仅保证了安全，还避免了单独与目录服务器建立一次性的 TLS连接，提高了效率（因为建立TLS连接是很消耗资源的，生成随机参数进行密钥交换强加密传输数据都是要进行大量运算的，如果只是为了短暂的一次性连 接，那么就有些太浪费了）：当完成更新中继节点信息之后，客户端不必切断连接，而是可以直接把原来的TLS连接「拔出来」再继续组成电路（意思是原来的 TLS连接的参数还可以继续使用，而不用又重新计算生成）得到中继节点信息之后，电路构造过程就正式开始了！<br /> &nbsp; &nbsp; &nbsp; &nbsp;<strong>对了，诸位猜一下，Tor电路会是怎样的呢？会怎样进行构造呢？</strong><br /> &nbsp; &nbsp; &nbsp; &nbsp;“既然是个三重代理……要么是这样一个过程：onionproxy先将数据加密传送到入口节点，然后入口节点又加密传送到中间节点，中间节点又加密传输 到出口节点，在HTTP的情况下这三个节点都能看到明文（一般的代理就是这样的）？”我说，你不觉得这样非常不安全吗？要是其中有哪一个节点被攻破或者是 蜜罐，那么你可就呵呵了！还有就是如果不进行特别设置的话，后面两个代理也是知道用户数据流的真实来源的（真实IP），也就是说安全性还是相当于一重代 理！那么，Tor究竟是怎么做的呢？<br /> &nbsp; &nbsp; &nbsp; &nbsp;“哪个节点都不可信，像洋葱一样”这就是Tor环路的核心思想所在：和普通的TCP流不同（Tor工作在TCP流之上），Tor协议把通信数据打包为了 一个个特殊的cell：一开始建立Tor电路时，本机上的onionproxy向入口节点发送createcell进行TLShandshake，这一过 程的身份认证过程是基于数字证书的：Tor有着自己的一套数字证书系统，每一个洋葱路由（就是节点）都有一个用于签发证书的身份密钥和用于解密用户的电路 建立请求以及协商出一个用于后续通信的（使用时间）短暂的密钥。当节点之间进行通信时，这个特制的TLS协议还会建立短期连接密钥，而且这一密钥会周期性 的独立发生变化以最大限度降低密钥泄露带来的风险<br /> Tor电路默认由客户端和三个节点组成，那么我们就来看看在这种情况下Tor电路究竟是怎样建立的吧：<br /> &nbsp; &nbsp; &nbsp;&nbsp; Tor是这么做的：客户端最先发过去的relaycell1是入口节点与中间节点建立TLS连接时所需要的参数，接着发过去的relaycell2是中间节点与出口节点建立TLS连接时所需要的参数，接下来是只有目标网站和对应端口信息的relaycell3， 在返回表明已成功建立环路的relaycell4之后才会真正开始发送包含用户信息的relaycell5。这一过程中relaycell1被一重加密， 到了入口节点之后就被解密，再用来与中间节点完成握手；relaycell2被两重加密，到了入口节点时第一重加密解除，到了中间节点时第二重加密解除， 中间节点可以看到明文，用来与出口节点完成握手；relaycell3被三重加密，只有出口节点能看到明文，被用来与目标网站建立连接。同样 relaycell5也是三重加密的，只有出口节点能看到明文（HTTP）。<br /> &nbsp; &nbsp; &nbsp; &nbsp;「就像洋葱一样」，对，用户数据就像洋葱一样，被层层包裹着，只有到了终点包裹才会解开。在这一过程中，只有入口节点知道用户的真实IP地址，出口节点 知道用户的目的地和传输内容（HTTP），Tor电路的cell里没有其他任何关于用户真实身份的信息（这里不考虑cookie和flash插件等应用层 协议和程序带来的隐私问题（这些也不是Tor本身能够左右的，Tor使用的是在传输层之上应用层之下的SOCKS代理，无法操纵修改上层协议，但这也使得 Tor能成为很多软件的代理，不被应用层协议们所左右），只针对于传输过程而言）「似乎有哪里不对呢：如果说这几重加密都是预设的参数，那么一是做不到完 全随机了（一定要人为去划分入口节点中间节点出口节点才能做到事先内置相应的解密密钥），二是一旦密钥泄露后果就会相当严重的。但如果不是预设参数而是每 次连接时都随机协商，那么又该怎么做呢？」「你说得没错，Tor电路中的节点们并没有预设参数，而是采取了「半握手」的方法：在diffie- hellman算法的帮助之下，onionproxy和中间节点通过入口节点的中介交换了参数，然后就能各自算出私钥用于后续通信而不用担心有人监听，入 口节点虽然知道这两个参数，但也根本没办法算出私钥来，这是diffie-hellman算法设计时所保证的」。同理也可以与出口节点安全通信，客户端最 里面一层的加密只有出口节点能够解开，入口节点和中间节点都看不到只有出口节点才能看到的内容。<br /> &nbsp; &nbsp; &nbsp; &nbsp;<strong>那么，Tor在建立电路时又是怎么选择节点的呢？</strong><br /> &nbsp; &nbsp; &nbsp; &nbsp;借助算法随机选择，没错，但“一次性随机选择三个节点”，错了！<br /> &nbsp; &nbsp; &nbsp; &nbsp;Tor客户端先随机选择一个入口节点，然后入口节点再随机选择一个中间节点，中间节点又随机选择一个出口节点，这样来最大限度实现随机建立电路。而且 Tor还有一个更特别的地方：很多用户的流量可以被整合到一个TLS连接里同时传输！看起来就像一个用户一样！这样一来，匿名程度更高了，但很多时 候又会带来一件麻烦事：很多用户的来自同一个IP的大量流量都同时指向同一个网站（例如google），看上去非常像是DoS（拒绝服务）攻击，此时就会 触发网站的防御机制，网站会要求用户输入验证码，非常烦人。<br /> “可爱的洋葱头很努力啊。”现在谁还会说Tor只是一个三重代理呢？</p>
<p>TOR有三点最为特别：<br /> &nbsp; &nbsp; &nbsp; &nbsp; 1、一个TOR环路可以被很多人同时使用，说的具体一点，hop与hop之间的每个TLS连接都包括了很多不同用户的TCP数据流；<br /> &nbsp; &nbsp; &nbsp; &nbsp; 2、TOR客户端随机选择了入口节点，入口节点随机选择了中间节点，中间节点又随机选择了出口节点。对，是由精心设计过的算法保证随机选择的，没有规律可 循（不过后来发现这算法造成了很搞笑的情景：某一条环路上的三个hop有很多用户，都塞车了，但另一条环路上的三个hop用户数少得可怜，所以后来又基于 hop的用户数对算法进行了改进）</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3、TOR拥有独立于操作系统和浏览器的严格的基于数字证书的身份认证机制。这一点很重要，如果TOR的身份认 证机制和特定的操作系统或浏览器有了关联，那就意味着用户将不得不为了使用TOR而更换浏览器或操作系统。</p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>通过SSL证书公开ToR服务的公共IP</title>
		<link>https://uzzz.org/article/1168.html</link>
				<pubDate>Fri, 30 Nov 2018 13:42:01 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1168.html</guid>
				<description><![CDATA[洋葱路由器 也被称为ToR，是一种互联网服务，通过在多个中继上跳跃连接，为用户提供匿名互联网冲浪。通过这样做，ToR用户可以避免向他们访问的服务器公开他们的IP地址。相反，这些服务器只看到Tor的一个退出节点的IP地址。但TOR不仅在用户访问Google.com或Facebook.com等网站时保护他们。 对于希望保持匿名的用户来说，Tor网络上的另一个选项]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<h3>洋葱路由器</h3>
<p>也被称为ToR，是一种互联网服务，通过在多个中继上跳跃连接，为用户提供匿名互联网冲浪。通过这样做，ToR用户可以避免向他们访问的服务器公开他们的IP地址。相反，这些服务器只看到Tor的一个退出节点的IP地址。但TOR不仅在用户访问Google.com或Facebook.com等网站时保护他们。</p>
<p>对于希望保持匿名的用户来说，Tor网络上的另一个选项是Tor隐藏服务。<br /> 只能使用Tor技术访问它们，您可以通过它们使用.onon扩展名来识别它们。<br /> 与人们的普遍看法相反，这些网站不仅用于可疑活动，而且还用于正当目的。<br /> 事实上，您每天使用的许多网站也可以使用类似的隐藏服务访问，以便为重视匿名的用户提供服务。<br /> 例如，只要您目前正在使用ToR，就可以通过https://www.nytimes3xbfgragh.onion或https://facebookcorewwwi.onion，访问“纽约时报”。<br /> 网站所有者的另一个优势是，您的用户无法找到您的服务器的真正IP。<br /> 这对隐私来说是一个巨大的胜利，使得审查或删除隐藏的服务变得很困难。<br /> 为了运行这样的服务，除了调整ToR的一系列设置外，您还需要在将托管您的网站的计算机上设置一个类似Apache或Nginx的Web服务器。<br /> 我们讨论的漏洞将允许任何人查找隐藏服务的真实IP，该漏洞是由于ToR设置中的错误配置而产生的。</p>
<h3>Tor上SSL设置中的常见错误</h3>
<p>好的，如果你在使用Tor，那么你很明显关心保持网络上的匿名性。<br /> 让我们假设您实现了TLS/SSL来保护ToR服务。<br /> 要做到这一点，您必须获得由证书颁发机构签名的.onon扩展名的网站证书。<br /> 让我们假设您的服务URL是examplewwwi.onon。<br /> 当有人请求网站时，服务器向ClientHello请求发送ServerHello响应中的加密数据和证书。<br /> 证书中的公共名称(CN)区域将说明您的域examplewwwi.onon。<br /> 假设您使用的是Web服务器服务，例如Apache、Nginx或类似的服务，但是您错误地配置它来侦听到达网络接口(0.0.0.0)的所有连接，而不是环回地址(127.0.0.1)。<br /> 这将对您的Web服务器的匿名性产生灾难性的影响。<br /> 在下一节中，让我们来看看原因。</p>
<h3>公开您正在使用的ToR服务的公共IP</h3>
<p>任何试图从您的服务器的公共非ToR IP地址到达端口443的人都将看到证书和CN中的.onon域，该域位于提供给ClientHello消息的ServerHello响应中。<br /> 您可能想知道，当您使用ToR时，人们如何才能发现您的公共IP。<br /> 如果我们假设攻击者使用此方法访问您的个人数据：</p>
<ol>
<li>它们通过端口443向IP范围(例如75.30.203.1-75.30.203.254)发送连接请求。</li>
<li>他们发送ClientHello消息。</li>
<li>他们提取ServerHello消息中的CN。</li>
<li>他们将IP与.onon域相匹配。</li>
</ol>
<p>通过反复这样做，他们能够使用ToR网络访问许多网站的数据。</p>
<h3>结论</h3>
<p>确保你的安全需要注意和注意新的攻击方法。根据RosselynBarRoyeta最近的研究，即使在使用最安全的服务时，错误的配置也会使您暴露。她对错误配置可能产生的影响以及如何导致IP地址泄漏进行了现场演示。</p>
<p> 详情请见IP‘s públicas de Tor son Expuestas mediantCertiados SSL。</p>
<p>&nbsp;</p>
<p>译自：<a href="https://www.netsparker.com/blog/web-security/exposing-public-ips-tor-services-through-ssl-certificates/" rel="nofollow" data-token="0a3a943d179fd260ffd040de71c3da2b">https://www.netsparker.com/blog/web-security/exposing-public-ips-tor-services-through-ssl-certificates/</a></p>
</p></div>
</div>
]]></content:encoded>
										</item>
		<item>
		<title>使用tor之后本地连不上网</title>
		<link>https://uzzz.org/article/1119.html</link>
				<pubDate>Thu, 15 Nov 2018 09:57:11 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[网络]]></category>

		<guid isPermaLink="false">http://wp.uzzz.org/article/1119.html</guid>
				<description><![CDATA[问题：使用tor连接成功之后，再断开本机就无法联网了，用别的电脑测试，网络线路没有问题 解决：将驱动回退到之前版本再更新，亲测问题解决。]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div class="htmledit_views" id="content_views">
<p>问题：使用tor连接成功之后，再断开本机就无法联网了，用别的电脑测试，网络线路没有问题</p>
<p>解决：将驱动回退到之前版本再更新，亲测问题解决。</p>
</p></div>
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
