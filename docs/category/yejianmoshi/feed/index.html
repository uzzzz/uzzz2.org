<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>夜间模式 &#8211; 有组织在!</title>
	<atom:link href="https://uzzz.org/category/yejianmoshi/feed" rel="self" type="application/rss+xml" />
	<link>http://uzzz.org/</link>
	<description></description>
	<lastBuildDate>Thu, 20 Sep 2018 08:10:01 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.4</generator>

<image>
	<url>https://uzzz.org/wp-content/uploads/2019/10/cropped-icon-32x32.png</url>
	<title>夜间模式 &#8211; 有组织在!</title>
	<link>http://uzzz.org/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>夜间模式实现简单步骤，可有立竿见影之效果</title>
		<link>https://uzzz.org/article/1453.html</link>
				<pubDate>Thu, 20 Sep 2018 08:10:01 +0000</pubDate>
		<dc:creator><![CDATA[fandyvon]]></dc:creator>
				<category><![CDATA[androd]]></category>
		<category><![CDATA[夜间模式]]></category>

		<guid isPermaLink="false">https://uzzz.org/article/1453.html</guid>
				<description><![CDATA[这是一个简单的夜间模式实现方式， 步骤简单。可供初学者使用 首先下载https://download.csdn.net/download/qq_41762084/10678900这是一个deme类型的jar; 使用前请安步骤操作 第一步创建 values文件下的 atts.xml 设置颜色切换状态的名字 &#60;?xml version="1.0" encoding="utf-8"?&#62; &#60;resources&#62; &#60;attr name="zzbackground" format="color&#124;reference"/&#62; &#60;attr name="zzbackgroundDrawable" format="reference"/&#62; &#60;attr name="zztextColor" format="color"/&#62; &#60;attr name="zzItemBackground" format="color"/&#62; &#60;attr name="hui_yijian" format="color"/&#62; &#60;attr name="hui_item" format="color"/&#62; &#60;attr name="colorAccent" format="color"/&#62; &#60;/resources&#62; colors.xml 配置需要用到的颜色 &#60;?xml version="1.0" encoding="utf-8"?&#62; &#60;resources&#62; &#60;color name="colorPrimary"&#62;#3F51B5&#60;/color&#62; &#60;color name="colorPrimaryDark"&#62;#303F9F&#60;/color&#62; &#60;color name="colorAccent"&#62;#EB3F3B&#60;/color&#62; &#60;color name="red"&#62;#DA2C15&#60;/color&#62; &#60;color name="red1"&#62;#DD403B&#60;/color&#62; &#60;color name="hui"&#62;#FF331515&#60;/color&#62; &#60;color name="hui1"&#62;#5B5B5B&#60;/color&#62; &#60;color name="hui2"&#62;#B5B4B4&#60;/color&#62; &#60;color name="white"&#62;#FFFFFF&#60;/color&#62; &#60;color name="black"&#62;#000000&#60;/color&#62; &#60;color name="ceng"&#62;#DD403B&#60;/color&#62; &#60;color name="hui_yijian01"&#62;#746464&#60;/color&#62; &#60;color name="ceng1"&#62;#FF9000&#60;/color&#62; &#60;color name="black1"&#62;#3A3A3A&#60;/color&#62; &#60;color name="colorPrimaryNight"&#62;#263238&#60;/color&#62; &#60;color name="colorPrimaryDarkNight"&#62;#1E282D&#60;/color&#62; &#60;color name="colorAccentNight"&#62;#73432A&#60;/color&#62; &#60;color name="dayBackground"&#62;#F2F4F7&#60;/color&#62; &#60;color name="dayTextColor"&#62;#000&#60;/color&#62; &#60;color name="dayItemBackground"&#62;#fff&#60;/color&#62; &#60;color name="nightItemBackground"&#62;#37474F&#60;/color&#62; &#60;color name="nightBackground"&#62;#263238&#60;/color&#62; &#60;color name="nightTextColor"&#62;#fff&#60;/color&#62; //白黑 &#60;color name="set_title_white"&#62;#ef3919&#60;/color&#62; &#60;color name="set_title_black"&#62;#792929&#60;/color&#62; &#60;/resources&#62; 在 styles.xml 配置夜间和白天的模式 &#60;resources&#62; &#60;!-- Base application theme. --&#62; &#60;style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar"&#62; &#60;!-- Customize your theme here. --&#62; &#60;item name="colorPrimary"&#62;@color/colorPrimary&#60;/item&#62; &#60;item name="colorPrimaryDark"&#62;@color/colorPrimaryDark&#60;/item&#62; &#60;item name="colorAccent"&#62;@color/colorAccent&#60;/item&#62; &#60;item name="windowActionBar"&#62;false&#60;/item&#62; &#60;item name="android:windowNoTitle"&#62;true&#60;/item&#62; &#60;item name="windowNoTitle"&#62;true&#60;/item&#62; &#60;/style&#62; &#60;style name="DayTheme" parent="AppTheme"&#62; &#60;item name="zzbackground"&#62;@color/dayBackground&#60;/item&#62;// &#60;item name="zzbackgroundDrawable"&#62;@drawable/ic_launcher_foreground&#60;/item&#62; &#60;item name="zztextColor"&#62;@color/dayTextColor&#60;/item&#62; &#60;item name="zzItemBackground"&#62;@color/dayItemBackground&#60;/item&#62; &#60;item name="hui_item"&#62;@color/hui&#60;/item&#62; &#60;item name="hui_yijian"&#62;@color/hui_yijian01&#60;/item&#62; &#60;/style&#62; &#60;style name="NightTheme" parent="AppTheme"&#62; &#60;item name="hui_yijian"&#62;@color/dayItemBackground&#60;/item&#62; &#60;item name="hui_item"&#62;@color/dayItemBackground&#60;/item&#62; &#60;item name="zzbackground"&#62;@color/nightBackground&#60;/item&#62; &#60;item name="zzbackgroundDrawable"&#62;@color/nightBackground&#60;/item&#62; &#60;item name="zztextColor"&#62;@color/nightTextColor&#60;/item&#62; &#60;item name="zzItemBackground"&#62;@color/nightItemBackground&#60;/item&#62; &#60;item name="colorPrimary"&#62;@color/colorPrimaryNight&#60;/item&#62; &#60;item name="colorPrimaryDark"&#62;@color/colorPrimaryDarkNight&#60;/item&#62; &#60;item name="colorAccent"&#62;@color/colorAccentNight&#60;/item&#62; &#60;/style&#62; &#60;style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" /&#62; &#60;style name="AppTheme.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" /&#62; &#60;/resources&#62; 做完以上操作后 接下来需要在xml布局里设置布局的背景 记住 每一个可以看见的布局都应该设置背景， 具体操作如下 &#60;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent"]]></description>
								<content:encoded><![CDATA[<div id="article_content" class="article_content clearfix">
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-3019150162.css">
<div id="content_views" class="markdown_views prism-atom-one-dark">
  <!-- flowchart 箭头图标 勿删 --><br />
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> </p>
<p>这是一个简单的夜间模式实现方式，<br /> 步骤简单。可供初学者使用<br /> 首先下载<a href="https://download.csdn.net/download/qq_41762084/10678900" rel="nofollow" data-token="c7a33c6c89ae51ec564e2ed0e2a26e54">https://download.csdn.net/download/qq_41762084/10678900</a>这是一个deme类型的jar;<br /> 使用前请安步骤操作<br /> 第一步创建<br /> values文件下的<br /> atts.xml<br /> 设置颜色切换状态的名字</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
                &lt;attr name="zzbackground" format="color|reference"/&gt;
                &lt;attr name="zzbackgroundDrawable" format="reference"/&gt;
                &lt;attr name="zztextColor" format="color"/&gt;
                &lt;attr name="zzItemBackground" format="color"/&gt;
                &lt;attr name="hui_yijian" format="color"/&gt;
                &lt;attr name="hui_item" format="color"/&gt;
                &lt;attr name="colorAccent" format="color"/&gt;
                &lt;/resources&gt;
</code></pre>
<p>colors.xml<br /> 配置需要用到的颜色</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;color name="colorPrimary"&gt;#3F51B5&lt;/color&gt;
    &lt;color name="colorPrimaryDark"&gt;#303F9F&lt;/color&gt;
    &lt;color name="colorAccent"&gt;#EB3F3B&lt;/color&gt;
    &lt;color name="red"&gt;#DA2C15&lt;/color&gt;
    &lt;color name="red1"&gt;#DD403B&lt;/color&gt;
    &lt;color name="hui"&gt;#FF331515&lt;/color&gt;
    &lt;color name="hui1"&gt;#5B5B5B&lt;/color&gt;
    &lt;color name="hui2"&gt;#B5B4B4&lt;/color&gt;
    &lt;color name="white"&gt;#FFFFFF&lt;/color&gt;
    &lt;color name="black"&gt;#000000&lt;/color&gt;
    &lt;color name="ceng"&gt;#DD403B&lt;/color&gt;

    &lt;color name="hui_yijian01"&gt;#746464&lt;/color&gt;

    &lt;color name="ceng1"&gt;#FF9000&lt;/color&gt;
    &lt;color name="black1"&gt;#3A3A3A&lt;/color&gt;
    &lt;color name="colorPrimaryNight"&gt;#263238&lt;/color&gt;
    &lt;color name="colorPrimaryDarkNight"&gt;#1E282D&lt;/color&gt;
    &lt;color name="colorAccentNight"&gt;#73432A&lt;/color&gt;

    &lt;color name="dayBackground"&gt;#F2F4F7&lt;/color&gt;
    &lt;color name="dayTextColor"&gt;#000&lt;/color&gt;
    &lt;color name="dayItemBackground"&gt;#fff&lt;/color&gt;

    &lt;color name="nightItemBackground"&gt;#37474F&lt;/color&gt;
    &lt;color name="nightBackground"&gt;#263238&lt;/color&gt;
    &lt;color name="nightTextColor"&gt;#fff&lt;/color&gt;
    //白黑
    &lt;color name="set_title_white"&gt;#ef3919&lt;/color&gt;
    &lt;color name="set_title_black"&gt;#792929&lt;/color&gt;

&lt;/resources&gt;
</code></pre>
<p>在<br /> styles.xml<br /> 配置夜间和白天的模式</p>
<pre><code>&lt;resources&gt;
    &lt;!-- Base application theme. --&gt;
    &lt;style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar"&gt;
        &lt;!-- Customize your theme here. --&gt;
        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;
        &lt;item name="windowActionBar"&gt;false&lt;/item&gt;
        &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
        &lt;item name="windowNoTitle"&gt;true&lt;/item&gt;
    &lt;/style&gt;
    &lt;style name="DayTheme" parent="AppTheme"&gt;
        &lt;item name="zzbackground"&gt;@color/dayBackground&lt;/item&gt;//
        &lt;item name="zzbackgroundDrawable"&gt;@drawable/ic_launcher_foreground&lt;/item&gt;
        &lt;item name="zztextColor"&gt;@color/dayTextColor&lt;/item&gt;
        &lt;item name="zzItemBackground"&gt;@color/dayItemBackground&lt;/item&gt;
        &lt;item name="hui_item"&gt;@color/hui&lt;/item&gt;
        &lt;item name="hui_yijian"&gt;@color/hui_yijian01&lt;/item&gt;

    &lt;/style&gt;
    &lt;style name="NightTheme" parent="AppTheme"&gt;
        &lt;item name="hui_yijian"&gt;@color/dayItemBackground&lt;/item&gt;
        &lt;item name="hui_item"&gt;@color/dayItemBackground&lt;/item&gt;
        &lt;item name="zzbackground"&gt;@color/nightBackground&lt;/item&gt;
        &lt;item name="zzbackgroundDrawable"&gt;@color/nightBackground&lt;/item&gt;
        &lt;item name="zztextColor"&gt;@color/nightTextColor&lt;/item&gt;
        &lt;item name="zzItemBackground"&gt;@color/nightItemBackground&lt;/item&gt;

        &lt;item name="colorPrimary"&gt;@color/colorPrimaryNight&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDarkNight&lt;/item&gt;
        &lt;item name="colorAccent"&gt;@color/colorAccentNight&lt;/item&gt;
    &lt;/style&gt;
    &lt;style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" /&gt;
    &lt;style name="AppTheme.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" /&gt;

&lt;/resources&gt;
</code></pre>
<p>做完以上操作后<br /> 接下来需要在xml布局里设置布局的背景<br /> 记住<br /> 每一个可以看见的布局都应该设置背景，<br /> 具体操作如下</p>
<pre><code>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:layout_marginTop="@dimen/x9"
    android:background="?attr/zzbackground"
    app:backgroundAttr="zzbackground"
   &gt;
           &lt;TextView
            android:layout_centerVertical="true"
            android:id="@+id/item_grxx"
            android:layout_width="match_parent"
            android:layout_height="@dimen/x20"
            android:layout_margin="@dimen/x9"
            android:gravity="center_vertical"
            android:text="个人信息"
            android:background="?attr/zzItemBackground"
            app:backgroundAttr="zzItemBackground"
            android:textColor="?attr/hui_item"
            app:textColorAttr="hui_item"
            tools:ignore="MissingPrefix" /&gt;
    &lt;/LinearLayout&gt;
</code></pre>
<p>在需要操作的Activity里的<br /> onCreate方法下面一行<br /> 添加如下代码：</p>
<pre><code> ChangeModeController.getInstance().init(this, R.attr.class).setTheme(this, R.style.DayTheme, R.style.NightTheme);
        
</code></pre>
<p>设置监听按钮</p>
<pre><code> if (is) {
                //第二步 设置切换
                Toast.makeText(context, "夜间模式开", Toast.LENGTH_SHORT).show();
                ChangeModeController.changeNight((Activity) context, R.style.NightTheme);
                ChangeModeController.getAttrTypedValue((Activity) context, R.attr.zztextColor);
                bo(is);
            } else {
                bo(is);
                ChangeModeController.changeDay((Activity) context, R.style.DayTheme);
                ChangeModeController.getAttrTypedValue((Activity) context, R.attr.zztextColor);
                Toast.makeText(context, "夜间模式关", Toast.LENGTH_SHORT).show();

            }
</code></pre>
<p>在onDstroy里设置</p>
<pre><code>@Override
    protected void onDestroy() {
        super.onDestroy();
        //第三步   在onDestroy调用
        ChangeModeController.onDestory();
    }
</code></pre>
<p>以上都是操作步骤，没有讲实现原理，但是可以达到立竿见影的效果<br /> 如有不懂的地方，可以留言交流，里面不足，望大家多多批评指正</p>
</p></div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-e9f16cbbc2.css" rel="stylesheet">
</div>
]]></content:encoded>
										</item>
	</channel>
</rss>
